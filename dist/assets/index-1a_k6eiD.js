(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function T0(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const pt={},Fu=[],Ri=()=>{},K$=()=>!1,Lv=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),I0=t=>t.startsWith("onUpdate:"),mn=Object.assign,S0=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},W$=Object.prototype.hasOwnProperty,Ge=(t,e)=>W$.call(t,e),Ae=Array.isArray,Uu=t=>Mv(t)==="[object Map]",KO=t=>Mv(t)==="[object Set]",Re=t=>typeof t=="function",Wt=t=>typeof t=="string",kc=t=>typeof t=="symbol",_t=t=>t!==null&&typeof t=="object",WO=t=>(_t(t)||Re(t))&&Re(t.then)&&Re(t.catch),GO=Object.prototype.toString,Mv=t=>GO.call(t),G$=t=>Mv(t).slice(8,-1),zO=t=>Mv(t)==="[object Object]",A0=t=>Wt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,vp=T0(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Fv=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},z$=/-(\w)/g,Vi=Fv(t=>t.replace(z$,(e,n)=>n?n.toUpperCase():"")),Y$=/\B([A-Z])/g,Rc=Fv(t=>t.replace(Y$,"-$1").toLowerCase()),Uv=Fv(t=>t.charAt(0).toUpperCase()+t.slice(1)),U_=Fv(t=>t?`on${Uv(t)}`:""),ya=(t,e)=>!Object.is(t,e),gp=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},xp=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Ww=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let pN;const Gw=()=>pN||(pN=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function C0(t){if(Ae(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Wt(r)?Z$(r):C0(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(Wt(t)||_t(t))return t}const Q$=/;(?![^(]*\))/g,X$=/:([^]+)/,J$=/\/\*[^]*?\*\//g;function Z$(t){const e={};return t.replace(J$,"").split(Q$).forEach(n=>{if(n){const r=n.split(X$);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function N0(t){let e="";if(Wt(t))e=t;else if(Ae(t))for(let n=0;n<t.length;n++){const r=N0(t[n]);r&&(e+=r+" ")}else if(_t(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const eq="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",tq=T0(eq);function YO(t){return!!t||t===""}const sae=t=>Wt(t)?t:t==null?"":Ae(t)||_t(t)&&(t.toString===GO||!Re(t.toString))?JSON.stringify(t,QO,2):String(t),QO=(t,e)=>e&&e.__v_isRef?QO(t,e.value):Uu(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[V_(r,s)+" =>"]=i,n),{})}:KO(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>V_(n))}:kc(e)?V_(e):_t(e)&&!Ae(e)&&!zO(e)?String(e):e,V_=(t,e="")=>{var n;return kc(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};let ni;class nq{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ni,!e&&ni&&(this.index=(ni.scopes||(ni.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=ni;try{return ni=this,e()}finally{ni=n}}}on(){ni=this}off(){ni=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function rq(t,e=ni){e&&e.active&&e.effects.push(t)}function iq(){return ni}const k0=t=>{const e=new Set(t);return e.w=0,e.n=0,e},XO=t=>(t.w&rs)>0,JO=t=>(t.n&rs)>0,oq=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=rs},sq=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];XO(i)&&!JO(i)?i.delete(t):e[n++]=i,i.w&=~rs,i.n&=~rs}e.length=n}},zw=new WeakMap;let Yl=0,rs=1;const Yw=30;let ii;const ua=Symbol(""),Qw=Symbol("");class R0{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,rq(this,r)}run(){if(!this.active)return this.fn();let e=ii,n=Qo;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=ii,ii=this,Qo=!0,rs=1<<++Yl,Yl<=Yw?oq(this):vN(this),this.fn()}finally{Yl<=Yw&&sq(this),rs=1<<--Yl,ii=this.parent,Qo=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){ii===this?this.deferStop=!0:this.active&&(vN(this),this.onStop&&this.onStop(),this.active=!1)}}function vN(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Qo=!0;const ZO=[];function Oc(){ZO.push(Qo),Qo=!1}function Dc(){const t=ZO.pop();Qo=t===void 0?!0:t}function sr(t,e,n){if(Qo&&ii){let r=zw.get(t);r||zw.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=k0()),eD(i)}}function eD(t,e){let n=!1;Yl<=Yw?JO(t)||(t.n|=rs,n=!XO(t)):n=!t.has(ii),n&&(t.add(ii),ii.deps.push(t))}function uo(t,e,n,r,i,s){const a=zw.get(t);if(!a)return;let c=[];if(e==="clear")c=[...a.values()];else if(n==="length"&&Ae(t)){const l=Number(r);a.forEach((h,d)=>{(d==="length"||!kc(d)&&d>=l)&&c.push(h)})}else switch(n!==void 0&&c.push(a.get(n)),e){case"add":Ae(t)?A0(n)&&c.push(a.get("length")):(c.push(a.get(ua)),Uu(t)&&c.push(a.get(Qw)));break;case"delete":Ae(t)||(c.push(a.get(ua)),Uu(t)&&c.push(a.get(Qw)));break;case"set":Uu(t)&&c.push(a.get(ua));break}if(c.length===1)c[0]&&Xw(c[0]);else{const l=[];for(const h of c)h&&l.push(...h);Xw(k0(l))}}function Xw(t,e){const n=Ae(t)?t:[...t];for(const r of n)r.computed&&gN(r);for(const r of n)r.computed||gN(r)}function gN(t,e){(t!==ii||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const aq=T0("__proto__,__v_isRef,__isVue"),tD=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(kc)),mN=uq();function uq(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=Ze(this);for(let s=0,a=this.length;s<a;s++)sr(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(Ze)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Oc();const r=Ze(this)[e].apply(this,n);return Dc(),r}}),t}function cq(t){const e=Ze(this);return sr(e,"has",t),e.hasOwnProperty(t)}class nD{constructor(e=!1,n=!1){this._isReadonly=e,this._shallow=n}get(e,n,r){const i=this._isReadonly,s=this._shallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?Eq:sD:s?oD:iD).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const a=Ae(e);if(!i){if(a&&Ge(mN,n))return Reflect.get(mN,n,r);if(n==="hasOwnProperty")return cq}const c=Reflect.get(e,n,r);return(kc(n)?tD.has(n):aq(n))||(i||sr(e,"get",n),s)?c:ar(c)?a&&A0(n)?c:c.value:_t(c)?i?uD(c):jv(c):c}}class rD extends nD{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._shallow){const l=Wu(s);if(!Lp(r)&&!Wu(r)&&(s=Ze(s),r=Ze(r)),!Ae(e)&&ar(s)&&!ar(r))return l?!1:(s.value=r,!0)}const a=Ae(e)&&A0(n)?Number(n)<e.length:Ge(e,n),c=Reflect.set(e,n,r,i);return e===Ze(i)&&(a?ya(r,s)&&uo(e,"set",n,r):uo(e,"add",n,r)),c}deleteProperty(e,n){const r=Ge(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&uo(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!kc(n)||!tD.has(n))&&sr(e,"has",n),r}ownKeys(e){return sr(e,"iterate",Ae(e)?"length":ua),Reflect.ownKeys(e)}}class lq extends nD{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const fq=new rD,hq=new lq,dq=new rD(!0),O0=t=>t,Vv=t=>Reflect.getPrototypeOf(t);function jd(t,e,n=!1,r=!1){t=t.__v_raw;const i=Ze(t),s=Ze(e);n||(ya(e,s)&&sr(i,"get",e),sr(i,"get",s));const{has:a}=Vv(i),c=r?O0:n?x0:wf;if(a.call(i,e))return c(t.get(e));if(a.call(i,s))return c(t.get(s));t!==i&&t.get(e)}function Bd(t,e=!1){const n=this.__v_raw,r=Ze(n),i=Ze(t);return e||(ya(t,i)&&sr(r,"has",t),sr(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function $d(t,e=!1){return t=t.__v_raw,!e&&sr(Ze(t),"iterate",ua),Reflect.get(t,"size",t)}function yN(t){t=Ze(t);const e=Ze(this);return Vv(e).has.call(e,t)||(e.add(t),uo(e,"add",t,t)),this}function _N(t,e){e=Ze(e);const n=Ze(this),{has:r,get:i}=Vv(n);let s=r.call(n,t);s||(t=Ze(t),s=r.call(n,t));const a=i.call(n,t);return n.set(t,e),s?ya(e,a)&&uo(n,"set",t,e):uo(n,"add",t,e),this}function wN(t){const e=Ze(this),{has:n,get:r}=Vv(e);let i=n.call(e,t);i||(t=Ze(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&uo(e,"delete",t,void 0),s}function bN(){const t=Ze(this),e=t.size!==0,n=t.clear();return e&&uo(t,"clear",void 0,void 0),n}function qd(t,e){return function(r,i){const s=this,a=s.__v_raw,c=Ze(a),l=e?O0:t?x0:wf;return!t&&sr(c,"iterate",ua),a.forEach((h,d)=>r.call(i,l(h),l(d),s))}}function Hd(t,e,n){return function(...r){const i=this.__v_raw,s=Ze(i),a=Uu(s),c=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,h=i[t](...r),d=n?O0:e?x0:wf;return!e&&sr(s,"iterate",l?Qw:ua),{next(){const{value:v,done:g}=h.next();return g?{value:v,done:g}:{value:c?[d(v[0]),d(v[1])]:d(v),done:g}},[Symbol.iterator](){return this}}}}function Lo(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function pq(){const t={get(s){return jd(this,s)},get size(){return $d(this)},has:Bd,add:yN,set:_N,delete:wN,clear:bN,forEach:qd(!1,!1)},e={get(s){return jd(this,s,!1,!0)},get size(){return $d(this)},has:Bd,add:yN,set:_N,delete:wN,clear:bN,forEach:qd(!1,!0)},n={get(s){return jd(this,s,!0)},get size(){return $d(this,!0)},has(s){return Bd.call(this,s,!0)},add:Lo("add"),set:Lo("set"),delete:Lo("delete"),clear:Lo("clear"),forEach:qd(!0,!1)},r={get(s){return jd(this,s,!0,!0)},get size(){return $d(this,!0)},has(s){return Bd.call(this,s,!0)},add:Lo("add"),set:Lo("set"),delete:Lo("delete"),clear:Lo("clear"),forEach:qd(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Hd(s,!1,!1),n[s]=Hd(s,!0,!1),e[s]=Hd(s,!1,!0),r[s]=Hd(s,!0,!0)}),[t,n,e,r]}const[vq,gq,mq,yq]=pq();function D0(t,e){const n=e?t?yq:mq:t?gq:vq;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Ge(n,i)&&i in r?n:r,i,s)}const _q={get:D0(!1,!1)},wq={get:D0(!1,!0)},bq={get:D0(!0,!1)},iD=new WeakMap,oD=new WeakMap,sD=new WeakMap,Eq=new WeakMap;function Tq(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Iq(t){return t.__v_skip||!Object.isExtensible(t)?0:Tq(G$(t))}function jv(t){return Wu(t)?t:P0(t,!1,fq,_q,iD)}function aD(t){return P0(t,!1,dq,wq,oD)}function uD(t){return P0(t,!0,hq,bq,sD)}function P0(t,e,n,r,i){if(!_t(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const a=Iq(t);if(a===0)return t;const c=new Proxy(t,a===2?r:n);return i.set(t,c),c}function Vu(t){return Wu(t)?Vu(t.__v_raw):!!(t&&t.__v_isReactive)}function Wu(t){return!!(t&&t.__v_isReadonly)}function Lp(t){return!!(t&&t.__v_isShallow)}function cD(t){return Vu(t)||Wu(t)}function Ze(t){const e=t&&t.__v_raw;return e?Ze(e):t}function lD(t){return xp(t,"__v_skip",!0),t}const wf=t=>_t(t)?jv(t):t,x0=t=>_t(t)?uD(t):t;function fD(t){Qo&&ii&&(t=Ze(t),eD(t.dep||(t.dep=k0())))}function hD(t,e){t=Ze(t);const n=t.dep;n&&Xw(n)}function ar(t){return!!(t&&t.__v_isRef===!0)}function Sq(t){return dD(t,!1)}function Aq(t){return dD(t,!0)}function dD(t,e){return ar(t)?t:new Cq(t,e)}class Cq{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Ze(e),this._value=n?e:wf(e)}get value(){return fD(this),this._value}set value(e){const n=this.__v_isShallow||Lp(e)||Wu(e);e=n?e:Ze(e),ya(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:wf(e),hD(this))}}function ca(t){return ar(t)?t.value:t}const Nq={get:(t,e,n)=>ca(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return ar(i)&&!ar(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function pD(t){return Vu(t)?t:new Proxy(t,Nq)}class kq{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new R0(e,()=>{this._dirty||(this._dirty=!0,hD(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=Ze(this);return fD(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Rq(t,e,n=!1){let r,i;const s=Re(t);return s?(r=t,i=Ri):(r=t.get,i=t.set),new kq(r,i,s||!i,n)}function Xo(t,e,n,r){let i;try{i=r?t(...r):t()}catch(s){Bv(s,e,n)}return i}function ui(t,e,n,r){if(Re(t)){const s=Xo(t,e,n,r);return s&&WO(s)&&s.catch(a=>{Bv(a,e,n)}),s}const i=[];for(let s=0;s<t.length;s++)i.push(ui(t[s],e,n,r));return i}function Bv(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const a=e.proxy,c=n;for(;s;){const h=s.ec;if(h){for(let d=0;d<h.length;d++)if(h[d](t,a,c)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){Xo(l,null,10,[t,a,c]);return}}Oq(t,n,i,r)}function Oq(t,e,n,r=!0){console.error(t)}let bf=!1,Jw=!1;const In=[];let Ni=0;const ju=[];let ro=null,Gs=0;const vD=Promise.resolve();let L0=null;function gD(t){const e=L0||vD;return t?e.then(this?t.bind(this):t):e}function Dq(t){let e=Ni+1,n=In.length;for(;e<n;){const r=e+n>>>1,i=In[r],s=Ef(i);s<t||s===t&&i.pre?e=r+1:n=r}return e}function M0(t){(!In.length||!In.includes(t,bf&&t.allowRecurse?Ni+1:Ni))&&(t.id==null?In.push(t):In.splice(Dq(t.id),0,t),mD())}function mD(){!bf&&!Jw&&(Jw=!0,L0=vD.then(_D))}function Pq(t){const e=In.indexOf(t);e>Ni&&In.splice(e,1)}function xq(t){Ae(t)?ju.push(...t):(!ro||!ro.includes(t,t.allowRecurse?Gs+1:Gs))&&ju.push(t),mD()}function EN(t,e,n=bf?Ni+1:0){for(;n<In.length;n++){const r=In[n];if(r&&r.pre){if(t&&r.id!==t.uid)continue;In.splice(n,1),n--,r()}}}function yD(t){if(ju.length){const e=[...new Set(ju)];if(ju.length=0,ro){ro.push(...e);return}for(ro=e,ro.sort((n,r)=>Ef(n)-Ef(r)),Gs=0;Gs<ro.length;Gs++)ro[Gs]();ro=null,Gs=0}}const Ef=t=>t.id==null?1/0:t.id,Lq=(t,e)=>{const n=Ef(t)-Ef(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function _D(t){Jw=!1,bf=!0,In.sort(Lq);try{for(Ni=0;Ni<In.length;Ni++){const e=In[Ni];e&&e.active!==!1&&Xo(e,null,14)}}finally{Ni=0,In.length=0,yD(),bf=!1,L0=null,(In.length||ju.length)&&_D()}}function Mq(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||pt;let i=n;const s=e.startsWith("update:"),a=s&&e.slice(7);if(a&&a in r){const d=`${a==="modelValue"?"model":a}Modifiers`,{number:v,trim:g}=r[d]||pt;g&&(i=n.map(y=>Wt(y)?y.trim():y)),v&&(i=n.map(Ww))}let c,l=r[c=U_(e)]||r[c=U_(Vi(e))];!l&&s&&(l=r[c=U_(Rc(e))]),l&&ui(l,t,6,i);const h=r[c+"Once"];if(h){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,ui(h,t,6,i)}}function wD(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let a={},c=!1;if(!Re(t)){const l=h=>{const d=wD(h,e,!0);d&&(c=!0,mn(a,d))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!c?(_t(t)&&r.set(t,null),null):(Ae(s)?s.forEach(l=>a[l]=null):mn(a,s),_t(t)&&r.set(t,a),a)}function $v(t,e){return!t||!Lv(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ge(t,e[0].toLowerCase()+e.slice(1))||Ge(t,Rc(e))||Ge(t,e))}let Or=null,qv=null;function Mp(t){const e=Or;return Or=t,qv=t&&t.type.__scopeId||null,e}function Fq(t){qv=t}function Uq(){qv=null}function Ai(t,e=Or,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&xN(-1);const s=Mp(e);let a;try{a=t(...i)}finally{Mp(s),r._d&&xN(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function j_(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[a],slots:c,attrs:l,emit:h,render:d,renderCache:v,data:g,setupState:y,ctx:w,inheritAttrs:E}=t;let T,A;const O=Mp(t);try{if(n.shapeFlag&4){const x=i||r,B=x;T=Ci(d.call(B,x,v,s,y,g,w)),A=l}else{const x=e;T=Ci(x.length>1?x(s,{attrs:l,slots:c,emit:h}):x(s,null)),A=e.props?l:Vq(l)}}catch(x){ef.length=0,Bv(x,t,1),T=ct(_a)}let P=T;if(A&&E!==!1){const x=Object.keys(A),{shapeFlag:B}=P;x.length&&B&7&&(a&&x.some(I0)&&(A=jq(A,a)),P=Gu(P,A))}return n.dirs&&(P=Gu(P),P.dirs=P.dirs?P.dirs.concat(n.dirs):n.dirs),n.transition&&(P.transition=n.transition),T=P,Mp(O),T}const Vq=t=>{let e;for(const n in t)(n==="class"||n==="style"||Lv(n))&&((e||(e={}))[n]=t[n]);return e},jq=(t,e)=>{const n={};for(const r in t)(!I0(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function Bq(t,e,n){const{props:r,children:i,component:s}=t,{props:a,children:c,patchFlag:l}=e,h=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?TN(r,a,h):!!a;if(l&8){const d=e.dynamicProps;for(let v=0;v<d.length;v++){const g=d[v];if(a[g]!==r[g]&&!$v(h,g))return!0}}}else return(i||c)&&(!c||!c.$stable)?!0:r===a?!1:r?a?TN(r,a,h):!0:!!a;return!1}function TN(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!$v(n,s))return!0}return!1}function $q({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const bD="components";function ED(t,e){return Hq(bD,t,!0,e)||t}const qq=Symbol.for("v-ndc");function Hq(t,e,n=!0,r=!1){const i=Or||fn;if(i){const s=i.type;if(t===bD){const c=LH(s,!1);if(c&&(c===e||c===Vi(e)||c===Uv(Vi(e))))return s}const a=IN(i[t]||s[t],e)||IN(i.appContext[t],e);return!a&&r?s:a}}function IN(t,e){return t&&(t[e]||t[Vi(e)]||t[Uv(Vi(e))])}const Kq=t=>t.__isSuspense;function Wq(t,e){e&&e.pendingBranch?Ae(t)?e.effects.push(...t):e.effects.push(t):xq(t)}const Kd={};function mp(t,e,n){return TD(t,e,n)}function TD(t,e,{immediate:n,deep:r,flush:i,onTrack:s,onTrigger:a}=pt){var c;const l=iq()===((c=fn)==null?void 0:c.scope)?fn:null;let h,d=!1,v=!1;if(ar(t)?(h=()=>t.value,d=Lp(t)):Vu(t)?(h=()=>t,r=!0):Ae(t)?(v=!0,d=t.some(x=>Vu(x)||Lp(x)),h=()=>t.map(x=>{if(ar(x))return x.value;if(Vu(x))return Xs(x);if(Re(x))return Xo(x,l,2)})):Re(t)?e?h=()=>Xo(t,l,2):h=()=>{if(!(l&&l.isUnmounted))return g&&g(),ui(t,l,3,[y])}:h=Ri,e&&r){const x=h;h=()=>Xs(x())}let g,y=x=>{g=O.onStop=()=>{Xo(x,l,4),g=O.onStop=void 0}},w;if(If)if(y=Ri,e?n&&ui(e,l,3,[h(),v?[]:void 0,y]):h(),i==="sync"){const x=UH();w=x.__watcherHandles||(x.__watcherHandles=[])}else return Ri;let E=v?new Array(t.length).fill(Kd):Kd;const T=()=>{if(O.active)if(e){const x=O.run();(r||d||(v?x.some((B,M)=>ya(B,E[M])):ya(x,E)))&&(g&&g(),ui(e,l,3,[x,E===Kd?void 0:v&&E[0]===Kd?[]:E,y]),E=x)}else O.run()};T.allowRecurse=!!e;let A;i==="sync"?A=T:i==="post"?A=()=>er(T,l&&l.suspense):(T.pre=!0,l&&(T.id=l.uid),A=()=>M0(T));const O=new R0(h,A);e?n?T():E=O.run():i==="post"?er(O.run.bind(O),l&&l.suspense):O.run();const P=()=>{O.stop(),l&&l.scope&&S0(l.scope.effects,O)};return w&&w.push(P),P}function Gq(t,e,n){const r=this.proxy,i=Wt(t)?t.includes(".")?ID(r,t):()=>r[t]:t.bind(r,r);let s;Re(e)?s=e:(s=e.handler,n=e);const a=fn;zu(this);const c=TD(i,s.bind(r),n);return a?zu(a):la(),c}function ID(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Xs(t,e){if(!_t(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),ar(t))Xs(t.value,e);else if(Ae(t))for(let n=0;n<t.length;n++)Xs(t[n],e);else if(KO(t)||Uu(t))t.forEach(n=>{Xs(n,e)});else if(zO(t))for(const n in t)Xs(t[n],e);return t}function SN(t,e){const n=Or;if(n===null)return t;const r=Gv(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[a,c,l,h=pt]=e[s];a&&(Re(a)&&(a={mounted:a,updated:a}),a.deep&&Xs(c),i.push({dir:a,instance:r,value:c,oldValue:void 0,arg:l,modifiers:h}))}return t}function Bs(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let a=0;a<i.length;a++){const c=i[a];s&&(c.oldValue=s[a].value);let l=c.dir[r];l&&(Oc(),ui(l,n,8,[t.el,c,t,e]),Dc())}}/*! #__NO_SIDE_EFFECTS__ */function SD(t,e){return Re(t)?mn({name:t.name},e,{setup:t}):t}const yp=t=>!!t.type.__asyncLoader,AD=t=>t.type.__isKeepAlive;function zq(t,e){CD(t,"a",e)}function Yq(t,e){CD(t,"da",e)}function CD(t,e,n=fn){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Hv(e,r,n),n){let i=n.parent;for(;i&&i.parent;)AD(i.parent.vnode)&&Qq(r,e,n,i),i=i.parent}}function Qq(t,e,n,r){const i=Hv(e,t,r,!0);ND(()=>{S0(r[e],i)},n)}function Hv(t,e,n=fn,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...a)=>{if(n.isUnmounted)return;Oc(),zu(n);const c=ui(e,n,t,a);return la(),Dc(),c});return r?i.unshift(s):i.push(s),s}}const wo=t=>(e,n=fn)=>(!If||t==="sp")&&Hv(t,(...r)=>e(...r),n),Xq=wo("bm"),Jq=wo("m"),Zq=wo("bu"),eH=wo("u"),tH=wo("bum"),ND=wo("um"),nH=wo("sp"),rH=wo("rtg"),iH=wo("rtc");function oH(t,e=fn){Hv("ec",t,e)}function aae(t,e,n,r){let i;const s=n&&n[r];if(Ae(t)||Wt(t)){i=new Array(t.length);for(let a=0,c=t.length;a<c;a++)i[a]=e(t[a],a,void 0,s&&s[a])}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s&&s[a])}else if(_t(t))if(t[Symbol.iterator])i=Array.from(t,(a,c)=>e(a,c,void 0,s&&s[c]));else{const a=Object.keys(t);i=new Array(a.length);for(let c=0,l=a.length;c<l;c++){const h=a[c];i[c]=e(t[h],h,c,s&&s[c])}}else i=[];return n&&(n[r]=i),i}const Zw=t=>t?jD(t)?Gv(t)||t.proxy:Zw(t.parent):null,Zl=mn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Zw(t.parent),$root:t=>Zw(t.root),$emit:t=>t.emit,$options:t=>F0(t),$forceUpdate:t=>t.f||(t.f=()=>M0(t.update)),$nextTick:t=>t.n||(t.n=gD.bind(t.proxy)),$watch:t=>Gq.bind(t)}),B_=(t,e)=>t!==pt&&!t.__isScriptSetup&&Ge(t,e),sH={get({_:t},e){const{ctx:n,setupState:r,data:i,props:s,accessCache:a,type:c,appContext:l}=t;let h;if(e[0]!=="$"){const y=a[e];if(y!==void 0)switch(y){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(B_(r,e))return a[e]=1,r[e];if(i!==pt&&Ge(i,e))return a[e]=2,i[e];if((h=t.propsOptions[0])&&Ge(h,e))return a[e]=3,s[e];if(n!==pt&&Ge(n,e))return a[e]=4,n[e];eb&&(a[e]=0)}}const d=Zl[e];let v,g;if(d)return e==="$attrs"&&sr(t,"get",e),d(t);if((v=c.__cssModules)&&(v=v[e]))return v;if(n!==pt&&Ge(n,e))return a[e]=4,n[e];if(g=l.config.globalProperties,Ge(g,e))return g[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return B_(i,e)?(i[e]=n,!0):r!==pt&&Ge(r,e)?(r[e]=n,!0):Ge(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},a){let c;return!!n[a]||t!==pt&&Ge(t,a)||B_(e,a)||(c=s[0])&&Ge(c,a)||Ge(r,a)||Ge(Zl,a)||Ge(i.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ge(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function AN(t){return Ae(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let eb=!0;function aH(t){const e=F0(t),n=t.proxy,r=t.ctx;eb=!1,e.beforeCreate&&CN(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:a,watch:c,provide:l,inject:h,created:d,beforeMount:v,mounted:g,beforeUpdate:y,updated:w,activated:E,deactivated:T,beforeDestroy:A,beforeUnmount:O,destroyed:P,unmounted:x,render:B,renderTracked:M,renderTriggered:ie,errorCaptured:Z,serverPrefetch:Ie,expose:R,inheritAttrs:Je,components:ht,directives:ot,filters:on}=e;if(h&&uH(h,r,null),a)for(const ke in a){const _e=a[ke];Re(_e)&&(r[ke]=_e.bind(n))}if(i){const ke=i.call(n,n);_t(ke)&&(t.data=jv(ke))}if(eb=!0,s)for(const ke in s){const _e=s[ke],Nt=Re(_e)?_e.bind(n,n):Re(_e.get)?_e.get.bind(n,n):Ri,xt=!Re(_e)&&Re(_e.set)?_e.set.bind(n):Ri,zt=oi({get:Nt,set:xt});Object.defineProperty(r,ke,{enumerable:!0,configurable:!0,get:()=>zt.value,set:wt=>zt.value=wt})}if(c)for(const ke in c)kD(c[ke],r,n,ke);if(l){const ke=Re(l)?l.call(n):l;Reflect.ownKeys(ke).forEach(_e=>{_p(_e,ke[_e])})}d&&CN(d,t,"c");function Ve(ke,_e){Ae(_e)?_e.forEach(Nt=>ke(Nt.bind(n))):_e&&ke(_e.bind(n))}if(Ve(Xq,v),Ve(Jq,g),Ve(Zq,y),Ve(eH,w),Ve(zq,E),Ve(Yq,T),Ve(oH,Z),Ve(iH,M),Ve(rH,ie),Ve(tH,O),Ve(ND,x),Ve(nH,Ie),Ae(R))if(R.length){const ke=t.exposed||(t.exposed={});R.forEach(_e=>{Object.defineProperty(ke,_e,{get:()=>n[_e],set:Nt=>n[_e]=Nt})})}else t.exposed||(t.exposed={});B&&t.render===Ri&&(t.render=B),Je!=null&&(t.inheritAttrs=Je),ht&&(t.components=ht),ot&&(t.directives=ot)}function uH(t,e,n=Ri){Ae(t)&&(t=tb(t));for(const r in t){const i=t[r];let s;_t(i)?"default"in i?s=Oi(i.from||r,i.default,!0):s=Oi(i.from||r):s=Oi(i),ar(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[r]=s}}function CN(t,e,n){ui(Ae(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function kD(t,e,n,r){const i=r.includes(".")?ID(n,r):()=>n[r];if(Wt(t)){const s=e[t];Re(s)&&mp(i,s)}else if(Re(t))mp(i,t.bind(n));else if(_t(t))if(Ae(t))t.forEach(s=>kD(s,e,n,r));else{const s=Re(t.handler)?t.handler.bind(n):e[t.handler];Re(s)&&mp(i,s,t)}}function F0(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,c=s.get(e);let l;return c?l=c:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(h=>Fp(l,h,a,!0)),Fp(l,e,a)),_t(e)&&s.set(e,l),l}function Fp(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&Fp(t,s,n,!0),i&&i.forEach(a=>Fp(t,a,n,!0));for(const a in e)if(!(r&&a==="expose")){const c=cH[a]||n&&n[a];t[a]=c?c(t[a],e[a]):e[a]}return t}const cH={data:NN,props:kN,emits:kN,methods:Ql,computed:Ql,beforeCreate:Fn,created:Fn,beforeMount:Fn,mounted:Fn,beforeUpdate:Fn,updated:Fn,beforeDestroy:Fn,beforeUnmount:Fn,destroyed:Fn,unmounted:Fn,activated:Fn,deactivated:Fn,errorCaptured:Fn,serverPrefetch:Fn,components:Ql,directives:Ql,watch:fH,provide:NN,inject:lH};function NN(t,e){return e?t?function(){return mn(Re(t)?t.call(this,this):t,Re(e)?e.call(this,this):e)}:e:t}function lH(t,e){return Ql(tb(t),tb(e))}function tb(t){if(Ae(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Fn(t,e){return t?[...new Set([].concat(t,e))]:e}function Ql(t,e){return t?mn(Object.create(null),t,e):e}function kN(t,e){return t?Ae(t)&&Ae(e)?[...new Set([...t,...e])]:mn(Object.create(null),AN(t),AN(e??{})):e}function fH(t,e){if(!t)return e;if(!e)return t;const n=mn(Object.create(null),t);for(const r in e)n[r]=Fn(t[r],e[r]);return n}function RD(){return{app:null,config:{isNativeTag:K$,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let hH=0;function dH(t,e){return function(r,i=null){Re(r)||(r=mn({},r)),i!=null&&!_t(i)&&(i=null);const s=RD(),a=new WeakSet;let c=!1;const l=s.app={_uid:hH++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:VH,get config(){return s.config},set config(h){},use(h,...d){return a.has(h)||(h&&Re(h.install)?(a.add(h),h.install(l,...d)):Re(h)&&(a.add(h),h(l,...d))),l},mixin(h){return s.mixins.includes(h)||s.mixins.push(h),l},component(h,d){return d?(s.components[h]=d,l):s.components[h]},directive(h,d){return d?(s.directives[h]=d,l):s.directives[h]},mount(h,d,v){if(!c){const g=ct(r,i);return g.appContext=s,d&&e?e(g,h):t(g,h,v),c=!0,l._container=h,h.__vue_app__=l,Gv(g.component)||g.component.proxy}},unmount(){c&&(t(null,l._container),delete l._container.__vue_app__)},provide(h,d){return s.provides[h]=d,l},runWithContext(h){Up=l;try{return h()}finally{Up=null}}};return l}}let Up=null;function _p(t,e){if(fn){let n=fn.provides;const r=fn.parent&&fn.parent.provides;r===n&&(n=fn.provides=Object.create(r)),n[t]=e}}function Oi(t,e,n=!1){const r=fn||Or;if(r||Up){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Up._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Re(e)?e.call(r&&r.proxy):e}}function pH(t,e,n,r=!1){const i={},s={};xp(s,Wv,1),t.propsDefaults=Object.create(null),OD(t,e,i,s);for(const a in t.propsOptions[0])a in i||(i[a]=void 0);n?t.props=r?i:aD(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function vH(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:a}}=t,c=Ze(i),[l]=t.propsOptions;let h=!1;if((r||a>0)&&!(a&16)){if(a&8){const d=t.vnode.dynamicProps;for(let v=0;v<d.length;v++){let g=d[v];if($v(t.emitsOptions,g))continue;const y=e[g];if(l)if(Ge(s,g))y!==s[g]&&(s[g]=y,h=!0);else{const w=Vi(g);i[w]=nb(l,c,w,y,t,!1)}else y!==s[g]&&(s[g]=y,h=!0)}}}else{OD(t,e,i,s)&&(h=!0);let d;for(const v in c)(!e||!Ge(e,v)&&((d=Rc(v))===v||!Ge(e,d)))&&(l?n&&(n[v]!==void 0||n[d]!==void 0)&&(i[v]=nb(l,c,v,void 0,t,!0)):delete i[v]);if(s!==c)for(const v in s)(!e||!Ge(e,v))&&(delete s[v],h=!0)}h&&uo(t,"set","$attrs")}function OD(t,e,n,r){const[i,s]=t.propsOptions;let a=!1,c;if(e)for(let l in e){if(vp(l))continue;const h=e[l];let d;i&&Ge(i,d=Vi(l))?!s||!s.includes(d)?n[d]=h:(c||(c={}))[d]=h:$v(t.emitsOptions,l)||(!(l in r)||h!==r[l])&&(r[l]=h,a=!0)}if(s){const l=Ze(n),h=c||pt;for(let d=0;d<s.length;d++){const v=s[d];n[v]=nb(i,l,v,h[v],t,!Ge(h,v))}}return a}function nb(t,e,n,r,i,s){const a=t[n];if(a!=null){const c=Ge(a,"default");if(c&&r===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&Re(l)){const{propsDefaults:h}=i;n in h?r=h[n]:(zu(i),r=h[n]=l.call(null,e),la())}else r=l}a[0]&&(s&&!c?r=!1:a[1]&&(r===""||r===Rc(n))&&(r=!0))}return r}function DD(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,a={},c=[];let l=!1;if(!Re(t)){const d=v=>{l=!0;const[g,y]=DD(v,e,!0);mn(a,g),y&&c.push(...y)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!s&&!l)return _t(t)&&r.set(t,Fu),Fu;if(Ae(s))for(let d=0;d<s.length;d++){const v=Vi(s[d]);RN(v)&&(a[v]=pt)}else if(s)for(const d in s){const v=Vi(d);if(RN(v)){const g=s[d],y=a[v]=Ae(g)||Re(g)?{type:g}:mn({},g);if(y){const w=PN(Boolean,y.type),E=PN(String,y.type);y[0]=w>-1,y[1]=E<0||w<E,(w>-1||Ge(y,"default"))&&c.push(v)}}}const h=[a,c];return _t(t)&&r.set(t,h),h}function RN(t){return t[0]!=="$"}function ON(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function DN(t,e){return ON(t)===ON(e)}function PN(t,e){return Ae(e)?e.findIndex(n=>DN(n,t)):Re(e)&&DN(e,t)?0:-1}const PD=t=>t[0]==="_"||t==="$stable",U0=t=>Ae(t)?t.map(Ci):[Ci(t)],gH=(t,e,n)=>{if(e._n)return e;const r=Ai((...i)=>U0(e(...i)),n);return r._c=!1,r},xD=(t,e,n)=>{const r=t._ctx;for(const i in t){if(PD(i))continue;const s=t[i];if(Re(s))e[i]=gH(i,s,r);else if(s!=null){const a=U0(s);e[i]=()=>a}}},LD=(t,e)=>{const n=U0(e);t.slots.default=()=>n},mH=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Ze(e),xp(e,"_",n)):xD(e,t.slots={})}else t.slots={},e&&LD(t,e);xp(t.slots,Wv,1)},yH=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,a=pt;if(r.shapeFlag&32){const c=e._;c?n&&c===1?s=!1:(mn(i,e),!n&&c===1&&delete i._):(s=!e.$stable,xD(e,i)),a=e}else e&&(LD(t,e),a={default:1});if(s)for(const c in i)!PD(c)&&a[c]==null&&delete i[c]};function rb(t,e,n,r,i=!1){if(Ae(t)){t.forEach((g,y)=>rb(g,e&&(Ae(e)?e[y]:e),n,r,i));return}if(yp(r)&&!i)return;const s=r.shapeFlag&4?Gv(r.component)||r.component.proxy:r.el,a=i?null:s,{i:c,r:l}=t,h=e&&e.r,d=c.refs===pt?c.refs={}:c.refs,v=c.setupState;if(h!=null&&h!==l&&(Wt(h)?(d[h]=null,Ge(v,h)&&(v[h]=null)):ar(h)&&(h.value=null)),Re(l))Xo(l,c,12,[a,d]);else{const g=Wt(l),y=ar(l);if(g||y){const w=()=>{if(t.f){const E=g?Ge(v,l)?v[l]:d[l]:l.value;i?Ae(E)&&S0(E,s):Ae(E)?E.includes(s)||E.push(s):g?(d[l]=[s],Ge(v,l)&&(v[l]=d[l])):(l.value=[s],t.k&&(d[t.k]=l.value))}else g?(d[l]=a,Ge(v,l)&&(v[l]=a)):y&&(l.value=a,t.k&&(d[t.k]=a))};a?(w.id=-1,er(w,n)):w()}}}const er=Wq;function _H(t){return wH(t)}function wH(t,e){const n=Gw();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:a,createText:c,createComment:l,setText:h,setElementText:d,parentNode:v,nextSibling:g,setScopeId:y=Ri,insertStaticContent:w}=t,E=(S,k,D,U=null,V=null,q=null,te=!1,Q=null,X=!!k.dynamicChildren)=>{if(S===k)return;S&&!Ul(S,k)&&(U=j(S),wt(S,V,q,!0),S=null),k.patchFlag===-2&&(X=!1,k.dynamicChildren=null);const{type:H,ref:he,shapeFlag:se}=k;switch(H){case Kv:T(S,k,D,U);break;case _a:A(S,k,D,U);break;case wp:S==null&&O(k,D,U,te);break;case Rr:ht(S,k,D,U,V,q,te,Q,X);break;default:se&1?B(S,k,D,U,V,q,te,Q,X):se&6?ot(S,k,D,U,V,q,te,Q,X):(se&64||se&128)&&H.process(S,k,D,U,V,q,te,Q,X,ee)}he!=null&&V&&rb(he,S&&S.ref,q,k||S,!k)},T=(S,k,D,U)=>{if(S==null)r(k.el=c(k.children),D,U);else{const V=k.el=S.el;k.children!==S.children&&h(V,k.children)}},A=(S,k,D,U)=>{S==null?r(k.el=l(k.children||""),D,U):k.el=S.el},O=(S,k,D,U)=>{[S.el,S.anchor]=w(S.children,k,D,U,S.el,S.anchor)},P=({el:S,anchor:k},D,U)=>{let V;for(;S&&S!==k;)V=g(S),r(S,D,U),S=V;r(k,D,U)},x=({el:S,anchor:k})=>{let D;for(;S&&S!==k;)D=g(S),i(S),S=D;i(k)},B=(S,k,D,U,V,q,te,Q,X)=>{te=te||k.type==="svg",S==null?M(k,D,U,V,q,te,Q,X):Ie(S,k,V,q,te,Q,X)},M=(S,k,D,U,V,q,te,Q)=>{let X,H;const{type:he,props:se,shapeFlag:fe,transition:Ee,dirs:Oe}=S;if(X=S.el=a(S.type,q,se&&se.is,se),fe&8?d(X,S.children):fe&16&&Z(S.children,X,null,U,V,q&&he!=="foreignObject",te,Q),Oe&&Bs(S,null,U,"created"),ie(X,S,S.scopeId,te,U),se){for(const Ke in se)Ke!=="value"&&!vp(Ke)&&s(X,Ke,null,se[Ke],q,S.children,U,V,lt);"value"in se&&s(X,"value",null,se.value),(H=se.onVnodeBeforeMount)&&Ii(H,U,S)}Oe&&Bs(S,null,U,"beforeMount");const pe=bH(V,Ee);pe&&Ee.beforeEnter(X),r(X,k,D),((H=se&&se.onVnodeMounted)||pe||Oe)&&er(()=>{H&&Ii(H,U,S),pe&&Ee.enter(X),Oe&&Bs(S,null,U,"mounted")},V)},ie=(S,k,D,U,V)=>{if(D&&y(S,D),U)for(let q=0;q<U.length;q++)y(S,U[q]);if(V){let q=V.subTree;if(k===q){const te=V.vnode;ie(S,te,te.scopeId,te.slotScopeIds,V.parent)}}},Z=(S,k,D,U,V,q,te,Q,X=0)=>{for(let H=X;H<S.length;H++){const he=S[H]=Q?$o(S[H]):Ci(S[H]);E(null,he,k,D,U,V,q,te,Q)}},Ie=(S,k,D,U,V,q,te)=>{const Q=k.el=S.el;let{patchFlag:X,dynamicChildren:H,dirs:he}=k;X|=S.patchFlag&16;const se=S.props||pt,fe=k.props||pt;let Ee;D&&$s(D,!1),(Ee=fe.onVnodeBeforeUpdate)&&Ii(Ee,D,k,S),he&&Bs(k,S,D,"beforeUpdate"),D&&$s(D,!0);const Oe=V&&k.type!=="foreignObject";if(H?R(S.dynamicChildren,H,Q,D,U,Oe,q):te||_e(S,k,Q,null,D,U,Oe,q,!1),X>0){if(X&16)Je(Q,k,se,fe,D,U,V);else if(X&2&&se.class!==fe.class&&s(Q,"class",null,fe.class,V),X&4&&s(Q,"style",se.style,fe.style,V),X&8){const pe=k.dynamicProps;for(let Ke=0;Ke<pe.length;Ke++){const at=pe[Ke],Yn=se[at],zi=fe[at];(zi!==Yn||at==="value")&&s(Q,at,Yn,zi,V,S.children,D,U,lt)}}X&1&&S.children!==k.children&&d(Q,k.children)}else!te&&H==null&&Je(Q,k,se,fe,D,U,V);((Ee=fe.onVnodeUpdated)||he)&&er(()=>{Ee&&Ii(Ee,D,k,S),he&&Bs(k,S,D,"updated")},U)},R=(S,k,D,U,V,q,te)=>{for(let Q=0;Q<k.length;Q++){const X=S[Q],H=k[Q],he=X.el&&(X.type===Rr||!Ul(X,H)||X.shapeFlag&70)?v(X.el):D;E(X,H,he,null,U,V,q,te,!0)}},Je=(S,k,D,U,V,q,te)=>{if(D!==U){if(D!==pt)for(const Q in D)!vp(Q)&&!(Q in U)&&s(S,Q,D[Q],null,te,k.children,V,q,lt);for(const Q in U){if(vp(Q))continue;const X=U[Q],H=D[Q];X!==H&&Q!=="value"&&s(S,Q,H,X,te,k.children,V,q,lt)}"value"in U&&s(S,"value",D.value,U.value)}},ht=(S,k,D,U,V,q,te,Q,X)=>{const H=k.el=S?S.el:c(""),he=k.anchor=S?S.anchor:c("");let{patchFlag:se,dynamicChildren:fe,slotScopeIds:Ee}=k;Ee&&(Q=Q?Q.concat(Ee):Ee),S==null?(r(H,D,U),r(he,D,U),Z(k.children,D,he,V,q,te,Q,X)):se>0&&se&64&&fe&&S.dynamicChildren?(R(S.dynamicChildren,fe,D,V,q,te,Q),(k.key!=null||V&&k===V.subTree)&&MD(S,k,!0)):_e(S,k,D,he,V,q,te,Q,X)},ot=(S,k,D,U,V,q,te,Q,X)=>{k.slotScopeIds=Q,S==null?k.shapeFlag&512?V.ctx.activate(k,D,U,te,X):on(k,D,U,V,q,te,X):Pt(S,k,X)},on=(S,k,D,U,V,q,te)=>{const Q=S.component=RH(S,U,V);if(AD(S)&&(Q.ctx.renderer=ee),OH(Q),Q.asyncDep){if(V&&V.registerDep(Q,Ve),!S.el){const X=Q.subTree=ct(_a);A(null,X,k,D)}return}Ve(Q,S,k,D,V,q,te)},Pt=(S,k,D)=>{const U=k.component=S.component;if(Bq(S,k,D))if(U.asyncDep&&!U.asyncResolved){ke(U,k,D);return}else U.next=k,Pq(U.update),U.update();else k.el=S.el,U.vnode=k},Ve=(S,k,D,U,V,q,te)=>{const Q=()=>{if(S.isMounted){let{next:he,bu:se,u:fe,parent:Ee,vnode:Oe}=S,pe=he,Ke;$s(S,!1),he?(he.el=Oe.el,ke(S,he,te)):he=Oe,se&&gp(se),(Ke=he.props&&he.props.onVnodeBeforeUpdate)&&Ii(Ke,Ee,he,Oe),$s(S,!0);const at=j_(S),Yn=S.subTree;S.subTree=at,E(Yn,at,v(Yn.el),j(Yn),S,V,q),he.el=at.el,pe===null&&$q(S,at.el),fe&&er(fe,V),(Ke=he.props&&he.props.onVnodeUpdated)&&er(()=>Ii(Ke,Ee,he,Oe),V)}else{let he;const{el:se,props:fe}=k,{bm:Ee,m:Oe,parent:pe}=S,Ke=yp(k);if($s(S,!1),Ee&&gp(Ee),!Ke&&(he=fe&&fe.onVnodeBeforeMount)&&Ii(he,pe,k),$s(S,!0),se&&Le){const at=()=>{S.subTree=j_(S),Le(se,S.subTree,S,V,null)};Ke?k.type.__asyncLoader().then(()=>!S.isUnmounted&&at()):at()}else{const at=S.subTree=j_(S);E(null,at,D,U,S,V,q),k.el=at.el}if(Oe&&er(Oe,V),!Ke&&(he=fe&&fe.onVnodeMounted)){const at=k;er(()=>Ii(he,pe,at),V)}(k.shapeFlag&256||pe&&yp(pe.vnode)&&pe.vnode.shapeFlag&256)&&S.a&&er(S.a,V),S.isMounted=!0,k=D=U=null}},X=S.effect=new R0(Q,()=>M0(H),S.scope),H=S.update=()=>X.run();H.id=S.uid,$s(S,!0),H()},ke=(S,k,D)=>{k.component=S;const U=S.vnode.props;S.vnode=k,S.next=null,vH(S,k.props,U,D),yH(S,k.children,D),Oc(),EN(S),Dc()},_e=(S,k,D,U,V,q,te,Q,X=!1)=>{const H=S&&S.children,he=S?S.shapeFlag:0,se=k.children,{patchFlag:fe,shapeFlag:Ee}=k;if(fe>0){if(fe&128){xt(H,se,D,U,V,q,te,Q,X);return}else if(fe&256){Nt(H,se,D,U,V,q,te,Q,X);return}}Ee&8?(he&16&&lt(H,V,q),se!==H&&d(D,se)):he&16?Ee&16?xt(H,se,D,U,V,q,te,Q,X):lt(H,V,q,!0):(he&8&&d(D,""),Ee&16&&Z(se,D,U,V,q,te,Q,X))},Nt=(S,k,D,U,V,q,te,Q,X)=>{S=S||Fu,k=k||Fu;const H=S.length,he=k.length,se=Math.min(H,he);let fe;for(fe=0;fe<se;fe++){const Ee=k[fe]=X?$o(k[fe]):Ci(k[fe]);E(S[fe],Ee,D,null,V,q,te,Q,X)}H>he?lt(S,V,q,!0,!1,se):Z(k,D,U,V,q,te,Q,X,se)},xt=(S,k,D,U,V,q,te,Q,X)=>{let H=0;const he=k.length;let se=S.length-1,fe=he-1;for(;H<=se&&H<=fe;){const Ee=S[H],Oe=k[H]=X?$o(k[H]):Ci(k[H]);if(Ul(Ee,Oe))E(Ee,Oe,D,null,V,q,te,Q,X);else break;H++}for(;H<=se&&H<=fe;){const Ee=S[se],Oe=k[fe]=X?$o(k[fe]):Ci(k[fe]);if(Ul(Ee,Oe))E(Ee,Oe,D,null,V,q,te,Q,X);else break;se--,fe--}if(H>se){if(H<=fe){const Ee=fe+1,Oe=Ee<he?k[Ee].el:U;for(;H<=fe;)E(null,k[H]=X?$o(k[H]):Ci(k[H]),D,Oe,V,q,te,Q,X),H++}}else if(H>fe)for(;H<=se;)wt(S[H],V,q,!0),H++;else{const Ee=H,Oe=H,pe=new Map;for(H=Oe;H<=fe;H++){const St=k[H]=X?$o(k[H]):Ci(k[H]);St.key!=null&&pe.set(St.key,H)}let Ke,at=0;const Yn=fe-Oe+1;let zi=!1,It=0;const Ao=new Array(Yn);for(H=0;H<Yn;H++)Ao[H]=0;for(H=Ee;H<=se;H++){const St=S[H];if(at>=Yn){wt(St,V,q,!0);continue}let cr;if(St.key!=null)cr=pe.get(St.key);else for(Ke=Oe;Ke<=fe;Ke++)if(Ao[Ke-Oe]===0&&Ul(St,k[Ke])){cr=Ke;break}cr===void 0?wt(St,V,q,!0):(Ao[cr-Oe]=H+1,cr>=It?It=cr:zi=!0,E(St,k[cr],D,null,V,q,te,Q,X),at++)}const vi=zi?EH(Ao):Fu;for(Ke=vi.length-1,H=Yn-1;H>=0;H--){const St=Oe+H,cr=k[St],sn=St+1<he?k[St+1].el:U;Ao[H]===0?E(null,cr,D,sn,V,q,te,Q,X):zi&&(Ke<0||H!==vi[Ke]?zt(cr,D,sn,2):Ke--)}}},zt=(S,k,D,U,V=null)=>{const{el:q,type:te,transition:Q,children:X,shapeFlag:H}=S;if(H&6){zt(S.component.subTree,k,D,U);return}if(H&128){S.suspense.move(k,D,U);return}if(H&64){te.move(S,k,D,ee);return}if(te===Rr){r(q,k,D);for(let se=0;se<X.length;se++)zt(X[se],k,D,U);r(S.anchor,k,D);return}if(te===wp){P(S,k,D);return}if(U!==2&&H&1&&Q)if(U===0)Q.beforeEnter(q),r(q,k,D),er(()=>Q.enter(q),V);else{const{leave:se,delayLeave:fe,afterLeave:Ee}=Q,Oe=()=>r(q,k,D),pe=()=>{se(q,()=>{Oe(),Ee&&Ee()})};fe?fe(q,Oe,pe):pe()}else r(q,k,D)},wt=(S,k,D,U=!1,V=!1)=>{const{type:q,props:te,ref:Q,children:X,dynamicChildren:H,shapeFlag:he,patchFlag:se,dirs:fe}=S;if(Q!=null&&rb(Q,null,D,S,!0),he&256){k.ctx.deactivate(S);return}const Ee=he&1&&fe,Oe=!yp(S);let pe;if(Oe&&(pe=te&&te.onVnodeBeforeUnmount)&&Ii(pe,k,S),he&6)Dn(S.component,D,U);else{if(he&128){S.suspense.unmount(D,U);return}Ee&&Bs(S,null,k,"beforeUnmount"),he&64?S.type.remove(S,k,D,V,ee,U):H&&(q!==Rr||se>0&&se&64)?lt(H,k,D,!1,!0):(q===Rr&&se&384||!V&&he&16)&&lt(X,k,D),U&&zn(S)}(Oe&&(pe=te&&te.onVnodeUnmounted)||Ee)&&er(()=>{pe&&Ii(pe,k,S),Ee&&Bs(S,null,k,"unmounted")},D)},zn=S=>{const{type:k,el:D,anchor:U,transition:V}=S;if(k===Rr){wn(D,U);return}if(k===wp){x(S);return}const q=()=>{i(D),V&&!V.persisted&&V.afterLeave&&V.afterLeave()};if(S.shapeFlag&1&&V&&!V.persisted){const{leave:te,delayLeave:Q}=V,X=()=>te(D,q);Q?Q(S.el,q,X):X()}else q()},wn=(S,k)=>{let D;for(;S!==k;)D=g(S),i(S),S=D;i(k)},Dn=(S,k,D)=>{const{bum:U,scope:V,update:q,subTree:te,um:Q}=S;U&&gp(U),V.stop(),q&&(q.active=!1,wt(te,S,k,D)),Q&&er(Q,k),er(()=>{S.isUnmounted=!0},k),k&&k.pendingBranch&&!k.isUnmounted&&S.asyncDep&&!S.asyncResolved&&S.suspenseId===k.pendingId&&(k.deps--,k.deps===0&&k.resolve())},lt=(S,k,D,U=!1,V=!1,q=0)=>{for(let te=q;te<S.length;te++)wt(S[te],k,D,U,V)},j=S=>S.shapeFlag&6?j(S.component.subTree):S.shapeFlag&128?S.suspense.next():g(S.anchor||S.el),G=(S,k,D)=>{S==null?k._vnode&&wt(k._vnode,null,null,!0):E(k._vnode||null,S,k,null,null,null,D),EN(),yD(),k._vnode=S},ee={p:E,um:wt,m:zt,r:zn,mt:on,mc:Z,pc:_e,pbc:R,n:j,o:t};let le,Le;return e&&([le,Le]=e(ee)),{render:G,hydrate:le,createApp:dH(G,le)}}function $s({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function bH(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function MD(t,e,n=!1){const r=t.children,i=e.children;if(Ae(r)&&Ae(i))for(let s=0;s<r.length;s++){const a=r[s];let c=i[s];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=i[s]=$o(i[s]),c.el=a.el),n||MD(a,c)),c.type===Kv&&(c.el=a.el)}}function EH(t){const e=t.slice(),n=[0];let r,i,s,a,c;const l=t.length;for(r=0;r<l;r++){const h=t[r];if(h!==0){if(i=n[n.length-1],t[i]<h){e[r]=i,n.push(r);continue}for(s=0,a=n.length-1;s<a;)c=s+a>>1,t[n[c]]<h?s=c+1:a=c;h<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=e[a];return n}const TH=t=>t.__isTeleport,Rr=Symbol.for("v-fgt"),Kv=Symbol.for("v-txt"),_a=Symbol.for("v-cmt"),wp=Symbol.for("v-stc"),ef=[];let si=null;function _r(t=!1){ef.push(si=t?null:[])}function IH(){ef.pop(),si=ef[ef.length-1]||null}let Tf=1;function xN(t){Tf+=t}function FD(t){return t.dynamicChildren=Tf>0?si||Fu:null,IH(),Tf>0&&si&&si.push(t),t}function ji(t,e,n,r,i,s){return FD(be(t,e,n,r,i,s,!0))}function ib(t,e,n,r,i){return FD(ct(t,e,n,r,i,!0))}function ob(t){return t?t.__v_isVNode===!0:!1}function Ul(t,e){return t.type===e.type&&t.key===e.key}const Wv="__vInternal",UD=({key:t})=>t??null,bp=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Wt(t)||ar(t)||Re(t)?{i:Or,r:t,k:e,f:!!n}:t:null);function be(t,e=null,n=null,r=0,i=null,s=t===Rr?0:1,a=!1,c=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&UD(e),ref:e&&bp(e),scopeId:qv,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Or};return c?(V0(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=Wt(n)?8:16),Tf>0&&!a&&si&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&si.push(l),l}const ct=SH;function SH(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===qq)&&(t=_a),ob(t)){const c=Gu(t,e,!0);return n&&V0(c,n),Tf>0&&!s&&si&&(c.shapeFlag&6?si[si.indexOf(t)]=c:si.push(c)),c.patchFlag|=-2,c}if(MH(t)&&(t=t.__vccOpts),e){e=AH(e);let{class:c,style:l}=e;c&&!Wt(c)&&(e.class=N0(c)),_t(l)&&(cD(l)&&!Ae(l)&&(l=mn({},l)),e.style=C0(l))}const a=Wt(t)?1:Kq(t)?128:TH(t)?64:_t(t)?4:Re(t)?2:0;return be(t,e,n,r,i,a,s,!0)}function AH(t){return t?cD(t)||Wv in t?mn({},t):t:null}function Gu(t,e,n=!1){const{props:r,ref:i,patchFlag:s,children:a}=t,c=e?CH(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&UD(c),ref:e&&e.ref?n&&i?Ae(i)?i.concat(bp(e)):[i,bp(e)]:bp(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Rr?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Gu(t.ssContent),ssFallback:t.ssFallback&&Gu(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Js(t=" ",e=0){return ct(Kv,null,t,e)}function VD(t,e){const n=ct(wp,null,t);return n.staticCount=e,n}function LN(t="",e=!1){return e?(_r(),ib(_a,null,t)):ct(_a,null,t)}function Ci(t){return t==null||typeof t=="boolean"?ct(_a):Ae(t)?ct(Rr,null,t.slice()):typeof t=="object"?$o(t):ct(Kv,null,String(t))}function $o(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Gu(t)}function V0(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Ae(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),V0(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(Wv in e)?e._ctx=Or:i===3&&Or&&(Or.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Re(e)?(e={default:e,_ctx:Or},n=32):(e=String(e),r&64?(n=16,e=[Js(e)]):n=8);t.children=e,t.shapeFlag|=n}function CH(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=N0([e.class,r.class]));else if(i==="style")e.style=C0([e.style,r.style]);else if(Lv(i)){const s=e[i],a=r[i];a&&s!==a&&!(Ae(s)&&s.includes(a))&&(e[i]=s?[].concat(s,a):a)}else i!==""&&(e[i]=r[i])}return e}function Ii(t,e,n,r=null){ui(t,e,7,[n,r])}const NH=RD();let kH=0;function RH(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||NH,s={uid:kH++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new nq(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:DD(r,i),emitsOptions:wD(r,i),emit:null,emitted:null,propsDefaults:pt,inheritAttrs:r.inheritAttrs,ctx:pt,data:pt,props:pt,attrs:pt,slots:pt,refs:pt,setupState:pt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=Mq.bind(null,s),t.ce&&t.ce(s),s}let fn=null,j0,_u,MN="__VUE_INSTANCE_SETTERS__";(_u=Gw()[MN])||(_u=Gw()[MN]=[]),_u.push(t=>fn=t),j0=t=>{_u.length>1?_u.forEach(e=>e(t)):_u[0](t)};const zu=t=>{j0(t),t.scope.on()},la=()=>{fn&&fn.scope.off(),j0(null)};function jD(t){return t.vnode.shapeFlag&4}let If=!1;function OH(t,e=!1){If=e;const{props:n,children:r}=t.vnode,i=jD(t);pH(t,n,i,e),mH(t,r);const s=i?DH(t,e):void 0;return If=!1,s}function DH(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=lD(new Proxy(t.ctx,sH));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?xH(t):null;zu(t),Oc();const s=Xo(r,t,0,[t.props,i]);if(Dc(),la(),WO(s)){if(s.then(la,la),e)return s.then(a=>{FN(t,a,e)}).catch(a=>{Bv(a,t,0)});t.asyncDep=s}else FN(t,s,e)}else BD(t,e)}function FN(t,e,n){Re(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:_t(e)&&(t.setupState=pD(e)),BD(t,n)}let UN;function BD(t,e,n){const r=t.type;if(!t.render){if(!e&&UN&&!r.render){const i=r.template||F0(t).template;if(i){const{isCustomElement:s,compilerOptions:a}=t.appContext.config,{delimiters:c,compilerOptions:l}=r,h=mn(mn({isCustomElement:s,delimiters:c},a),l);r.render=UN(i,h)}}t.render=r.render||Ri}{zu(t),Oc();try{aH(t)}finally{Dc(),la()}}}function PH(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return sr(t,"get","$attrs"),e[n]}}))}function xH(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return PH(t)},slots:t.slots,emit:t.emit,expose:e}}function Gv(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(pD(lD(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Zl)return Zl[n](t)},has(e,n){return n in e||n in Zl}}))}function LH(t,e=!0){return Re(t)?t.displayName||t.name:t.name||e&&t.__name}function MH(t){return Re(t)&&"__vccOpts"in t}const oi=(t,e)=>Rq(t,e,If);function $D(t,e,n){const r=arguments.length;return r===2?_t(e)&&!Ae(e)?ob(e)?ct(t,null,[e]):ct(t,e):ct(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&ob(n)&&(n=[n]),ct(t,e,n))}const FH=Symbol.for("v-scx"),UH=()=>Oi(FH),VH="3.3.13",jH="http://www.w3.org/2000/svg",zs=typeof document<"u"?document:null,VN=zs&&zs.createElement("template"),BH={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?zs.createElementNS(jH,t):zs.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>zs.createTextNode(t),createComment:t=>zs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>zs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const a=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{VN.innerHTML=r?`<svg>${t}</svg>`:t;const c=VN.content;if(r){const l=c.firstChild;for(;l.firstChild;)c.appendChild(l.firstChild);c.removeChild(l)}e.insertBefore(c,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},$H=Symbol("_vtc");function qH(t,e,n){const r=t[$H];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const HH=Symbol("_vod"),KH=Symbol("");function WH(t,e,n){const r=t.style,i=Wt(n);if(n&&!i){if(e&&!Wt(e))for(const s in e)n[s]==null&&sb(r,s,"");for(const s in n)sb(r,s,n[s])}else{const s=r.display;if(i){if(e!==n){const a=r[KH];a&&(n+=";"+a),r.cssText=n}}else e&&t.removeAttribute("style");HH in t&&(r.display=s)}}const jN=/\s*!important$/;function sb(t,e,n){if(Ae(n))n.forEach(r=>sb(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=GH(t,e);jN.test(n)?t.setProperty(Rc(r),n.replace(jN,""),"important"):t[r]=n}}const BN=["Webkit","Moz","ms"],$_={};function GH(t,e){const n=$_[e];if(n)return n;let r=Vi(e);if(r!=="filter"&&r in t)return $_[e]=r;r=Uv(r);for(let i=0;i<BN.length;i++){const s=BN[i]+r;if(s in t)return $_[e]=s}return e}const $N="http://www.w3.org/1999/xlink";function zH(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS($N,e.slice(6,e.length)):t.setAttributeNS($N,e,n);else{const s=tq(e);n==null||s&&!YO(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function YH(t,e,n,r,i,s,a){if(e==="innerHTML"||e==="textContent"){r&&a(r,i,s),t[e]=n??"";return}const c=t.tagName;if(e==="value"&&c!=="PROGRESS"&&!c.includes("-")){t._value=n;const h=c==="OPTION"?t.getAttribute("value"):t.value,d=n??"";h!==d&&(t.value=d),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const h=typeof t[e];h==="boolean"?n=YO(n):n==null&&h==="string"?(n="",l=!0):h==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function Au(t,e,n,r){t.addEventListener(e,n,r)}function QH(t,e,n,r){t.removeEventListener(e,n,r)}const qN=Symbol("_vei");function XH(t,e,n,r,i=null){const s=t[qN]||(t[qN]={}),a=s[e];if(r&&a)a.value=r;else{const[c,l]=JH(e);if(r){const h=s[e]=tK(r,i);Au(t,c,h,l)}else a&&(QH(t,c,a,l),s[e]=void 0)}}const HN=/(?:Once|Passive|Capture)$/;function JH(t){let e;if(HN.test(t)){e={};let r;for(;r=t.match(HN);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Rc(t.slice(2)),e]}let q_=0;const ZH=Promise.resolve(),eK=()=>q_||(ZH.then(()=>q_=0),q_=Date.now());function tK(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;ui(nK(r,n.value),e,5,[r])};return n.value=t,n.attached=eK(),n}function nK(t,e){if(Ae(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const KN=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,rK=(t,e,n,r,i=!1,s,a,c,l)=>{e==="class"?qH(t,r,i):e==="style"?WH(t,n,r):Lv(e)?I0(e)||XH(t,e,n,r,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):iK(t,e,r,i))?YH(t,e,r,s,a,c,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),zH(t,e,r,i))};function iK(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&KN(e)&&Re(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return KN(e)&&Wt(n)?!1:e in t}const WN=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Ae(e)?n=>gp(e,n):e};function oK(t){t.target.composing=!0}function GN(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const H_=Symbol("_assign"),zN={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[H_]=WN(i);const s=r||i.props&&i.props.type==="number";Au(t,e?"change":"input",a=>{if(a.target.composing)return;let c=t.value;n&&(c=c.trim()),s&&(c=Ww(c)),t[H_](c)}),n&&Au(t,"change",()=>{t.value=t.value.trim()}),e||(Au(t,"compositionstart",oK),Au(t,"compositionend",GN),Au(t,"change",GN))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},s){if(t[H_]=WN(s),t.composing)return;const a=i||t.type==="number"?Ww(t.value):t.value,c=e??"";a!==c&&(document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===c)||(t.value=c))}},sK=["ctrl","shift","alt","meta"],aK={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>sK.some(n=>t[`${n}Key`]&&!e.includes(n))},uK=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...s)=>{for(let a=0;a<e.length;a++){const c=aK[e[a]];if(c&&c(i,e))return}return t(i,...s)})},cK=mn({patchProp:rK},BH);let YN;function lK(){return YN||(YN=_H(cK))}const fK=(...t)=>{const e=lK().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=hK(r);if(!i)return;const s=e._component;!Re(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const a=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},e};function hK(t){return Wt(t)?document.querySelector(t):t}/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Cu=typeof window<"u";function dK(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const nt=Object.assign;function K_(t,e){const n={};for(const r in e){const i=e[r];n[r]=fi(i)?i.map(t):t(i)}return n}const tf=()=>{},fi=Array.isArray,pK=/\/$/,vK=t=>t.replace(pK,"");function W_(t,e,n="/"){let r,i={},s="",a="";const c=e.indexOf("#");let l=e.indexOf("?");return c<l&&c>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,c>-1?c:e.length),i=t(s)),c>-1&&(r=r||e.slice(0,c),a=e.slice(c,e.length)),r=_K(r??e,n),{fullPath:r+(s&&"?")+s+a,path:r,query:i,hash:a}}function gK(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function QN(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function mK(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Yu(e.matched[r],n.matched[i])&&qD(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Yu(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function qD(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!yK(t[n],e[n]))return!1;return!0}function yK(t,e){return fi(t)?XN(t,e):fi(e)?XN(e,t):t===e}function XN(t,e){return fi(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function _K(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,a,c;for(a=0;a<r.length;a++)if(c=r[a],c!==".")if(c==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(a-(a===r.length?1:0)).join("/")}var Sf;(function(t){t.pop="pop",t.push="push"})(Sf||(Sf={}));var nf;(function(t){t.back="back",t.forward="forward",t.unknown=""})(nf||(nf={}));function wK(t){if(!t)if(Cu){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),vK(t)}const bK=/^[^#]+#/;function EK(t,e){return t.replace(bK,"#")+e}function TK(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const zv=()=>({left:window.pageXOffset,top:window.pageYOffset});function IK(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=TK(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function JN(t,e){return(history.state?history.state.position-e:-1)+t}const ab=new Map;function SK(t,e){ab.set(t,e)}function AK(t){const e=ab.get(t);return ab.delete(t),e}let CK=()=>location.protocol+"//"+location.host;function HD(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let c=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(c);return l[0]!=="/"&&(l="/"+l),QN(l,"")}return QN(n,t)+r+i}function NK(t,e,n,r){let i=[],s=[],a=null;const c=({state:g})=>{const y=HD(t,location),w=n.value,E=e.value;let T=0;if(g){if(n.value=y,e.value=g,a&&a===w){a=null;return}T=E?g.position-E.position:0}else r(y);i.forEach(A=>{A(n.value,w,{delta:T,type:Sf.pop,direction:T?T>0?nf.forward:nf.back:nf.unknown})})};function l(){a=n.value}function h(g){i.push(g);const y=()=>{const w=i.indexOf(g);w>-1&&i.splice(w,1)};return s.push(y),y}function d(){const{history:g}=window;g.state&&g.replaceState(nt({},g.state,{scroll:zv()}),"")}function v(){for(const g of s)g();s=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:l,listen:h,destroy:v}}function ZN(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?zv():null}}function kK(t){const{history:e,location:n}=window,r={value:HD(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,h,d){const v=t.indexOf("#"),g=v>-1?(n.host&&document.querySelector("base")?t:t.slice(v))+l:CK()+t+l;try{e[d?"replaceState":"pushState"](h,"",g),i.value=h}catch(y){console.error(y),n[d?"replace":"assign"](g)}}function a(l,h){const d=nt({},e.state,ZN(i.value.back,l,i.value.forward,!0),h,{position:i.value.position});s(l,d,!0),r.value=l}function c(l,h){const d=nt({},i.value,e.state,{forward:l,scroll:zv()});s(d.current,d,!0);const v=nt({},ZN(r.value,l,null),{position:d.position+1},h);s(l,v,!1),r.value=l}return{location:r,state:i,push:c,replace:a}}function RK(t){t=wK(t);const e=kK(t),n=NK(t,e.state,e.location,e.replace);function r(s,a=!0){a||n.pauseListeners(),history.go(s)}const i=nt({location:"",base:t,go:r,createHref:EK.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function OK(t){return typeof t=="string"||t&&typeof t=="object"}function KD(t){return typeof t=="string"||typeof t=="symbol"}const Mo={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},WD=Symbol("");var ek;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(ek||(ek={}));function Qu(t,e){return nt(new Error,{type:t,[WD]:!0},e)}function eo(t,e){return t instanceof Error&&WD in t&&(e==null||!!(t.type&e))}const tk="[^/]+?",DK={sensitive:!1,strict:!1,start:!0,end:!0},PK=/[.+*?^${}()[\]/\\]/g;function xK(t,e){const n=nt({},DK,e),r=[];let i=n.start?"^":"";const s=[];for(const h of t){const d=h.length?[]:[90];n.strict&&!h.length&&(i+="/");for(let v=0;v<h.length;v++){const g=h[v];let y=40+(n.sensitive?.25:0);if(g.type===0)v||(i+="/"),i+=g.value.replace(PK,"\\$&"),y+=40;else if(g.type===1){const{value:w,repeatable:E,optional:T,regexp:A}=g;s.push({name:w,repeatable:E,optional:T});const O=A||tk;if(O!==tk){y+=10;try{new RegExp(`(${O})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${w}" (${O}): `+x.message)}}let P=E?`((?:${O})(?:/(?:${O}))*)`:`(${O})`;v||(P=T&&h.length<2?`(?:/${P})`:"/"+P),T&&(P+="?"),i+=P,y+=20,T&&(y+=-8),E&&(y+=-20),O===".*"&&(y+=-50)}d.push(y)}r.push(d)}if(n.strict&&n.end){const h=r.length-1;r[h][r[h].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const a=new RegExp(i,n.sensitive?"":"i");function c(h){const d=h.match(a),v={};if(!d)return null;for(let g=1;g<d.length;g++){const y=d[g]||"",w=s[g-1];v[w.name]=y&&w.repeatable?y.split("/"):y}return v}function l(h){let d="",v=!1;for(const g of t){(!v||!d.endsWith("/"))&&(d+="/"),v=!1;for(const y of g)if(y.type===0)d+=y.value;else if(y.type===1){const{value:w,repeatable:E,optional:T}=y,A=w in h?h[w]:"";if(fi(A)&&!E)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const O=fi(A)?A.join("/"):A;if(!O)if(T)g.length<2&&(d.endsWith("/")?d=d.slice(0,-1):v=!0);else throw new Error(`Missing required param "${w}"`);d+=O}}return d||"/"}return{re:a,score:r,keys:s,parse:c,stringify:l}}function LK(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function MK(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=LK(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(nk(r))return 1;if(nk(i))return-1}return i.length-r.length}function nk(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const FK={type:0,value:""},UK=/[a-zA-Z0-9_]/;function VK(t){if(!t)return[[]];if(t==="/")return[[FK]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(y){throw new Error(`ERR (${n})/"${h}": ${y}`)}let n=0,r=n;const i=[];let s;function a(){s&&i.push(s),s=[]}let c=0,l,h="",d="";function v(){h&&(n===0?s.push({type:0,value:h}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:h,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),h="")}function g(){h+=l}for(;c<t.length;){if(l=t[c++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(h&&v(),a()):l===":"?(v(),n=1):g();break;case 4:g(),n=r;break;case 1:l==="("?n=2:UK.test(l)?g():(v(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&c--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:n=3:d+=l;break;case 3:v(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&c--,d="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${h}"`),v(),a(),i}function jK(t,e,n){const r=xK(VK(t.path),n),i=nt(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function BK(t,e){const n=[],r=new Map;e=ok({strict:!1,end:!0,sensitive:!1},e);function i(d){return r.get(d)}function s(d,v,g){const y=!g,w=$K(d);w.aliasOf=g&&g.record;const E=ok(e,d),T=[w];if("alias"in d){const P=typeof d.alias=="string"?[d.alias]:d.alias;for(const x of P)T.push(nt({},w,{components:g?g.record.components:w.components,path:x,aliasOf:g?g.record:w}))}let A,O;for(const P of T){const{path:x}=P;if(v&&x[0]!=="/"){const B=v.record.path,M=B[B.length-1]==="/"?"":"/";P.path=v.record.path+(x&&M+x)}if(A=jK(P,v,E),g?g.alias.push(A):(O=O||A,O!==A&&O.alias.push(A),y&&d.name&&!ik(A)&&a(d.name)),w.children){const B=w.children;for(let M=0;M<B.length;M++)s(B[M],A,g&&g.children[M])}g=g||A,(A.record.components&&Object.keys(A.record.components).length||A.record.name||A.record.redirect)&&l(A)}return O?()=>{a(O)}:tf}function a(d){if(KD(d)){const v=r.get(d);v&&(r.delete(d),n.splice(n.indexOf(v),1),v.children.forEach(a),v.alias.forEach(a))}else{const v=n.indexOf(d);v>-1&&(n.splice(v,1),d.record.name&&r.delete(d.record.name),d.children.forEach(a),d.alias.forEach(a))}}function c(){return n}function l(d){let v=0;for(;v<n.length&&MK(d,n[v])>=0&&(d.record.path!==n[v].record.path||!GD(d,n[v]));)v++;n.splice(v,0,d),d.record.name&&!ik(d)&&r.set(d.record.name,d)}function h(d,v){let g,y={},w,E;if("name"in d&&d.name){if(g=r.get(d.name),!g)throw Qu(1,{location:d});E=g.record.name,y=nt(rk(v.params,g.keys.filter(O=>!O.optional).map(O=>O.name)),d.params&&rk(d.params,g.keys.map(O=>O.name))),w=g.stringify(y)}else if("path"in d)w=d.path,g=n.find(O=>O.re.test(w)),g&&(y=g.parse(w),E=g.record.name);else{if(g=v.name?r.get(v.name):n.find(O=>O.re.test(v.path)),!g)throw Qu(1,{location:d,currentLocation:v});E=g.record.name,y=nt({},v.params,d.params),w=g.stringify(y)}const T=[];let A=g;for(;A;)T.unshift(A.record),A=A.parent;return{name:E,path:w,params:y,matched:T,meta:HK(T)}}return t.forEach(d=>s(d)),{addRoute:s,resolve:h,removeRoute:a,getRoutes:c,getRecordMatcher:i}}function rk(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function $K(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:qK(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function qK(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function ik(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function HK(t){return t.reduce((e,n)=>nt(e,n.meta),{})}function ok(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function GD(t,e){return e.children.some(n=>n===t||GD(t,n))}const zD=/#/g,KK=/&/g,WK=/\//g,GK=/=/g,zK=/\?/g,YD=/\+/g,YK=/%5B/g,QK=/%5D/g,QD=/%5E/g,XK=/%60/g,XD=/%7B/g,JK=/%7C/g,JD=/%7D/g,ZK=/%20/g;function B0(t){return encodeURI(""+t).replace(JK,"|").replace(YK,"[").replace(QK,"]")}function eW(t){return B0(t).replace(XD,"{").replace(JD,"}").replace(QD,"^")}function ub(t){return B0(t).replace(YD,"%2B").replace(ZK,"+").replace(zD,"%23").replace(KK,"%26").replace(XK,"`").replace(XD,"{").replace(JD,"}").replace(QD,"^")}function tW(t){return ub(t).replace(GK,"%3D")}function nW(t){return B0(t).replace(zD,"%23").replace(zK,"%3F")}function rW(t){return t==null?"":nW(t).replace(WK,"%2F")}function Vp(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function iW(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(YD," "),a=s.indexOf("="),c=Vp(a<0?s:s.slice(0,a)),l=a<0?null:Vp(s.slice(a+1));if(c in e){let h=e[c];fi(h)||(h=e[c]=[h]),h.push(l)}else e[c]=l}return e}function sk(t){let e="";for(let n in t){const r=t[n];if(n=tW(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(fi(r)?r.map(s=>s&&ub(s)):[r&&ub(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function oW(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=fi(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const sW=Symbol(""),ak=Symbol(""),Yv=Symbol(""),ZD=Symbol(""),cb=Symbol("");function Vl(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function qo(t,e,n,r,i){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,c)=>{const l=v=>{v===!1?c(Qu(4,{from:n,to:e})):v instanceof Error?c(v):OK(v)?c(Qu(2,{from:e,to:v})):(s&&r.enterCallbacks[i]===s&&typeof v=="function"&&s.push(v),a())},h=t.call(r&&r.instances[i],e,n,l);let d=Promise.resolve(h);t.length<3&&(d=d.then(l)),d.catch(v=>c(v))})}function G_(t,e,n,r){const i=[];for(const s of t)for(const a in s.components){let c=s.components[a];if(!(e!=="beforeRouteEnter"&&!s.instances[a]))if(aW(c)){const h=(c.__vccOpts||c)[e];h&&i.push(qo(h,n,r,s,a))}else{let l=c();i.push(()=>l.then(h=>{if(!h)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${s.path}"`));const d=dK(h)?h.default:h;s.components[a]=d;const g=(d.__vccOpts||d)[e];return g&&qo(g,n,r,s,a)()}))}}return i}function aW(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function uk(t){const e=Oi(Yv),n=Oi(ZD),r=oi(()=>e.resolve(ca(t.to))),i=oi(()=>{const{matched:l}=r.value,{length:h}=l,d=l[h-1],v=n.matched;if(!d||!v.length)return-1;const g=v.findIndex(Yu.bind(null,d));if(g>-1)return g;const y=ck(l[h-2]);return h>1&&ck(d)===y&&v[v.length-1].path!==y?v.findIndex(Yu.bind(null,l[h-2])):g}),s=oi(()=>i.value>-1&&fW(n.params,r.value.params)),a=oi(()=>i.value>-1&&i.value===n.matched.length-1&&qD(n.params,r.value.params));function c(l={}){return lW(l)?e[ca(t.replace)?"replace":"push"](ca(t.to)).catch(tf):Promise.resolve()}return{route:r,href:oi(()=>r.value.href),isActive:s,isExactActive:a,navigate:c}}const uW=SD({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:uk,setup(t,{slots:e}){const n=jv(uk(t)),{options:r}=Oi(Yv),i=oi(()=>({[lk(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[lk(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:$D("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),cW=uW;function lW(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function fW(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!fi(i)||i.length!==r.length||r.some((s,a)=>s!==i[a]))return!1}return!0}function ck(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const lk=(t,e,n)=>t??e??n,hW=SD({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Oi(cb),i=oi(()=>t.route||r.value),s=Oi(ak,0),a=oi(()=>{let h=ca(s);const{matched:d}=i.value;let v;for(;(v=d[h])&&!v.components;)h++;return h}),c=oi(()=>i.value.matched[a.value]);_p(ak,oi(()=>a.value+1)),_p(sW,c),_p(cb,i);const l=Sq();return mp(()=>[l.value,c.value,t.name],([h,d,v],[g,y,w])=>{d&&(d.instances[v]=h,y&&y!==d&&h&&h===g&&(d.leaveGuards.size||(d.leaveGuards=y.leaveGuards),d.updateGuards.size||(d.updateGuards=y.updateGuards))),h&&d&&(!y||!Yu(d,y)||!g)&&(d.enterCallbacks[v]||[]).forEach(E=>E(h))},{flush:"post"}),()=>{const h=i.value,d=t.name,v=c.value,g=v&&v.components[d];if(!g)return fk(n.default,{Component:g,route:h});const y=v.props[d],w=y?y===!0?h.params:typeof y=="function"?y(h):y:null,T=$D(g,nt({},w,e,{onVnodeUnmounted:A=>{A.component.isUnmounted&&(v.instances[d]=null)},ref:l}));return fk(n.default,{Component:T,route:h})||T}}});function fk(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const eP=hW;function dW(t){const e=BK(t.routes,t),n=t.parseQuery||iW,r=t.stringifyQuery||sk,i=t.history,s=Vl(),a=Vl(),c=Vl(),l=Aq(Mo);let h=Mo;Cu&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=K_.bind(null,j=>""+j),v=K_.bind(null,rW),g=K_.bind(null,Vp);function y(j,G){let ee,le;return KD(j)?(ee=e.getRecordMatcher(j),le=G):le=j,e.addRoute(le,ee)}function w(j){const G=e.getRecordMatcher(j);G&&e.removeRoute(G)}function E(){return e.getRoutes().map(j=>j.record)}function T(j){return!!e.getRecordMatcher(j)}function A(j,G){if(G=nt({},G||l.value),typeof j=="string"){const D=W_(n,j,G.path),U=e.resolve({path:D.path},G),V=i.createHref(D.fullPath);return nt(D,U,{params:g(U.params),hash:Vp(D.hash),redirectedFrom:void 0,href:V})}let ee;if("path"in j)ee=nt({},j,{path:W_(n,j.path,G.path).path});else{const D=nt({},j.params);for(const U in D)D[U]==null&&delete D[U];ee=nt({},j,{params:v(D)}),G.params=v(G.params)}const le=e.resolve(ee,G),Le=j.hash||"";le.params=d(g(le.params));const S=gK(r,nt({},j,{hash:eW(Le),path:le.path})),k=i.createHref(S);return nt({fullPath:S,hash:Le,query:r===sk?oW(j.query):j.query||{}},le,{redirectedFrom:void 0,href:k})}function O(j){return typeof j=="string"?W_(n,j,l.value.path):nt({},j)}function P(j,G){if(h!==j)return Qu(8,{from:G,to:j})}function x(j){return ie(j)}function B(j){return x(nt(O(j),{replace:!0}))}function M(j){const G=j.matched[j.matched.length-1];if(G&&G.redirect){const{redirect:ee}=G;let le=typeof ee=="function"?ee(j):ee;return typeof le=="string"&&(le=le.includes("?")||le.includes("#")?le=O(le):{path:le},le.params={}),nt({query:j.query,hash:j.hash,params:"path"in le?{}:j.params},le)}}function ie(j,G){const ee=h=A(j),le=l.value,Le=j.state,S=j.force,k=j.replace===!0,D=M(ee);if(D)return ie(nt(O(D),{state:typeof D=="object"?nt({},Le,D.state):Le,force:S,replace:k}),G||ee);const U=ee;U.redirectedFrom=G;let V;return!S&&mK(r,le,ee)&&(V=Qu(16,{to:U,from:le}),zt(le,le,!0,!1)),(V?Promise.resolve(V):R(U,le)).catch(q=>eo(q)?eo(q,2)?q:xt(q):_e(q,U,le)).then(q=>{if(q){if(eo(q,2))return ie(nt({replace:k},O(q.to),{state:typeof q.to=="object"?nt({},Le,q.to.state):Le,force:S}),G||U)}else q=ht(U,le,!0,k,Le);return Je(U,le,q),q})}function Z(j,G){const ee=P(j,G);return ee?Promise.reject(ee):Promise.resolve()}function Ie(j){const G=wn.values().next().value;return G&&typeof G.runWithContext=="function"?G.runWithContext(j):j()}function R(j,G){let ee;const[le,Le,S]=pW(j,G);ee=G_(le.reverse(),"beforeRouteLeave",j,G);for(const D of le)D.leaveGuards.forEach(U=>{ee.push(qo(U,j,G))});const k=Z.bind(null,j,G);return ee.push(k),lt(ee).then(()=>{ee=[];for(const D of s.list())ee.push(qo(D,j,G));return ee.push(k),lt(ee)}).then(()=>{ee=G_(Le,"beforeRouteUpdate",j,G);for(const D of Le)D.updateGuards.forEach(U=>{ee.push(qo(U,j,G))});return ee.push(k),lt(ee)}).then(()=>{ee=[];for(const D of S)if(D.beforeEnter)if(fi(D.beforeEnter))for(const U of D.beforeEnter)ee.push(qo(U,j,G));else ee.push(qo(D.beforeEnter,j,G));return ee.push(k),lt(ee)}).then(()=>(j.matched.forEach(D=>D.enterCallbacks={}),ee=G_(S,"beforeRouteEnter",j,G),ee.push(k),lt(ee))).then(()=>{ee=[];for(const D of a.list())ee.push(qo(D,j,G));return ee.push(k),lt(ee)}).catch(D=>eo(D,8)?D:Promise.reject(D))}function Je(j,G,ee){c.list().forEach(le=>Ie(()=>le(j,G,ee)))}function ht(j,G,ee,le,Le){const S=P(j,G);if(S)return S;const k=G===Mo,D=Cu?history.state:{};ee&&(le||k?i.replace(j.fullPath,nt({scroll:k&&D&&D.scroll},Le)):i.push(j.fullPath,Le)),l.value=j,zt(j,G,ee,k),xt()}let ot;function on(){ot||(ot=i.listen((j,G,ee)=>{if(!Dn.listening)return;const le=A(j),Le=M(le);if(Le){ie(nt(Le,{replace:!0}),le).catch(tf);return}h=le;const S=l.value;Cu&&SK(JN(S.fullPath,ee.delta),zv()),R(le,S).catch(k=>eo(k,12)?k:eo(k,2)?(ie(k.to,le).then(D=>{eo(D,20)&&!ee.delta&&ee.type===Sf.pop&&i.go(-1,!1)}).catch(tf),Promise.reject()):(ee.delta&&i.go(-ee.delta,!1),_e(k,le,S))).then(k=>{k=k||ht(le,S,!1),k&&(ee.delta&&!eo(k,8)?i.go(-ee.delta,!1):ee.type===Sf.pop&&eo(k,20)&&i.go(-1,!1)),Je(le,S,k)}).catch(tf)}))}let Pt=Vl(),Ve=Vl(),ke;function _e(j,G,ee){xt(j);const le=Ve.list();return le.length?le.forEach(Le=>Le(j,G,ee)):console.error(j),Promise.reject(j)}function Nt(){return ke&&l.value!==Mo?Promise.resolve():new Promise((j,G)=>{Pt.add([j,G])})}function xt(j){return ke||(ke=!j,on(),Pt.list().forEach(([G,ee])=>j?ee(j):G()),Pt.reset()),j}function zt(j,G,ee,le){const{scrollBehavior:Le}=t;if(!Cu||!Le)return Promise.resolve();const S=!ee&&AK(JN(j.fullPath,0))||(le||!ee)&&history.state&&history.state.scroll||null;return gD().then(()=>Le(j,G,S)).then(k=>k&&IK(k)).catch(k=>_e(k,j,G))}const wt=j=>i.go(j);let zn;const wn=new Set,Dn={currentRoute:l,listening:!0,addRoute:y,removeRoute:w,hasRoute:T,getRoutes:E,resolve:A,options:t,push:x,replace:B,go:wt,back:()=>wt(-1),forward:()=>wt(1),beforeEach:s.add,beforeResolve:a.add,afterEach:c.add,onError:Ve.add,isReady:Nt,install(j){const G=this;j.component("RouterLink",cW),j.component("RouterView",eP),j.config.globalProperties.$router=G,Object.defineProperty(j.config.globalProperties,"$route",{enumerable:!0,get:()=>ca(l)}),Cu&&!zn&&l.value===Mo&&(zn=!0,x(i.location).catch(Le=>{}));const ee={};for(const Le in Mo)Object.defineProperty(ee,Le,{get:()=>l.value[Le],enumerable:!0});j.provide(Yv,G),j.provide(ZD,aD(ee)),j.provide(cb,l);const le=j.unmount;wn.add(j),j.unmount=function(){wn.delete(j),wn.size<1&&(h=Mo,ot&&ot(),ot=null,l.value=Mo,zn=!1,ke=!1),le()}}};function lt(j){return j.reduce((G,ee)=>G.then(()=>Ie(ee)),Promise.resolve())}return Dn}function pW(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let a=0;a<s;a++){const c=e.matched[a];c&&(t.matched.find(h=>Yu(h,c))?r.push(c):n.push(c));const l=t.matched[a];l&&(e.matched.find(h=>Yu(h,l))||i.push(l))}return[n,r,i]}function uae(){return Oi(Yv)}const vW="/assets/logo_dirty_beat-QcqqaAoP.png",th=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},gW={},mW={class:"wrapper container"},yW={class:"navbar navbar-expand-lg"},_W={class:"container-fluid"},wW=be("img",{src:vW,alt:"log Dirty Beat",width:"100px"},null,-1),bW=be("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[be("span",{class:"navbar-toggler-icon"})],-1),EW={class:"collapse navbar-collapse main-menu",id:"navbarNav"},TW={class:"navbar-nav"},IW={class:"nav-item"},SW={class:"nav-item"},AW={class:"nav-item"},CW={class:"nav-item"},NW={class:"nav-item"},kW=be("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-basket",viewBox:"0 0 16 16"},[be("path",{d:"M5.757 1.071a.5.5 0 0 1 .172.686L3.383 6h9.234L10.07 1.757a.5.5 0 1 1 .858-.514L13.783 6H15a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1v4.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 13.5V9a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h1.217L5.07 1.243a.5.5 0 0 1 .686-.172zM2 9v4.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V9zM1 7v1h14V7zm3 3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3A.5.5 0 0 1 4 10m2 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3A.5.5 0 0 1 6 10m2 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3A.5.5 0 0 1 8 10m2 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 1 .5-.5m2 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 1 .5-.5"})],-1),RW={class:"nav-item"},OW=be("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-person",viewBox:"0 0 16 16"},[be("path",{d:"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664z"})],-1);function DW(t,e){const n=ED("RouterLink");return _r(),ji("header",null,[be("div",mW,[be("nav",yW,[be("div",_W,[ct(n,{class:"nav-link",to:"/"},{default:Ai(()=>[wW]),_:1}),bW,be("div",EW,[be("ul",TW,[be("li",IW,[ct(n,{class:"nav-link",to:"/news"},{default:Ai(()=>[Js("News")]),_:1})]),be("li",SW,[ct(n,{class:"nav-link",to:"/contact"},{default:Ai(()=>[Js("Contact")]),_:1})]),be("li",AW,[ct(n,{class:"nav-link",to:"/apropos"},{default:Ai(()=>[Js("A propos")]),_:1})]),be("li",CW,[ct(n,{class:"nav-link",to:"/boutique"},{default:Ai(()=>[Js("Boutique")]),_:1})]),be("li",NW,[ct(n,{class:"nav-link",to:"#"},{default:Ai(()=>[kW]),_:1})]),be("li",RW,[ct(n,{class:"nav-link",to:"/seconnecter"},{default:Ai(()=>[OW]),_:1})])])])])])])])}const PW=th(gW,[["render",DW]]),Pc=t=>(Fq("data-v-dea519e9"),t=t(),Uq(),t),xW={class:"container"},LW={class:"row"},MW={class:"col-md-6"},FW=Pc(()=>be("h3",null,"S'inscrire  la NewsLetter",-1)),UW=Pc(()=>be("p",null,null,-1)),VW=Pc(()=>be("p",null,null,-1)),jW=Pc(()=>be("button",{type:"submit"},"S'inscrire",-1)),BW={class:"col-md-6 reseaux"},$W=Pc(()=>be("h3",null,"Rseaux sociaux",-1)),qW={class:"nav"},HW={href:"http://instagram.com/dirtybeat31000",class:"nav-link",target:"_blank"},KW=["href"],WW=Pc(()=>be("path",{d:"M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334"},null,-1)),GW=[WW],zW=VD('<li data-v-dea519e9><a href="http://facebook.com/dirtybeat31" class="nav-link" target="_blank" data-v-dea519e9><svg xmlns="http://www.w3.org/2000/svg" width="40" height="30" fill="currentColor" class="bi bi-facebook" viewBox="0 0 16 16" data-v-dea519e9><path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951" data-v-dea519e9></path></svg></a></li><li data-v-dea519e9><a href="https://www.youtube.com/@DirtyBeat31" class="nav-link" target="_blank" data-v-dea519e9><svg xmlns="http://www.w3.org/2000/svg" width="40" height="30" fill="currentColor" class="bi bi-youtube" viewBox="0 0 16 16" data-v-dea519e9><path d="M8.051 1.999h.089c.822.003 4.987.033 6.11.335a2.01 2.01 0 0 1 1.415 1.42c.101.38.172.883.22 1.402l.01.104.022.26.008.104c.065.914.073 1.77.074 1.957v.075c-.001.194-.01 1.108-.082 2.06l-.008.105-.009.104c-.05.572-.124 1.14-.235 1.558a2.007 2.007 0 0 1-1.415 1.42c-1.16.312-5.569.334-6.18.335h-.142c-.309 0-1.587-.006-2.927-.052l-.17-.006-.087-.004-.171-.007-.171-.007c-1.11-.049-2.167-.128-2.654-.26a2.007 2.007 0 0 1-1.415-1.419c-.111-.417-.185-.986-.235-1.558L.09 9.82l-.008-.104A31.4 31.4 0 0 1 0 7.68v-.123c.002-.215.01-.958.064-1.778l.007-.103.003-.052.008-.104.022-.26.01-.104c.048-.519.119-1.023.22-1.402a2.007 2.007 0 0 1 1.415-1.42c.487-.13 1.544-.21 2.654-.26l.17-.007.172-.006.086-.003.171-.007A99.788 99.788 0 0 1 7.858 2h.193zM6.4 5.209v4.818l4.157-2.408z" data-v-dea519e9></path></svg></a></li>',2),YW={class:"row"},QW={class:"col-12 footer-nav"},XW={class:"nav"},JW={class:"nav-item"},ZW={class:"nav-item"},e6={__name:"Footer",setup(t){return(e,n)=>{const r=ED("RouterLink");return _r(),ji("footer",null,[be("div",xW,[be("div",LW,[be("div",MW,[be("form",{onSubmit:n[2]||(n[2]=uK((...i)=>e.register&&e.register(...i),["prevent"])),id:"newsletter-form"},[FW,SN(be("input",{"onUpdate:modelValue":n[0]||(n[0]=i=>e.name=i),class:"radius",type:"text",id:"name",name:"name",placeholder:"Nom",required:""},null,512),[[zN,e.name]]),UW,SN(be("input",{type:"email","onUpdate:modelValue":n[1]||(n[1]=i=>e.email=i),class:"radius",id:"email",name:"email",placeholder:"email ",required:""},null,512),[[zN,e.email]]),VW,jW],32)]),be("div",BW,[$W,be("ul",qW,[be("li",null,[be("a",HW,[(_r(),ji("svg",{xmlns:"http://www.w3.org/2000/svg",href:e.leLien,width:"40",height:"30",fill:"currentColor",class:"bi bi-instagram",viewBox:"0 0 16 16"},GW,8,KW))])]),zW])])]),be("div",YW,[be("div",QW,[be("ul",XW,[be("li",JW,[ct(r,{class:"nav-link",to:"/contact"},{default:Ai(()=>[Js("Contact")]),_:1})]),be("li",ZW,[ct(r,{class:"nav-link",to:"#"},{default:Ai(()=>[Js("Mentions Lgales")]),_:1})])])])])])])}}},t6=th(e6,[["__scopeId","data-v-dea519e9"]]),n6={__name:"App",setup(t){return(e,n)=>(_r(),ji(Rr,null,[e.isPageWithoutHeader?LN("",!0):(_r(),ib(PW,{key:0})),ct(ca(eP)),e.isPageWithoutFooter?LN("",!0):(_r(),ib(t6,{key:1}))],64))}};var Hn="top",wr="bottom",br="right",Kn="left",Qv="auto",xc=[Hn,wr,br,Kn],wa="start",Xu="end",tP="clippingParents",$0="viewport",Nu="popper",nP="reference",lb=xc.reduce(function(t,e){return t.concat([e+"-"+wa,e+"-"+Xu])},[]),q0=[].concat(xc,[Qv]).reduce(function(t,e){return t.concat([e,e+"-"+wa,e+"-"+Xu])},[]),rP="beforeRead",iP="read",oP="afterRead",sP="beforeMain",aP="main",uP="afterMain",cP="beforeWrite",lP="write",fP="afterWrite",hP=[rP,iP,oP,sP,aP,uP,cP,lP,fP];function Bi(t){return t?(t.nodeName||"").toLowerCase():null}function Er(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ba(t){var e=Er(t).Element;return t instanceof e||t instanceof Element}function Fr(t){var e=Er(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function H0(t){if(typeof ShadowRoot>"u")return!1;var e=Er(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function r6(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!Fr(s)||!Bi(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(a){var c=i[a];c===!1?s.removeAttribute(a):s.setAttribute(a,c===!0?"":c)}))})}function i6(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),c=a.reduce(function(l,h){return l[h]="",l},{});!Fr(i)||!Bi(i)||(Object.assign(i.style,c),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const K0={name:"applyStyles",enabled:!0,phase:"write",fn:r6,effect:i6,requires:["computeStyles"]};function Di(t){return t.split("-")[0]}var fa=Math.max,jp=Math.min,Ju=Math.round;function fb(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function dP(){return!/^((?!chrome|android).)*safari/i.test(fb())}function Zu(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&Fr(t)&&(i=t.offsetWidth>0&&Ju(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Ju(r.height)/t.offsetHeight||1);var a=ba(t)?Er(t):window,c=a.visualViewport,l=!dP()&&n,h=(r.left+(l&&c?c.offsetLeft:0))/i,d=(r.top+(l&&c?c.offsetTop:0))/s,v=r.width/i,g=r.height/s;return{width:v,height:g,top:d,right:h+v,bottom:d+g,left:h,x:h,y:d}}function W0(t){var e=Zu(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function pP(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&H0(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function vo(t){return Er(t).getComputedStyle(t)}function o6(t){return["table","td","th"].indexOf(Bi(t))>=0}function ds(t){return((ba(t)?t.ownerDocument:t.document)||window.document).documentElement}function Xv(t){return Bi(t)==="html"?t:t.assignedSlot||t.parentNode||(H0(t)?t.host:null)||ds(t)}function hk(t){return!Fr(t)||vo(t).position==="fixed"?null:t.offsetParent}function s6(t){var e=/firefox/i.test(fb()),n=/Trident/i.test(fb());if(n&&Fr(t)){var r=vo(t);if(r.position==="fixed")return null}var i=Xv(t);for(H0(i)&&(i=i.host);Fr(i)&&["html","body"].indexOf(Bi(i))<0;){var s=vo(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function nh(t){for(var e=Er(t),n=hk(t);n&&o6(n)&&vo(n).position==="static";)n=hk(n);return n&&(Bi(n)==="html"||Bi(n)==="body"&&vo(n).position==="static")?e:n||s6(t)||e}function G0(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function rf(t,e,n){return fa(t,jp(e,n))}function a6(t,e,n){var r=rf(t,e,n);return r>n?n:r}function vP(){return{top:0,right:0,bottom:0,left:0}}function gP(t){return Object.assign({},vP(),t)}function mP(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var u6=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,gP(typeof e!="number"?e:mP(e,xc))};function c6(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,a=n.modifiersData.popperOffsets,c=Di(n.placement),l=G0(c),h=[Kn,br].indexOf(c)>=0,d=h?"height":"width";if(!(!s||!a)){var v=u6(i.padding,n),g=W0(s),y=l==="y"?Hn:Kn,w=l==="y"?wr:br,E=n.rects.reference[d]+n.rects.reference[l]-a[l]-n.rects.popper[d],T=a[l]-n.rects.reference[l],A=nh(s),O=A?l==="y"?A.clientHeight||0:A.clientWidth||0:0,P=E/2-T/2,x=v[y],B=O-g[d]-v[w],M=O/2-g[d]/2+P,ie=rf(x,M,B),Z=l;n.modifiersData[r]=(e={},e[Z]=ie,e.centerOffset=ie-M,e)}}function l6(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||pP(e.elements.popper,i)&&(e.elements.arrow=i))}const yP={name:"arrow",enabled:!0,phase:"main",fn:c6,effect:l6,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ec(t){return t.split("-")[1]}var f6={top:"auto",right:"auto",bottom:"auto",left:"auto"};function h6(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Ju(n*i)/i||0,y:Ju(r*i)/i||0}}function dk(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,a=t.offsets,c=t.position,l=t.gpuAcceleration,h=t.adaptive,d=t.roundOffsets,v=t.isFixed,g=a.x,y=g===void 0?0:g,w=a.y,E=w===void 0?0:w,T=typeof d=="function"?d({x:y,y:E}):{x:y,y:E};y=T.x,E=T.y;var A=a.hasOwnProperty("x"),O=a.hasOwnProperty("y"),P=Kn,x=Hn,B=window;if(h){var M=nh(n),ie="clientHeight",Z="clientWidth";if(M===Er(n)&&(M=ds(n),vo(M).position!=="static"&&c==="absolute"&&(ie="scrollHeight",Z="scrollWidth")),M=M,i===Hn||(i===Kn||i===br)&&s===Xu){x=wr;var Ie=v&&M===B&&B.visualViewport?B.visualViewport.height:M[ie];E-=Ie-r.height,E*=l?1:-1}if(i===Kn||(i===Hn||i===wr)&&s===Xu){P=br;var R=v&&M===B&&B.visualViewport?B.visualViewport.width:M[Z];y-=R-r.width,y*=l?1:-1}}var Je=Object.assign({position:c},h&&f6),ht=d===!0?h6({x:y,y:E},Er(n)):{x:y,y:E};if(y=ht.x,E=ht.y,l){var ot;return Object.assign({},Je,(ot={},ot[x]=O?"0":"",ot[P]=A?"0":"",ot.transform=(B.devicePixelRatio||1)<=1?"translate("+y+"px, "+E+"px)":"translate3d("+y+"px, "+E+"px, 0)",ot))}return Object.assign({},Je,(e={},e[x]=O?E+"px":"",e[P]=A?y+"px":"",e.transform="",e))}function d6(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,a=s===void 0?!0:s,c=n.roundOffsets,l=c===void 0?!0:c,h={placement:Di(e.placement),variation:ec(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,dk(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,dk(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const z0={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:d6,data:{}};var Wd={passive:!0};function p6(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,a=r.resize,c=a===void 0?!0:a,l=Er(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&h.forEach(function(d){d.addEventListener("scroll",n.update,Wd)}),c&&l.addEventListener("resize",n.update,Wd),function(){s&&h.forEach(function(d){d.removeEventListener("scroll",n.update,Wd)}),c&&l.removeEventListener("resize",n.update,Wd)}}const Y0={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:p6,data:{}};var v6={left:"right",right:"left",bottom:"top",top:"bottom"};function Ep(t){return t.replace(/left|right|bottom|top/g,function(e){return v6[e]})}var g6={start:"end",end:"start"};function pk(t){return t.replace(/start|end/g,function(e){return g6[e]})}function Q0(t){var e=Er(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function X0(t){return Zu(ds(t)).left+Q0(t).scrollLeft}function m6(t,e){var n=Er(t),r=ds(t),i=n.visualViewport,s=r.clientWidth,a=r.clientHeight,c=0,l=0;if(i){s=i.width,a=i.height;var h=dP();(h||!h&&e==="fixed")&&(c=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:c+X0(t),y:l}}function y6(t){var e,n=ds(t),r=Q0(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=fa(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=fa(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-r.scrollLeft+X0(t),l=-r.scrollTop;return vo(i||n).direction==="rtl"&&(c+=fa(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:a,x:c,y:l}}function J0(t){var e=vo(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function _P(t){return["html","body","#document"].indexOf(Bi(t))>=0?t.ownerDocument.body:Fr(t)&&J0(t)?t:_P(Xv(t))}function of(t,e){var n;e===void 0&&(e=[]);var r=_P(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Er(r),a=i?[s].concat(s.visualViewport||[],J0(r)?r:[]):r,c=e.concat(a);return i?c:c.concat(of(Xv(a)))}function hb(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function _6(t,e){var n=Zu(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function vk(t,e,n){return e===$0?hb(m6(t,n)):ba(e)?_6(e,n):hb(y6(ds(t)))}function w6(t){var e=of(Xv(t)),n=["absolute","fixed"].indexOf(vo(t).position)>=0,r=n&&Fr(t)?nh(t):t;return ba(r)?e.filter(function(i){return ba(i)&&pP(i,r)&&Bi(i)!=="body"}):[]}function b6(t,e,n,r){var i=e==="clippingParents"?w6(t):[].concat(e),s=[].concat(i,[n]),a=s[0],c=s.reduce(function(l,h){var d=vk(t,h,r);return l.top=fa(d.top,l.top),l.right=jp(d.right,l.right),l.bottom=jp(d.bottom,l.bottom),l.left=fa(d.left,l.left),l},vk(t,a,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function wP(t){var e=t.reference,n=t.element,r=t.placement,i=r?Di(r):null,s=r?ec(r):null,a=e.x+e.width/2-n.width/2,c=e.y+e.height/2-n.height/2,l;switch(i){case Hn:l={x:a,y:e.y-n.height};break;case wr:l={x:a,y:e.y+e.height};break;case br:l={x:e.x+e.width,y:c};break;case Kn:l={x:e.x-n.width,y:c};break;default:l={x:e.x,y:e.y}}var h=i?G0(i):null;if(h!=null){var d=h==="y"?"height":"width";switch(s){case wa:l[h]=l[h]-(e[d]/2-n[d]/2);break;case Xu:l[h]=l[h]+(e[d]/2-n[d]/2);break}}return l}function tc(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,a=s===void 0?t.strategy:s,c=n.boundary,l=c===void 0?tP:c,h=n.rootBoundary,d=h===void 0?$0:h,v=n.elementContext,g=v===void 0?Nu:v,y=n.altBoundary,w=y===void 0?!1:y,E=n.padding,T=E===void 0?0:E,A=gP(typeof T!="number"?T:mP(T,xc)),O=g===Nu?nP:Nu,P=t.rects.popper,x=t.elements[w?O:g],B=b6(ba(x)?x:x.contextElement||ds(t.elements.popper),l,d,a),M=Zu(t.elements.reference),ie=wP({reference:M,element:P,strategy:"absolute",placement:i}),Z=hb(Object.assign({},P,ie)),Ie=g===Nu?Z:M,R={top:B.top-Ie.top+A.top,bottom:Ie.bottom-B.bottom+A.bottom,left:B.left-Ie.left+A.left,right:Ie.right-B.right+A.right},Je=t.modifiersData.offset;if(g===Nu&&Je){var ht=Je[i];Object.keys(R).forEach(function(ot){var on=[br,wr].indexOf(ot)>=0?1:-1,Pt=[Hn,wr].indexOf(ot)>=0?"y":"x";R[ot]+=ht[Pt]*on})}return R}function E6(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,a=n.padding,c=n.flipVariations,l=n.allowedAutoPlacements,h=l===void 0?q0:l,d=ec(r),v=d?c?lb:lb.filter(function(w){return ec(w)===d}):xc,g=v.filter(function(w){return h.indexOf(w)>=0});g.length===0&&(g=v);var y=g.reduce(function(w,E){return w[E]=tc(t,{placement:E,boundary:i,rootBoundary:s,padding:a})[Di(E)],w},{});return Object.keys(y).sort(function(w,E){return y[w]-y[E]})}function T6(t){if(Di(t)===Qv)return[];var e=Ep(t);return[pk(t),e,pk(e)]}function I6(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,a=n.altAxis,c=a===void 0?!0:a,l=n.fallbackPlacements,h=n.padding,d=n.boundary,v=n.rootBoundary,g=n.altBoundary,y=n.flipVariations,w=y===void 0?!0:y,E=n.allowedAutoPlacements,T=e.options.placement,A=Di(T),O=A===T,P=l||(O||!w?[Ep(T)]:T6(T)),x=[T].concat(P).reduce(function(wn,Dn){return wn.concat(Di(Dn)===Qv?E6(e,{placement:Dn,boundary:d,rootBoundary:v,padding:h,flipVariations:w,allowedAutoPlacements:E}):Dn)},[]),B=e.rects.reference,M=e.rects.popper,ie=new Map,Z=!0,Ie=x[0],R=0;R<x.length;R++){var Je=x[R],ht=Di(Je),ot=ec(Je)===wa,on=[Hn,wr].indexOf(ht)>=0,Pt=on?"width":"height",Ve=tc(e,{placement:Je,boundary:d,rootBoundary:v,altBoundary:g,padding:h}),ke=on?ot?br:Kn:ot?wr:Hn;B[Pt]>M[Pt]&&(ke=Ep(ke));var _e=Ep(ke),Nt=[];if(s&&Nt.push(Ve[ht]<=0),c&&Nt.push(Ve[ke]<=0,Ve[_e]<=0),Nt.every(function(wn){return wn})){Ie=Je,Z=!1;break}ie.set(Je,Nt)}if(Z)for(var xt=w?3:1,zt=function(Dn){var lt=x.find(function(j){var G=ie.get(j);if(G)return G.slice(0,Dn).every(function(ee){return ee})});if(lt)return Ie=lt,"break"},wt=xt;wt>0;wt--){var zn=zt(wt);if(zn==="break")break}e.placement!==Ie&&(e.modifiersData[r]._skip=!0,e.placement=Ie,e.reset=!0)}}const bP={name:"flip",enabled:!0,phase:"main",fn:I6,requiresIfExists:["offset"],data:{_skip:!1}};function gk(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function mk(t){return[Hn,br,wr,Kn].some(function(e){return t[e]>=0})}function S6(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,a=tc(e,{elementContext:"reference"}),c=tc(e,{altBoundary:!0}),l=gk(a,r),h=gk(c,i,s),d=mk(l),v=mk(h);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:h,isReferenceHidden:d,hasPopperEscaped:v},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":v})}const EP={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:S6};function A6(t,e,n){var r=Di(t),i=[Kn,Hn].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=s[0],c=s[1];return a=a||0,c=(c||0)*i,[Kn,br].indexOf(r)>=0?{x:c,y:a}:{x:a,y:c}}function C6(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,a=q0.reduce(function(d,v){return d[v]=A6(v,e.rects,s),d},{}),c=a[e.placement],l=c.x,h=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=h),e.modifiersData[r]=a}const TP={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:C6};function N6(t){var e=t.state,n=t.name;e.modifiersData[n]=wP({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Z0={name:"popperOffsets",enabled:!0,phase:"read",fn:N6,data:{}};function k6(t){return t==="x"?"y":"x"}function R6(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,a=n.altAxis,c=a===void 0?!1:a,l=n.boundary,h=n.rootBoundary,d=n.altBoundary,v=n.padding,g=n.tether,y=g===void 0?!0:g,w=n.tetherOffset,E=w===void 0?0:w,T=tc(e,{boundary:l,rootBoundary:h,padding:v,altBoundary:d}),A=Di(e.placement),O=ec(e.placement),P=!O,x=G0(A),B=k6(x),M=e.modifiersData.popperOffsets,ie=e.rects.reference,Z=e.rects.popper,Ie=typeof E=="function"?E(Object.assign({},e.rects,{placement:e.placement})):E,R=typeof Ie=="number"?{mainAxis:Ie,altAxis:Ie}:Object.assign({mainAxis:0,altAxis:0},Ie),Je=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ht={x:0,y:0};if(M){if(s){var ot,on=x==="y"?Hn:Kn,Pt=x==="y"?wr:br,Ve=x==="y"?"height":"width",ke=M[x],_e=ke+T[on],Nt=ke-T[Pt],xt=y?-Z[Ve]/2:0,zt=O===wa?ie[Ve]:Z[Ve],wt=O===wa?-Z[Ve]:-ie[Ve],zn=e.elements.arrow,wn=y&&zn?W0(zn):{width:0,height:0},Dn=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:vP(),lt=Dn[on],j=Dn[Pt],G=rf(0,ie[Ve],wn[Ve]),ee=P?ie[Ve]/2-xt-G-lt-R.mainAxis:zt-G-lt-R.mainAxis,le=P?-ie[Ve]/2+xt+G+j+R.mainAxis:wt+G+j+R.mainAxis,Le=e.elements.arrow&&nh(e.elements.arrow),S=Le?x==="y"?Le.clientTop||0:Le.clientLeft||0:0,k=(ot=Je==null?void 0:Je[x])!=null?ot:0,D=ke+ee-k-S,U=ke+le-k,V=rf(y?jp(_e,D):_e,ke,y?fa(Nt,U):Nt);M[x]=V,ht[x]=V-ke}if(c){var q,te=x==="x"?Hn:Kn,Q=x==="x"?wr:br,X=M[B],H=B==="y"?"height":"width",he=X+T[te],se=X-T[Q],fe=[Hn,Kn].indexOf(A)!==-1,Ee=(q=Je==null?void 0:Je[B])!=null?q:0,Oe=fe?he:X-ie[H]-Z[H]-Ee+R.altAxis,pe=fe?X+ie[H]+Z[H]-Ee-R.altAxis:se,Ke=y&&fe?a6(Oe,X,pe):rf(y?Oe:he,X,y?pe:se);M[B]=Ke,ht[B]=Ke-X}e.modifiersData[r]=ht}}const IP={name:"preventOverflow",enabled:!0,phase:"main",fn:R6,requiresIfExists:["offset"]};function O6(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function D6(t){return t===Er(t)||!Fr(t)?Q0(t):O6(t)}function P6(t){var e=t.getBoundingClientRect(),n=Ju(e.width)/t.offsetWidth||1,r=Ju(e.height)/t.offsetHeight||1;return n!==1||r!==1}function x6(t,e,n){n===void 0&&(n=!1);var r=Fr(e),i=Fr(e)&&P6(e),s=ds(e),a=Zu(t,i,n),c={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Bi(e)!=="body"||J0(s))&&(c=D6(e)),Fr(e)?(l=Zu(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=X0(s))),{x:a.left+c.scrollLeft-l.x,y:a.top+c.scrollTop-l.y,width:a.width,height:a.height}}function L6(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(c){if(!n.has(c)){var l=e.get(c);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function M6(t){var e=L6(t);return hP.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function F6(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function U6(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var yk={placement:"bottom",modifiers:[],strategy:"absolute"};function _k(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Jv(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?yk:i;return function(c,l,h){h===void 0&&(h=s);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},yk,s),modifiersData:{},elements:{reference:c,popper:l},attributes:{},styles:{}},v=[],g=!1,y={state:d,setOptions:function(A){var O=typeof A=="function"?A(d.options):A;E(),d.options=Object.assign({},s,d.options,O),d.scrollParents={reference:ba(c)?of(c):c.contextElement?of(c.contextElement):[],popper:of(l)};var P=M6(U6([].concat(r,d.options.modifiers)));return d.orderedModifiers=P.filter(function(x){return x.enabled}),w(),y.update()},forceUpdate:function(){if(!g){var A=d.elements,O=A.reference,P=A.popper;if(_k(O,P)){d.rects={reference:x6(O,nh(P),d.options.strategy==="fixed"),popper:W0(P)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(R){return d.modifiersData[R.name]=Object.assign({},R.data)});for(var x=0;x<d.orderedModifiers.length;x++){if(d.reset===!0){d.reset=!1,x=-1;continue}var B=d.orderedModifiers[x],M=B.fn,ie=B.options,Z=ie===void 0?{}:ie,Ie=B.name;typeof M=="function"&&(d=M({state:d,options:Z,name:Ie,instance:y})||d)}}}},update:F6(function(){return new Promise(function(T){y.forceUpdate(),T(d)})}),destroy:function(){E(),g=!0}};if(!_k(c,l))return y;y.setOptions(h).then(function(T){!g&&h.onFirstUpdate&&h.onFirstUpdate(T)});function w(){d.orderedModifiers.forEach(function(T){var A=T.name,O=T.options,P=O===void 0?{}:O,x=T.effect;if(typeof x=="function"){var B=x({state:d,name:A,instance:y,options:P}),M=function(){};v.push(B||M)}})}function E(){v.forEach(function(T){return T()}),v=[]}return y}}var V6=Jv(),j6=[Y0,Z0,z0,K0],B6=Jv({defaultModifiers:j6}),$6=[Y0,Z0,z0,K0,TP,bP,IP,yP,EP],eE=Jv({defaultModifiers:$6});const SP=Object.freeze(Object.defineProperty({__proto__:null,afterMain:uP,afterRead:oP,afterWrite:fP,applyStyles:K0,arrow:yP,auto:Qv,basePlacements:xc,beforeMain:sP,beforeRead:rP,beforeWrite:cP,bottom:wr,clippingParents:tP,computeStyles:z0,createPopper:eE,createPopperBase:V6,createPopperLite:B6,detectOverflow:tc,end:Xu,eventListeners:Y0,flip:bP,hide:EP,left:Kn,main:aP,modifierPhases:hP,offset:TP,placements:q0,popper:Nu,popperGenerator:Jv,popperOffsets:Z0,preventOverflow:IP,read:iP,reference:nP,right:br,start:wa,top:Hn,variationPlacements:lb,viewport:$0,write:lP},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Fo=new Map,z_={set(t,e,n){Fo.has(t)||Fo.set(t,new Map);const r=Fo.get(t);if(!r.has(e)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(e,n)},get(t,e){return Fo.has(t)&&Fo.get(t).get(e)||null},remove(t,e){if(!Fo.has(t))return;const n=Fo.get(t);n.delete(e),n.size===0&&Fo.delete(t)}},q6=1e6,H6=1e3,db="transitionend",AP=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(e,n)=>`#${CSS.escape(n)}`)),t),K6=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),W6=t=>{do t+=Math.floor(Math.random()*q6);while(document.getElementById(t));return t},G6=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const r=Number.parseFloat(e),i=Number.parseFloat(n);return!r&&!i?0:(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*H6)},CP=t=>{t.dispatchEvent(new Event(db))},co=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),is=t=>co(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(AP(t)):null,Lc=t=>{if(!co(t)||t.getClientRects().length===0)return!1;const e=getComputedStyle(t).getPropertyValue("visibility")==="visible",n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const r=t.closest("summary");if(r&&r.parentNode!==n||r===null)return!1}return e},os=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",NP=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?NP(t.parentNode):null},Bp=()=>{},rh=t=>{t.offsetHeight},kP=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Y_=[],z6=t=>{document.readyState==="loading"?(Y_.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of Y_)e()}),Y_.push(t)):t()},jr=()=>document.documentElement.dir==="rtl",Hr=t=>{z6(()=>{const e=kP();if(e){const n=t.NAME,r=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=r,t.jQueryInterface)}})},tr=(t,e=[],n=t)=>typeof t=="function"?t(...e):n,RP=(t,e,n=!0)=>{if(!n){tr(t);return}const r=5,i=G6(e)+r;let s=!1;const a=({target:c})=>{c===e&&(s=!0,e.removeEventListener(db,a),tr(t))};e.addEventListener(db,a),setTimeout(()=>{s||CP(e)},i)},tE=(t,e,n,r)=>{const i=t.length;let s=t.indexOf(e);return s===-1?!n&&r?t[i-1]:t[0]:(s+=n?1:-1,r&&(s=(s+i)%i),t[Math.max(0,Math.min(s,i-1))])},Y6=/[^.]*(?=\..*)\.|.*/,Q6=/\..*/,X6=/::\d+$/,Q_={};let wk=1;const OP={mouseenter:"mouseover",mouseleave:"mouseout"},J6=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function DP(t,e){return e&&`${e}::${wk++}`||t.uidEvent||wk++}function PP(t){const e=DP(t);return t.uidEvent=e,Q_[e]=Q_[e]||{},Q_[e]}function Z6(t,e){return function n(r){return nE(r,{delegateTarget:t}),n.oneOff&&W.off(t,r.type,e),e.apply(t,[r])}}function eG(t,e,n){return function r(i){const s=t.querySelectorAll(e);for(let{target:a}=i;a&&a!==this;a=a.parentNode)for(const c of s)if(c===a)return nE(i,{delegateTarget:a}),r.oneOff&&W.off(t,i.type,e,n),n.apply(a,[i])}}function xP(t,e,n=null){return Object.values(t).find(r=>r.callable===e&&r.delegationSelector===n)}function LP(t,e,n){const r=typeof e=="string",i=r?n:e||n;let s=MP(t);return J6.has(s)||(s=t),[r,i,s]}function bk(t,e,n,r,i){if(typeof e!="string"||!t)return;let[s,a,c]=LP(e,n,r);e in OP&&(a=(w=>function(E){if(!E.relatedTarget||E.relatedTarget!==E.delegateTarget&&!E.delegateTarget.contains(E.relatedTarget))return w.call(this,E)})(a));const l=PP(t),h=l[c]||(l[c]={}),d=xP(h,a,s?n:null);if(d){d.oneOff=d.oneOff&&i;return}const v=DP(a,e.replace(Y6,"")),g=s?eG(t,n,a):Z6(t,a);g.delegationSelector=s?n:null,g.callable=a,g.oneOff=i,g.uidEvent=v,h[v]=g,t.addEventListener(c,g,s)}function pb(t,e,n,r,i){const s=xP(e[n],r,i);s&&(t.removeEventListener(n,s,!!i),delete e[n][s.uidEvent])}function tG(t,e,n,r){const i=e[n]||{};for(const[s,a]of Object.entries(i))s.includes(r)&&pb(t,e,n,a.callable,a.delegationSelector)}function MP(t){return t=t.replace(Q6,""),OP[t]||t}const W={on(t,e,n,r){bk(t,e,n,r,!1)},one(t,e,n,r){bk(t,e,n,r,!0)},off(t,e,n,r){if(typeof e!="string"||!t)return;const[i,s,a]=LP(e,n,r),c=a!==e,l=PP(t),h=l[a]||{},d=e.startsWith(".");if(typeof s<"u"){if(!Object.keys(h).length)return;pb(t,l,a,s,i?n:null);return}if(d)for(const v of Object.keys(l))tG(t,l,v,e.slice(1));for(const[v,g]of Object.entries(h)){const y=v.replace(X6,"");(!c||e.includes(y))&&pb(t,l,a,g.callable,g.delegationSelector)}},trigger(t,e,n){if(typeof e!="string"||!t)return null;const r=kP(),i=MP(e),s=e!==i;let a=null,c=!0,l=!0,h=!1;s&&r&&(a=r.Event(e,n),r(t).trigger(a),c=!a.isPropagationStopped(),l=!a.isImmediatePropagationStopped(),h=a.isDefaultPrevented());const d=nE(new Event(e,{bubbles:c,cancelable:!0}),n);return h&&d.preventDefault(),l&&t.dispatchEvent(d),d.defaultPrevented&&a&&a.preventDefault(),d}};function nE(t,e={}){for(const[n,r]of Object.entries(e))try{t[n]=r}catch{Object.defineProperty(t,n,{configurable:!0,get(){return r}})}return t}function Ek(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function X_(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const lo={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${X_(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${X_(e)}`)},getDataAttributes(t){if(!t)return{};const e={},n=Object.keys(t.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(const r of n){let i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=Ek(t.dataset[r])}return e},getDataAttribute(t,e){return Ek(t.getAttribute(`data-bs-${X_(e)}`))}};class ih{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,n){const r=co(n)?lo.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof r=="object"?r:{},...co(n)?lo.getDataAttributes(n):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,n=this.constructor.DefaultType){for(const[r,i]of Object.entries(n)){const s=e[r],a=co(s)?"element":K6(s);if(!new RegExp(i).test(a))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${a}" but expected type "${i}".`)}}}const nG="5.3.2";class di extends ih{constructor(e,n){super(),e=is(e),e&&(this._element=e,this._config=this._getConfig(n),z_.set(this._element,this.constructor.DATA_KEY,this))}dispose(){z_.remove(this._element,this.constructor.DATA_KEY),W.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,n,r=!0){RP(e,n,r)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return z_.get(is(e),this.DATA_KEY)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}static get VERSION(){return nG}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const J_=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?AP(n.trim()):null}return e},me={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(n=>n.matches(e))},parents(t,e){const n=[];let r=t.parentNode.closest(e);for(;r;)n.push(r),r=r.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(n=>!os(n)&&Lc(n))},getSelectorFromElement(t){const e=J_(t);return e&&me.findOne(e)?e:null},getElementFromSelector(t){const e=J_(t);return e?me.findOne(e):null},getMultipleElementsFromSelector(t){const e=J_(t);return e?me.find(e):[]}},Zv=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,r=t.NAME;W.on(document,n,`[data-bs-dismiss="${r}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),os(this))return;const s=me.getElementFromSelector(this)||this.closest(`.${r}`);t.getOrCreateInstance(s)[e]()})},rG="alert",iG="bs.alert",FP=`.${iG}`,oG=`close${FP}`,sG=`closed${FP}`,aG="fade",uG="show";class eg extends di{static get NAME(){return rG}close(){if(W.trigger(this._element,oG).defaultPrevented)return;this._element.classList.remove(uG);const n=this._element.classList.contains(aG);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),W.trigger(this._element,sG),this.dispose()}static jQueryInterface(e){return this.each(function(){const n=eg.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}Zv(eg,"close");Hr(eg);const cG="button",lG="bs.button",fG=`.${lG}`,hG=".data-api",dG="active",Tk='[data-bs-toggle="button"]',pG=`click${fG}${hG}`;class tg extends di{static get NAME(){return cG}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(dG))}static jQueryInterface(e){return this.each(function(){const n=tg.getOrCreateInstance(this);e==="toggle"&&n[e]()})}}W.on(document,pG,Tk,t=>{t.preventDefault();const e=t.target.closest(Tk);tg.getOrCreateInstance(e).toggle()});Hr(tg);const vG="swipe",Mc=".bs.swipe",gG=`touchstart${Mc}`,mG=`touchmove${Mc}`,yG=`touchend${Mc}`,_G=`pointerdown${Mc}`,wG=`pointerup${Mc}`,bG="touch",EG="pen",TG="pointer-event",IG=40,SG={endCallback:null,leftCallback:null,rightCallback:null},AG={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class $p extends ih{constructor(e,n){super(),this._element=e,!(!e||!$p.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return SG}static get DefaultType(){return AG}static get NAME(){return vG}dispose(){W.off(this._element,Mc)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),tr(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=IG)return;const n=e/this._deltaX;this._deltaX=0,n&&tr(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(W.on(this._element,_G,e=>this._start(e)),W.on(this._element,wG,e=>this._end(e)),this._element.classList.add(TG)):(W.on(this._element,gG,e=>this._start(e)),W.on(this._element,mG,e=>this._move(e)),W.on(this._element,yG,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===EG||e.pointerType===bG)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const CG="carousel",NG="bs.carousel",ps=`.${NG}`,UP=".data-api",kG="ArrowLeft",RG="ArrowRight",OG=500,jl="next",wu="prev",ku="left",Tp="right",DG=`slide${ps}`,Z_=`slid${ps}`,PG=`keydown${ps}`,xG=`mouseenter${ps}`,LG=`mouseleave${ps}`,MG=`dragstart${ps}`,FG=`load${ps}${UP}`,UG=`click${ps}${UP}`,VP="carousel",Gd="active",VG="slide",jG="carousel-item-end",BG="carousel-item-start",$G="carousel-item-next",qG="carousel-item-prev",jP=".active",BP=".carousel-item",HG=jP+BP,KG=".carousel-item img",WG=".carousel-indicators",GG="[data-bs-slide], [data-bs-slide-to]",zG='[data-bs-ride="carousel"]',YG={[kG]:Tp,[RG]:ku},QG={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},XG={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class oh extends di{constructor(e,n){super(e,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=me.findOne(WG,this._element),this._addEventListeners(),this._config.ride===VP&&this.cycle()}static get Default(){return QG}static get DefaultType(){return XG}static get NAME(){return CG}next(){this._slide(jl)}nextWhenVisible(){!document.hidden&&Lc(this._element)&&this.next()}prev(){this._slide(wu)}pause(){this._isSliding&&CP(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){W.one(this._element,Z_,()=>this.cycle());return}this.cycle()}}to(e){const n=this._getItems();if(e>n.length-1||e<0)return;if(this._isSliding){W.one(this._element,Z_,()=>this.to(e));return}const r=this._getItemIndex(this._getActive());if(r===e)return;const i=e>r?jl:wu;this._slide(i,n[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&W.on(this._element,PG,e=>this._keydown(e)),this._config.pause==="hover"&&(W.on(this._element,xG,()=>this.pause()),W.on(this._element,LG,()=>this._maybeEnableCycle())),this._config.touch&&$p.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const r of me.find(KG,this._element))W.on(r,MG,i=>i.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(ku)),rightCallback:()=>this._slide(this._directionToOrder(Tp)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),OG+this._config.interval))}};this._swipeHelper=new $p(this._element,n)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const n=YG[e.key];n&&(e.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const n=me.findOne(jP,this._indicatorsElement);n.classList.remove(Gd),n.removeAttribute("aria-current");const r=me.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);r&&(r.classList.add(Gd),r.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const n=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(e,n=null){if(this._isSliding)return;const r=this._getActive(),i=e===jl,s=n||tE(this._getItems(),r,i,this._config.wrap);if(s===r)return;const a=this._getItemIndex(s),c=y=>W.trigger(this._element,y,{relatedTarget:s,direction:this._orderToDirection(e),from:this._getItemIndex(r),to:a});if(c(DG).defaultPrevented||!r||!s)return;const h=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(a),this._activeElement=s;const d=i?BG:jG,v=i?$G:qG;s.classList.add(v),rh(s),r.classList.add(d),s.classList.add(d);const g=()=>{s.classList.remove(d,v),s.classList.add(Gd),r.classList.remove(Gd,v,d),this._isSliding=!1,c(Z_)};this._queueCallback(g,r,this._isAnimated()),h&&this.cycle()}_isAnimated(){return this._element.classList.contains(VG)}_getActive(){return me.findOne(HG,this._element)}_getItems(){return me.find(BP,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return jr()?e===ku?wu:jl:e===ku?jl:wu}_orderToDirection(e){return jr()?e===wu?ku:Tp:e===wu?Tp:ku}static jQueryInterface(e){return this.each(function(){const n=oh.getOrCreateInstance(this,e);if(typeof e=="number"){n.to(e);return}if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}W.on(document,UG,GG,function(t){const e=me.getElementFromSelector(this);if(!e||!e.classList.contains(VP))return;t.preventDefault();const n=oh.getOrCreateInstance(e),r=this.getAttribute("data-bs-slide-to");if(r){n.to(r),n._maybeEnableCycle();return}if(lo.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});W.on(window,FG,()=>{const t=me.find(zG);for(const e of t)oh.getOrCreateInstance(e)});Hr(oh);const JG="collapse",ZG="bs.collapse",sh=`.${ZG}`,ez=".data-api",tz=`show${sh}`,nz=`shown${sh}`,rz=`hide${sh}`,iz=`hidden${sh}`,oz=`click${sh}${ez}`,ew="show",xu="collapse",zd="collapsing",sz="collapsed",az=`:scope .${xu} .${xu}`,uz="collapse-horizontal",cz="width",lz="height",fz=".collapse.show, .collapse.collapsing",vb='[data-bs-toggle="collapse"]',hz={parent:null,toggle:!0},dz={parent:"(null|element)",toggle:"boolean"};class Af extends di{constructor(e,n){super(e,n),this._isTransitioning=!1,this._triggerArray=[];const r=me.find(vb);for(const i of r){const s=me.getSelectorFromElement(i),a=me.find(s).filter(c=>c===this._element);s!==null&&a.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return hz}static get DefaultType(){return dz}static get NAME(){return JG}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(fz).filter(c=>c!==this._element).map(c=>Af.getOrCreateInstance(c,{toggle:!1}))),e.length&&e[0]._isTransitioning||W.trigger(this._element,tz).defaultPrevented)return;for(const c of e)c.hide();const r=this._getDimension();this._element.classList.remove(xu),this._element.classList.add(zd),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(zd),this._element.classList.add(xu,ew),this._element.style[r]="",W.trigger(this._element,nz)},a=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[r]=`${this._element[a]}px`}hide(){if(this._isTransitioning||!this._isShown()||W.trigger(this._element,rz).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,rh(this._element),this._element.classList.add(zd),this._element.classList.remove(xu,ew);for(const i of this._triggerArray){const s=me.getElementFromSelector(i);s&&!this._isShown(s)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(zd),this._element.classList.add(xu),W.trigger(this._element,iz)};this._element.style[n]="",this._queueCallback(r,this._element,!0)}_isShown(e=this._element){return e.classList.contains(ew)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=is(e.parent),e}_getDimension(){return this._element.classList.contains(uz)?cz:lz}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(vb);for(const n of e){const r=me.getElementFromSelector(n);r&&this._addAriaAndCollapsedClass([n],this._isShown(r))}}_getFirstLevelChildren(e){const n=me.find(az,this._config.parent);return me.find(e,this._config.parent).filter(r=>!n.includes(r))}_addAriaAndCollapsedClass(e,n){if(e.length)for(const r of e)r.classList.toggle(sz,!n),r.setAttribute("aria-expanded",n)}static jQueryInterface(e){const n={};return typeof e=="string"&&/show|hide/.test(e)&&(n.toggle=!1),this.each(function(){const r=Af.getOrCreateInstance(this,n);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}}W.on(document,oz,vb,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();for(const e of me.getMultipleElementsFromSelector(this))Af.getOrCreateInstance(e,{toggle:!1}).toggle()});Hr(Af);const Ik="dropdown",pz="bs.dropdown",La=`.${pz}`,rE=".data-api",vz="Escape",Sk="Tab",gz="ArrowUp",Ak="ArrowDown",mz=2,yz=`hide${La}`,_z=`hidden${La}`,wz=`show${La}`,bz=`shown${La}`,$P=`click${La}${rE}`,qP=`keydown${La}${rE}`,Ez=`keyup${La}${rE}`,Ru="show",Tz="dropup",Iz="dropend",Sz="dropstart",Az="dropup-center",Cz="dropdown-center",Zs='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Nz=`${Zs}.${Ru}`,Ip=".dropdown-menu",kz=".navbar",Rz=".navbar-nav",Oz=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Dz=jr()?"top-end":"top-start",Pz=jr()?"top-start":"top-end",xz=jr()?"bottom-end":"bottom-start",Lz=jr()?"bottom-start":"bottom-end",Mz=jr()?"left-start":"right-start",Fz=jr()?"right-start":"left-start",Uz="top",Vz="bottom",jz={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Bz={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Pi extends di{constructor(e,n){super(e,n),this._popper=null,this._parent=this._element.parentNode,this._menu=me.next(this._element,Ip)[0]||me.prev(this._element,Ip)[0]||me.findOne(Ip,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return jz}static get DefaultType(){return Bz}static get NAME(){return Ik}toggle(){return this._isShown()?this.hide():this.show()}show(){if(os(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!W.trigger(this._element,wz,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Rz))for(const r of[].concat(...document.body.children))W.on(r,"mouseover",Bp);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ru),this._element.classList.add(Ru),W.trigger(this._element,bz,e)}}hide(){if(os(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!W.trigger(this._element,yz,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))W.off(r,"mouseover",Bp);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ru),this._element.classList.remove(Ru),this._element.setAttribute("aria-expanded","false"),lo.removeDataAttribute(this._menu,"popper"),W.trigger(this._element,_z,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!co(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${Ik.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof SP>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:co(this._config.reference)?e=is(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const n=this._getPopperConfig();this._popper=eE(e,this._menu,n)}_isShown(){return this._menu.classList.contains(Ru)}_getPlacement(){const e=this._parent;if(e.classList.contains(Iz))return Mz;if(e.classList.contains(Sz))return Fz;if(e.classList.contains(Az))return Uz;if(e.classList.contains(Cz))return Vz;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(Tz)?n?Pz:Dz:n?Lz:xz}_detectNavbar(){return this._element.closest(kz)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(lo.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...tr(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:n}){const r=me.find(Oz,this._menu).filter(i=>Lc(i));r.length&&tE(r,n,e===Ak,!r.includes(n)).focus()}static jQueryInterface(e){return this.each(function(){const n=Pi.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}static clearMenus(e){if(e.button===mz||e.type==="keyup"&&e.key!==Sk)return;const n=me.find(Nz);for(const r of n){const i=Pi.getInstance(r);if(!i||i._config.autoClose===!1)continue;const s=e.composedPath(),a=s.includes(i._menu);if(s.includes(i._element)||i._config.autoClose==="inside"&&!a||i._config.autoClose==="outside"&&a||i._menu.contains(e.target)&&(e.type==="keyup"&&e.key===Sk||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const c={relatedTarget:i._element};e.type==="click"&&(c.clickEvent=e),i._completeHide(c)}}static dataApiKeydownHandler(e){const n=/input|textarea/i.test(e.target.tagName),r=e.key===vz,i=[gz,Ak].includes(e.key);if(!i&&!r||n&&!r)return;e.preventDefault();const s=this.matches(Zs)?this:me.prev(this,Zs)[0]||me.next(this,Zs)[0]||me.findOne(Zs,e.delegateTarget.parentNode),a=Pi.getOrCreateInstance(s);if(i){e.stopPropagation(),a.show(),a._selectMenuItem(e);return}a._isShown()&&(e.stopPropagation(),a.hide(),s.focus())}}W.on(document,qP,Zs,Pi.dataApiKeydownHandler);W.on(document,qP,Ip,Pi.dataApiKeydownHandler);W.on(document,$P,Pi.clearMenus);W.on(document,Ez,Pi.clearMenus);W.on(document,$P,Zs,function(t){t.preventDefault(),Pi.getOrCreateInstance(this).toggle()});Hr(Pi);const HP="backdrop",$z="fade",Ck="show",Nk=`mousedown.bs.${HP}`,qz={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Hz={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class KP extends ih{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return qz}static get DefaultType(){return Hz}static get NAME(){return HP}show(e){if(!this._config.isVisible){tr(e);return}this._append();const n=this._getElement();this._config.isAnimated&&rh(n),n.classList.add(Ck),this._emulateAnimation(()=>{tr(e)})}hide(e){if(!this._config.isVisible){tr(e);return}this._getElement().classList.remove(Ck),this._emulateAnimation(()=>{this.dispose(),tr(e)})}dispose(){this._isAppended&&(W.off(this._element,Nk),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add($z),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=is(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),W.on(e,Nk,()=>{tr(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){RP(e,this._getElement(),this._config.isAnimated)}}const Kz="focustrap",Wz="bs.focustrap",qp=`.${Wz}`,Gz=`focusin${qp}`,zz=`keydown.tab${qp}`,Yz="Tab",Qz="forward",kk="backward",Xz={autofocus:!0,trapElement:null},Jz={autofocus:"boolean",trapElement:"element"};class WP extends ih{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Xz}static get DefaultType(){return Jz}static get NAME(){return Kz}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),W.off(document,qp),W.on(document,Gz,e=>this._handleFocusin(e)),W.on(document,zz,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,W.off(document,qp))}_handleFocusin(e){const{trapElement:n}=this._config;if(e.target===document||e.target===n||n.contains(e.target))return;const r=me.focusableChildren(n);r.length===0?n.focus():this._lastTabNavDirection===kk?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){e.key===Yz&&(this._lastTabNavDirection=e.shiftKey?kk:Qz)}}const Rk=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ok=".sticky-top",Yd="padding-right",Dk="margin-right";class gb{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Yd,n=>n+e),this._setElementAttributes(Rk,Yd,n=>n+e),this._setElementAttributes(Ok,Dk,n=>n-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Yd),this._resetElementAttributes(Rk,Yd),this._resetElementAttributes(Ok,Dk)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,n,r){const i=this.getWidth(),s=a=>{if(a!==this._element&&window.innerWidth>a.clientWidth+i)return;this._saveInitialAttribute(a,n);const c=window.getComputedStyle(a).getPropertyValue(n);a.style.setProperty(n,`${r(Number.parseFloat(c))}px`)};this._applyManipulationCallback(e,s)}_saveInitialAttribute(e,n){const r=e.style.getPropertyValue(n);r&&lo.setDataAttribute(e,n,r)}_resetElementAttributes(e,n){const r=i=>{const s=lo.getDataAttribute(i,n);if(s===null){i.style.removeProperty(n);return}lo.removeDataAttribute(i,n),i.style.setProperty(n,s)};this._applyManipulationCallback(e,r)}_applyManipulationCallback(e,n){if(co(e)){n(e);return}for(const r of me.find(e,this._element))n(r)}}const Zz="modal",e5="bs.modal",Br=`.${e5}`,t5=".data-api",n5="Escape",r5=`hide${Br}`,i5=`hidePrevented${Br}`,GP=`hidden${Br}`,zP=`show${Br}`,o5=`shown${Br}`,s5=`resize${Br}`,a5=`click.dismiss${Br}`,u5=`mousedown.dismiss${Br}`,c5=`keydown.dismiss${Br}`,l5=`click${Br}${t5}`,Pk="modal-open",f5="fade",xk="show",tw="modal-static",h5=".modal.show",d5=".modal-dialog",p5=".modal-body",v5='[data-bs-toggle="modal"]',g5={backdrop:!0,focus:!0,keyboard:!0},m5={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class nc extends di{constructor(e,n){super(e,n),this._dialog=me.findOne(d5,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new gb,this._addEventListeners()}static get Default(){return g5}static get DefaultType(){return m5}static get NAME(){return Zz}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||W.trigger(this._element,zP,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Pk),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||W.trigger(this._element,r5).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(xk),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){W.off(window,Br),W.off(this._dialog,Br),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new KP({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new WP({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=me.findOne(p5,this._dialog);n&&(n.scrollTop=0),rh(this._element),this._element.classList.add(xk);const r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,W.trigger(this._element,o5,{relatedTarget:e})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){W.on(this._element,c5,e=>{if(e.key===n5){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),W.on(window,s5,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),W.on(this._element,u5,e=>{W.one(this._element,a5,n=>{if(!(this._element!==e.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Pk),this._resetAdjustments(),this._scrollBar.reset(),W.trigger(this._element,GP)})}_isAnimated(){return this._element.classList.contains(f5)}_triggerBackdropTransition(){if(W.trigger(this._element,i5).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(tw)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(tw),this._queueCallback(()=>{this._element.classList.remove(tw),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),r=n>0;if(r&&!e){const i=jr()?"paddingLeft":"paddingRight";this._element.style[i]=`${n}px`}if(!r&&e){const i=jr()?"paddingRight":"paddingLeft";this._element.style[i]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,n){return this.each(function(){const r=nc.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](n)}})}}W.on(document,l5,v5,function(t){const e=me.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),W.one(e,zP,i=>{i.defaultPrevented||W.one(e,GP,()=>{Lc(this)&&this.focus()})});const n=me.findOne(h5);n&&nc.getInstance(n).hide(),nc.getOrCreateInstance(e).toggle(this)});Zv(nc);Hr(nc);const y5="offcanvas",_5="bs.offcanvas",bo=`.${_5}`,YP=".data-api",w5=`load${bo}${YP}`,b5="Escape",Lk="show",Mk="showing",Fk="hiding",E5="offcanvas-backdrop",QP=".offcanvas.show",T5=`show${bo}`,I5=`shown${bo}`,S5=`hide${bo}`,Uk=`hidePrevented${bo}`,XP=`hidden${bo}`,A5=`resize${bo}`,C5=`click${bo}${YP}`,N5=`keydown.dismiss${bo}`,k5='[data-bs-toggle="offcanvas"]',R5={backdrop:!0,keyboard:!0,scroll:!1},O5={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ss extends di{constructor(e,n){super(e,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return R5}static get DefaultType(){return O5}static get NAME(){return y5}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||W.trigger(this._element,T5,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new gb().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Mk);const r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Lk),this._element.classList.remove(Mk),W.trigger(this._element,I5,{relatedTarget:e})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||W.trigger(this._element,S5).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Fk),this._backdrop.hide();const n=()=>{this._element.classList.remove(Lk,Fk),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new gb().reset(),W.trigger(this._element,XP)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){W.trigger(this._element,Uk);return}this.hide()},n=!!this._config.backdrop;return new KP({className:E5,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?e:null})}_initializeFocusTrap(){return new WP({trapElement:this._element})}_addEventListeners(){W.on(this._element,N5,e=>{if(e.key===b5){if(this._config.keyboard){this.hide();return}W.trigger(this._element,Uk)}})}static jQueryInterface(e){return this.each(function(){const n=ss.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}W.on(document,C5,k5,function(t){const e=me.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),os(this))return;W.one(e,XP,()=>{Lc(this)&&this.focus()});const n=me.findOne(QP);n&&n!==e&&ss.getInstance(n).hide(),ss.getOrCreateInstance(e).toggle(this)});W.on(window,w5,()=>{for(const t of me.find(QP))ss.getOrCreateInstance(t).show()});W.on(window,A5,()=>{for(const t of me.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&ss.getOrCreateInstance(t).hide()});Zv(ss);Hr(ss);const D5=/^aria-[\w-]*$/i,JP={"*":["class","dir","id","lang","role",D5],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},P5=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),x5=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,L5=(t,e)=>{const n=t.nodeName.toLowerCase();return e.includes(n)?P5.has(n)?!!x5.test(t.nodeValue):!0:e.filter(r=>r instanceof RegExp).some(r=>r.test(n))};function M5(t,e,n){if(!t.length)return t;if(n&&typeof n=="function")return n(t);const i=new window.DOMParser().parseFromString(t,"text/html"),s=[].concat(...i.body.querySelectorAll("*"));for(const a of s){const c=a.nodeName.toLowerCase();if(!Object.keys(e).includes(c)){a.remove();continue}const l=[].concat(...a.attributes),h=[].concat(e["*"]||[],e[c]||[]);for(const d of l)L5(d,h)||a.removeAttribute(d.nodeName)}return i.body.innerHTML}const F5="TemplateFactory",U5={allowList:JP,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},V5={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},j5={entry:"(string|element|function|null)",selector:"(string|element)"};class B5 extends ih{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return U5}static get DefaultType(){return V5}static get NAME(){return F5}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[i,s]of Object.entries(this._config.content))this._setContent(e,s,i);const n=e.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&n.classList.add(...r.split(" ")),n}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[n,r]of Object.entries(e))super._typeCheckConfig({selector:n,entry:r},j5)}_setContent(e,n,r){const i=me.findOne(r,e);if(i){if(n=this._resolvePossibleFunction(n),!n){i.remove();return}if(co(n)){this._putElementInTemplate(is(n),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(n);return}i.textContent=n}}_maybeSanitize(e){return this._config.sanitize?M5(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return tr(e,[this])}_putElementInTemplate(e,n){if(this._config.html){n.innerHTML="",n.append(e);return}n.textContent=e.textContent}}const $5="tooltip",q5=new Set(["sanitize","allowList","sanitizeFn"]),nw="fade",H5="modal",Qd="show",K5=".tooltip-inner",Vk=`.${H5}`,jk="hide.bs.modal",Bl="hover",rw="focus",W5="click",G5="manual",z5="hide",Y5="hidden",Q5="show",X5="shown",J5="inserted",Z5="click",e3="focusin",t3="focusout",n3="mouseenter",r3="mouseleave",i3={AUTO:"auto",TOP:"top",RIGHT:jr()?"left":"right",BOTTOM:"bottom",LEFT:jr()?"right":"left"},o3={allowList:JP,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},s3={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Fc extends di{constructor(e,n){if(typeof SP>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return o3}static get DefaultType(){return s3}static get NAME(){return $5}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),W.off(this._element.closest(Vk),jk,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=W.trigger(this._element,this.constructor.eventName(Q5)),r=(NP(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!r)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:s}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(i),W.trigger(this._element,this.constructor.eventName(J5))),this._popper=this._createPopper(i),i.classList.add(Qd),"ontouchstart"in document.documentElement)for(const c of[].concat(...document.body.children))W.on(c,"mouseover",Bp);const a=()=>{W.trigger(this._element,this.constructor.eventName(X5)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(a,this.tip,this._isAnimated())}hide(){if(!this._isShown()||W.trigger(this._element,this.constructor.eventName(z5)).defaultPrevented)return;if(this._getTipElement().classList.remove(Qd),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))W.off(i,"mouseover",Bp);this._activeTrigger[W5]=!1,this._activeTrigger[rw]=!1,this._activeTrigger[Bl]=!1,this._isHovered=null;const r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),W.trigger(this._element,this.constructor.eventName(Y5)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const n=this._getTemplateFactory(e).toHtml();if(!n)return null;n.classList.remove(nw,Qd),n.classList.add(`bs-${this.constructor.NAME}-auto`);const r=W6(this.constructor.NAME).toString();return n.setAttribute("id",r),this._isAnimated()&&n.classList.add(nw),n}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new B5({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[K5]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(nw)}_isShown(){return this.tip&&this.tip.classList.contains(Qd)}_createPopper(e){const n=tr(this._config.placement,[this,e,this._element]),r=i3[n.toUpperCase()];return eE(this._element,e,this._getPopperConfig(r))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_resolvePossibleFunction(e){return tr(e,[this._element])}_getPopperConfig(e){const n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return{...n,...tr(this._config.popperConfig,[n])}}_setListeners(){const e=this._config.trigger.split(" ");for(const n of e)if(n==="click")W.on(this._element,this.constructor.eventName(Z5),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if(n!==G5){const r=n===Bl?this.constructor.eventName(n3):this.constructor.eventName(e3),i=n===Bl?this.constructor.eventName(r3):this.constructor.eventName(t3);W.on(this._element,r,this._config.selector,s=>{const a=this._initializeOnDelegatedTarget(s);a._activeTrigger[s.type==="focusin"?rw:Bl]=!0,a._enter()}),W.on(this._element,i,this._config.selector,s=>{const a=this._initializeOnDelegatedTarget(s);a._activeTrigger[s.type==="focusout"?rw:Bl]=a._element.contains(s.relatedTarget),a._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},W.on(this._element.closest(Vk),jk,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,n){clearTimeout(this._timeout),this._timeout=setTimeout(e,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const n=lo.getDataAttributes(this._element);for(const r of Object.keys(n))q5.has(r)&&delete n[r];return e={...n,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:is(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[n,r]of Object.entries(this._config))this.constructor.Default[n]!==r&&(e[n]=r);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const n=Fc.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Hr(Fc);const a3="popover",u3=".popover-header",c3=".popover-body",l3={...Fc.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},f3={...Fc.DefaultType,content:"(null|string|element|function)"};class iE extends Fc{static get Default(){return l3}static get DefaultType(){return f3}static get NAME(){return a3}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[u3]:this._getTitle(),[c3]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const n=iE.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Hr(iE);const h3="scrollspy",d3="bs.scrollspy",oE=`.${d3}`,p3=".data-api",v3=`activate${oE}`,Bk=`click${oE}`,g3=`load${oE}${p3}`,m3="dropdown-item",bu="active",y3='[data-bs-spy="scroll"]',iw="[href]",_3=".nav, .list-group",$k=".nav-link",w3=".nav-item",b3=".list-group-item",E3=`${$k}, ${w3} > ${$k}, ${b3}`,T3=".dropdown",I3=".dropdown-toggle",S3={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},A3={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ng extends di{constructor(e,n){super(e,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return S3}static get DefaultType(){return A3}static get NAME(){return h3}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=is(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(n=>Number.parseFloat(n))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(W.off(this._config.target,Bk),W.on(this._config.target,Bk,iw,e=>{const n=this._observableSections.get(e.target.hash);if(n){e.preventDefault();const r=this._rootElement||window,i=n.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:i,behavior:"smooth"});return}r.scrollTop=i}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),e)}_observerCallback(e){const n=a=>this._targetLinks.get(`#${a.target.id}`),r=a=>{this._previousScrollData.visibleEntryTop=a.target.offsetTop,this._process(n(a))},i=(this._rootElement||document.documentElement).scrollTop,s=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const a of e){if(!a.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(a));continue}const c=a.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&c){if(r(a),!i)return;continue}!s&&!c&&r(a)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=me.find(iw,this._config.target);for(const n of e){if(!n.hash||os(n))continue;const r=me.findOne(decodeURI(n.hash),this._element);Lc(r)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,r))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(bu),this._activateParents(e),W.trigger(this._element,v3,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(m3)){me.findOne(I3,e.closest(T3)).classList.add(bu);return}for(const n of me.parents(e,_3))for(const r of me.prev(n,E3))r.classList.add(bu)}_clearActiveClass(e){e.classList.remove(bu);const n=me.find(`${iw}.${bu}`,e);for(const r of n)r.classList.remove(bu)}static jQueryInterface(e){return this.each(function(){const n=ng.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}W.on(window,g3,()=>{for(const t of me.find(y3))ng.getOrCreateInstance(t)});Hr(ng);const C3="tab",N3="bs.tab",Ma=`.${N3}`,k3=`hide${Ma}`,R3=`hidden${Ma}`,O3=`show${Ma}`,D3=`shown${Ma}`,P3=`click${Ma}`,x3=`keydown${Ma}`,L3=`load${Ma}`,M3="ArrowLeft",qk="ArrowRight",F3="ArrowUp",Hk="ArrowDown",ow="Home",Kk="End",ea="active",Wk="fade",sw="show",U3="dropdown",ZP=".dropdown-toggle",V3=".dropdown-menu",aw=`:not(${ZP})`,j3='.list-group, .nav, [role="tablist"]',B3=".nav-item, .list-group-item",$3=`.nav-link${aw}, .list-group-item${aw}, [role="tab"]${aw}`,ex='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',uw=`${$3}, ${ex}`,q3=`.${ea}[data-bs-toggle="tab"], .${ea}[data-bs-toggle="pill"], .${ea}[data-bs-toggle="list"]`;class rc extends di{constructor(e){super(e),this._parent=this._element.closest(j3),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),W.on(this._element,x3,n=>this._keydown(n)))}static get NAME(){return C3}show(){const e=this._element;if(this._elemIsActive(e))return;const n=this._getActiveElem(),r=n?W.trigger(n,k3,{relatedTarget:e}):null;W.trigger(e,O3,{relatedTarget:n}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(n,e),this._activate(e,n))}_activate(e,n){if(!e)return;e.classList.add(ea),this._activate(me.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(sw);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),W.trigger(e,D3,{relatedTarget:n})};this._queueCallback(r,e,e.classList.contains(Wk))}_deactivate(e,n){if(!e)return;e.classList.remove(ea),e.blur(),this._deactivate(me.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(sw);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),W.trigger(e,R3,{relatedTarget:n})};this._queueCallback(r,e,e.classList.contains(Wk))}_keydown(e){if(![M3,qk,F3,Hk,ow,Kk].includes(e.key))return;e.stopPropagation(),e.preventDefault();const n=this._getChildren().filter(i=>!os(i));let r;if([ow,Kk].includes(e.key))r=n[e.key===ow?0:n.length-1];else{const i=[qk,Hk].includes(e.key);r=tE(n,e.target,i,!0)}r&&(r.focus({preventScroll:!0}),rc.getOrCreateInstance(r).show())}_getChildren(){return me.find(uw,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,n){this._setAttributeIfNotExists(e,"role","tablist");for(const r of n)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const n=this._elemIsActive(e),r=this._getOuterElement(e);e.setAttribute("aria-selected",n),r!==e&&this._setAttributeIfNotExists(r,"role","presentation"),n||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const n=me.getElementFromSelector(e);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,n){const r=this._getOuterElement(e);if(!r.classList.contains(U3))return;const i=(s,a)=>{const c=me.findOne(s,r);c&&c.classList.toggle(a,n)};i(ZP,ea),i(V3,sw),r.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(e,n,r){e.hasAttribute(n)||e.setAttribute(n,r)}_elemIsActive(e){return e.classList.contains(ea)}_getInnerElement(e){return e.matches(uw)?e:me.findOne(uw,e)}_getOuterElement(e){return e.closest(B3)||e}static jQueryInterface(e){return this.each(function(){const n=rc.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}W.on(document,P3,ex,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!os(this)&&rc.getOrCreateInstance(this).show()});W.on(window,L3,()=>{for(const t of me.find(q3))rc.getOrCreateInstance(t)});Hr(rc);const H3="toast",K3="bs.toast",vs=`.${K3}`,W3=`mouseover${vs}`,G3=`mouseout${vs}`,z3=`focusin${vs}`,Y3=`focusout${vs}`,Q3=`hide${vs}`,X3=`hidden${vs}`,J3=`show${vs}`,Z3=`shown${vs}`,e8="fade",Gk="hide",Xd="show",Jd="showing",t8={animation:"boolean",autohide:"boolean",delay:"number"},n8={animation:!0,autohide:!0,delay:5e3};class rg extends di{constructor(e,n){super(e,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return n8}static get DefaultType(){return t8}static get NAME(){return H3}show(){if(W.trigger(this._element,J3).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(e8);const n=()=>{this._element.classList.remove(Jd),W.trigger(this._element,Z3),this._maybeScheduleHide()};this._element.classList.remove(Gk),rh(this._element),this._element.classList.add(Xd,Jd),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||W.trigger(this._element,Q3).defaultPrevented)return;const n=()=>{this._element.classList.add(Gk),this._element.classList.remove(Jd,Xd),W.trigger(this._element,X3)};this._element.classList.add(Jd),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Xd),super.dispose()}isShown(){return this._element.classList.contains(Xd)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,n){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const r=e.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){W.on(this._element,W3,e=>this._onInteraction(e,!0)),W.on(this._element,G3,e=>this._onInteraction(e,!1)),W.on(this._element,z3,e=>this._onInteraction(e,!0)),W.on(this._element,Y3,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const n=rg.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}Zv(rg);Hr(rg);const r8={apiKey:"AIzaSyA2E9tUHRDlfJWdY71YOgAH54vje87y_j0",authDomain:"dirty-beat-auth-2802.firebaseapp.com",databaseURL:"https://dirty-beat-auth-2802-default-rtdb.europe-west1.firebasedatabase.app",projectId:"dirty-beat-auth-2802",storageBucket:"dirty-beat-auth-2802.appspot.com",messagingSenderId:"921605813147",appId:"1:921605813147:web:41232c5fca0a3841a8673e"},i8="modulepreload",o8=function(t){return"/"+t},zk={},to=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link");i=Promise.all(n.map(a=>{if(a=o8(a),a in zk)return;zk[a]=!0;const c=a.endsWith(".css"),l=c?'[rel="stylesheet"]':"";if(!!r)for(let v=s.length-1;v>=0;v--){const g=s[v];if(g.href===a&&(!c||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${l}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":i8,c||(d.as="script",d.crossOrigin=""),d.href=a,document.head.appendChild(d),c)return new Promise((v,g)=>{d.addEventListener("load",v),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>e()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})},s8="/assets/dirty_beat_banner-3ccTtExI.jpg",a8={},u8={class:"navbar-brand",href:"#"},c8=be("img",{src:s8,alt:"Dirty Beat",width:"100%"},null,-1),l8=[c8];function f8(t,e){return _r(),ji("a",u8,l8)}const h8=th(a8,[["render",f8]]),d8={__name:"HomeView",setup(t){return(e,n)=>(_r(),ji("main",null,[ct(h8)]))}},p8="/assets/header_page_news-Y6nTYzWd.jpg",v8="/assets/dirty_fest-vf8YLcaT.jpg",g8={},m8={class:"container"},y8=VD('<div class="row" data-v-6c50d169><div class="col-12" data-v-6c50d169><h1 data-v-6c50d169>News / Events</h1></div></div><article data-v-6c50d169><div class="row article-container" data-v-6c50d169><h3 data-v-6c50d169>Titre de niveau 3</h3><div class="col-md-6 article-img" data-v-6c50d169><img src="'+v8+'" alt="dirty fest" data-v-6c50d169></div><div class="col-md-6" data-v-6c50d169><p data-v-6c50d169>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ullam nostrum ut, consequuntur cum aliquam quasi aspernatur fugiat et ab esse nisi animi labore deleniti doloribus earum quam iusto omnis ipsum.</p><p data-v-6c50d169>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ullam nostrum ut, consequuntur cum aliquam quasi aspernatur fugiat et ab esse nisi animi labore deleniti doloribus earum quam iusto omnis ipsum.</p><p data-v-6c50d169>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ullam nostrum ut, consequuntur cum aliquam quasi aspernatur fugiat et ab esse nisi animi labore deleniti doloribus earum quam iusto omnis ipsum.</p><p data-v-6c50d169>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ullam nostrum ut, consequuntur cum aliquam quasi aspernatur fugiat et ab esse nisi animi labore deleniti doloribus earum quam iusto omnis ipsum.</p><p data-v-6c50d169>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ullam nostrum ut, consequuntur cum aliquam quasi aspernatur fugiat et ab esse nisi animi labore deleniti doloribus earum quam iusto omnis ipsum.</p><p data-v-6c50d169>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ullam nostrum ut, consequuntur cum aliquam quasi aspernatur fugiat et ab esse nisi animi labore deleniti doloribus earum quam iusto omnis ipsum.</p></div></div></article>',2),_8=[y8];function w8(t,e){return _r(),ji("div",m8,_8)}const b8=th(g8,[["render",w8],["__scopeId","data-v-6c50d169"]]),E8=be("div",{class:"news"},[be("div",{class:"container"},[be("img",{src:p8,alt:"headerpage news"})])],-1),T8={__name:"NewsView",setup(t){return(e,n)=>(_r(),ji(Rr,null,[E8,ct(b8)],64))}},I8="/assets/header_page_a_propos-nKt8UmEv.jpg",S8={},A8={class:"container"},C8=be("h1",null,"A Propos",-1),N8=be("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam fuga officiis in soluta debitis. Voluptas reiciendis explicabo beatae, dolorum cumque ut eligendi ipsam nisi necessitatibus maxime iure! Ratione, eveniet vel! Aliquid asperiores ullam eos ipsum alias dolor possimus dolorem, ut architecto obcaecati culpa error, reprehenderit minus minima a natus hic omnis, nemo molestias? Cum, iusto sunt. Quos dolore perspiciatis explicabo. Libero distinctio aut officia ad minus maxime unde quidem, est commodi, alias a placeat quam delectus vel! Molestias voluptatibus ut quod rerum veniam fugiat tempora dicta beatae deserunt, similique laboriosam! Placeat iure beatae cumque perspiciatis quam sunt ut recusandae debitis dicta odit inventore enim atque nesciunt consectetur totam saepe nostrum vero corrupti necessitatibus aliquid, amet consequuntur. Autem corrupti laudantium molestiae! Esse sapiente, vel, provident qui consectetur blanditiis corrupti natus, repellat eius officiis ut! Ex impedit iusto qui voluptas aut unde, doloremque, tenetur laudantium, asperiores omnis laborum veniam expedita accusamus dolores. Iste quis dolore ipsam aliquid explicabo accusantium nesciunt quas distinctio repellendus cupiditate repudiandae dolor, dicta, ducimus consectetur dolores minima veritatis, laudantium consequuntur odit reprehenderit praesentium aliquam maxime! Eveniet, ab ratione. Accusamus assumenda delectus necessitatibus. Inventore similique praesentium tenetur quis. Ducimus totam corporis fugiat officia deleniti nesciunt perferendis! Numquam qui rem itaque in nam ab sapiente ad aliquid vitae, corrupti excepturi. Facere eos autem odio laborum obcaecati, assumenda repudiandae praesentium perspiciatis cumque, magnam accusantium facilis rem voluptas. Similique quis, velit modi dolorem repellendus suscipit quas esse dolores vel illo animi magnam! Obcaecati libero culpa eaque officiis dignissimos? Suscipit ad et nisi reprehenderit obcaecati doloremque omnis ducimus voluptas quia consequatur assumenda adipisci provident autem expedita eum perspiciatis natus rerum, est aspernatur quam? Maxime id laborum aut error adipisci, laboriosam rerum recusandae ullam, rem corrupti fuga quia, facere vitae deleniti? Sed corporis, alias dignissimos quis, repellat doloribus nesciunt maxime beatae voluptate voluptatem eos!",-1),k8=[C8,N8];function R8(t,e){return _r(),ji("div",A8,k8)}const O8=th(S8,[["render",R8]]),D8=be("div",{class:"apropos"},[be("img",{src:I8,alt:"Dirty Beat"})],-1),P8={__name:"AproposView",setup(t){return(e,n)=>(_r(),ji(Rr,null,[D8,ct(O8)],64))}};var mb=function(t,e){return mb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},mb(t,e)};function re(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");mb(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ye=function(){return ye=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ye.apply(this,arguments)};function N(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(d){try{h(r.next(d))}catch(v){a(v)}}function l(d){try{h(r.throw(d))}catch(v){a(v)}}function h(d){d.done?s(d.value):i(d.value).then(c,l)}h((r=r.apply(t,e||[])).next())})}function C(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(h){return function(d){return l([h,d])}}function l(h){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(d){h=[6,d],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function nn(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function hn(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(c){a={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function xe(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tx={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y=function(t,e){if(!t)throw Uc(e)},Uc=function(t){return new Error("Firebase Database ("+tx.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nx=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},x8=function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){var s=t[n++],a=t[n++],c=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{var s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},ig={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var s=t[i],a=i+1<t.length,c=a?t[i+1]:0,l=i+2<t.length,h=l?t[i+2]:0,d=s>>2,v=(s&3)<<4|c>>4,g=(c&15)<<2|h>>6,y=h&63;l||(y=64,a||(g=64)),r.push(n[d],n[v],n[g],n[y])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(nx(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):x8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var s=n[t.charAt(i++)],a=i<t.length,c=a?n[t.charAt(i)]:0;++i;var l=i<t.length,h=l?n[t.charAt(i)]:64;++i;var d=i<t.length,v=d?n[t.charAt(i)]:64;if(++i,s==null||c==null||h==null||v==null)throw Error();var g=s<<2|c>>4;if(r.push(g),h!==64){var y=c<<4&240|h>>2;if(r.push(y),v!==64){var w=h<<6&192|v;r.push(w)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},rx=function(t){var e=nx(t);return ig.encodeByteArray(e,!0)},Yk=function(t){return rx(t).replace(/\./g,"")},Qk=function(t){try{return ig.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(t){return Cf(void 0,t)}function Cf(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)!e.hasOwnProperty(r)||!L8(r)||(t[r]=Cf(t[r],e[r]));return t}function L8(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en=function(){function t(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){e.resolve=n,e.reject=r})}return t.prototype.wrapCallback=function(e){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof e=="function"&&(n.promise.catch(function(){}),e.length===1?e(r):e(r,i))}},t}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=ye({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),c="";return[Yk(JSON.stringify(n)),Yk(JSON.stringify(a)),c].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ea())}function ox(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function M8(){return typeof self=="object"&&self.self===self}function uE(){var t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function sx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function F8(){return Ea().indexOf("Electron/")>=0}function U8(){var t=Ea();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function V8(){return Ea().indexOf("MSAppHost/")>=0}function ax(){return tx.NODE_ADMIN===!0}function j8(){return!ox()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ah(){return"indexedDB"in self&&indexedDB!=null}function cE(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(s){e(s)}})}function ux(){return!(!navigator||!navigator.cookieEnabled)}function B8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $8="FirebaseError",Vc=function(t){re(e,t);function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name=$8,Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,Eo.prototype.create),s}return e}(Error),Eo=function(){function t(e,n,r){this.service=e,this.serviceName=n,this.errors=r}return t.prototype.create=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},s=this.service+"/"+e,a=this.errors[e],c=a?q8(a,i):"Error",l=this.serviceName+": "+c+" ("+s+").",h=new Vc(s,l,i);return h},t}();function q8(t,e){return t.replace(H8,function(n,r){var i=e[r];return i!=null?String(i):"<"+r+"?>"})}var H8=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(t){return JSON.parse(t)}function qt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lE=function(t){var e={},n={},r={},i="";try{var s=t.split(".");e=Nf(Qk(s[0])||""),n=Nf(Qk(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},K8=function(t){var e=lE(t).claims;return typeof e=="object"&&e.hasOwnProperty("iat")?e.iat:null},W8=function(t){var e=lE(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},G8=function(t){var e=lE(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ta(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function yb(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Hp(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z8(t){for(var e=[],n=function(l,h){Array.isArray(h)?h.forEach(function(d){e.push(encodeURIComponent(l)+"="+encodeURIComponent(d))}):e.push(encodeURIComponent(l)+"="+encodeURIComponent(h))},r=0,i=Object.entries(t);r<i.length;r++){var s=i[r],a=s[0],c=s[1];n(a,c)}return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y8=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(e,n){n||(n=0);var r=this.W_;if(typeof e=="string")for(var i=0;i<16;i++)r[i]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(var i=0;i<16;i++)r[i]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(var i=16;i<80;i++){var s=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=(s<<1|s>>>31)&4294967295}for(var a=this.chain_[0],c=this.chain_[1],l=this.chain_[2],h=this.chain_[3],d=this.chain_[4],v,g,i=0;i<80;i++){i<40?i<20?(v=h^c&(l^h),g=1518500249):(v=c^l^h,g=1859775393):i<60?(v=c&l|h&(c|l),g=2400959708):(v=c^l^h,g=3395469782);var s=(a<<5|a>>>27)+v+d+g+r[i]&4294967295;d=h,h=l,l=(c<<30|c>>>2)&4294967295,c=a,a=s}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295},t.prototype.update=function(e,n){if(e!=null){n===void 0&&(n=e.length);for(var r=n-this.blockSize,i=0,s=this.buf_,a=this.inbuf_;i<n;){if(a===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=e[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}},t.prototype.digest=function(){var e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var s=24;s>=0;s-=8)e[i]=this.chain_[r]>>s&255,++i;return e},t}();function Q8(t,e){var n=new X8(t,e);return n.subscribe.bind(n)}var X8=function(){function t(e,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){e(r)}).catch(function(i){r.error(i)})}return t.prototype.next=function(e){this.forEachObserver(function(n){n.next(e)})},t.prototype.error=function(e){this.forEachObserver(function(n){n.error(e)}),this.close(e)},t.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},t.prototype.subscribe=function(e,n,r){var i=this,s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");J8(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=cw),s.error===void 0&&(s.error=cw),s.complete===void 0&&(s.complete=cw);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?s.error(i.finalError):s.complete()}catch{}}),this.observers.push(s),a},t.prototype.unsubscribeOne=function(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},t.prototype.forEachObserver=function(e){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,e)},t.prototype.sendOne=function(e,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[e]!==void 0)try{n(r.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},t.prototype.close=function(e){var n=this;this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},t}();function J8(t,e){if(typeof t!="object"||t===null)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&typeof t[i]=="function")return!0}return!1}function cw(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=n===0?"none":"no more than "+n),i){var s=t+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function rr(t,e){return t+" failed: "+e+" argument "}function Xt(t,e,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(rr(t,e)+"must be a valid function.")}function Xk(t,e,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(rr(t,e)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z8=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,Y(r<t.length,"Surrogate pair missing trail surrogate.");var a=t.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},og=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eY=1e3,tY=2,nY=4*60*60*1e3,rY=.5;function _b(t,e,n){e===void 0&&(e=eY),n===void 0&&(n=tY);var r=e*Math.pow(n,t),i=Math.round(rY*r*(Math.random()-.5)*2);return Math.min(nY,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(t){return t&&t._delegate?t._delegate:t}var kn=function(){function t(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},t.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},t.prototype.setServiceProps=function(e){return this.serviceProps=e,this},t.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cx=function(){function t(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(e){var n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){var r=new en;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},t.prototype.getImmediate=function(e){var n,r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(e){var n,r;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,!!this.shouldAutoInitialize()){if(oY(e))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}try{for(var i=nn(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=hn(s.value,2),c=a[0],l=a[1],h=this.normalizeInstanceIdentifier(c);try{var d=this.getOrInitializeService({instanceIdentifier:h});l.resolve(d)}catch{}}}catch(v){n={error:v}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},t.prototype.clearInstance=function(e){e===void 0&&(e=Hs),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},t.prototype.delete=function(){return N(this,void 0,void 0,function(){var e;return C(this,function(n){switch(n.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(xe(xe([],hn(e.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),hn(e.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},t.prototype.isComponentSet=function(){return this.component!=null},t.prototype.isInitialized=function(e){return e===void 0&&(e=Hs),this.instances.has(e)},t.prototype.getOptions=function(e){return e===void 0&&(e=Hs),this.instancesOptions.get(e)||{}},t.prototype.initialize=function(e){var n,r;e===void 0&&(e={});var i=e.options,s=i===void 0?{}:i,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var l=nn(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var d=hn(h.value,2),v=d[0],g=d[1],y=this.normalizeInstanceIdentifier(v);a===y&&g.resolve(c)}}catch(w){n={error:w}}finally{try{h&&!h.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return c},t.prototype.onInit=function(e,n){var r,i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);var a=this.instances.get(i);return a&&e(a,i),function(){s.delete(e)}},t.prototype.invokeOnInitCallbacks=function(e,n){var r,i,s=this.onInitCallbacks.get(n);if(s)try{for(var a=nn(s),c=a.next();!c.done;c=a.next()){var l=c.value;try{l(e,n)}catch{}}}catch(h){r={error:h}}finally{try{c&&!c.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},t.prototype.getOrInitializeService=function(e){var n=e.instanceIdentifier,r=e.options,i=r===void 0?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:iY(n),options:i}),this.instances.set(n,s),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},t.prototype.normalizeInstanceIdentifier=function(e){return e===void 0&&(e=Hs),this.component?this.component.multipleInstances?e:Hs:e},t.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},t}();function iY(t){return t===Hs?void 0:t}function oY(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lx=function(){function t(e){this.name=e,this.providers=new Map}return t.prototype.addComponent=function(e){var n=this.getProvider(e.name);if(n.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);n.setComponent(e)},t.prototype.addOrOverwriteComponent=function(e){var n=this.getProvider(e.name);n.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},t.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var n=new cx(e,this);return this.providers.set(e,n),n},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function ti(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],a=0,c=s.length;a<c;a++,i++)r[i]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qs,fE=[],je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(je||(je={}));var fx={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},sY=je.INFO,aY=(qs={},qs[je.DEBUG]="log",qs[je.VERBOSE]="log",qs[je.INFO]="info",qs[je.WARN]="warn",qs[je.ERROR]="error",qs),uY=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=new Date().toISOString(),s=aY[e];if(s)console[s].apply(console,ti(["["+i+"]  "+t.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}},Fa=function(){function t(e){this.name=e,this._logLevel=sY,this._logHandler=uY,this._userLogHandler=null,fE.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in je))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(e){this._logLevel=typeof e=="string"?fx[e]:e},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ti([this,je.DEBUG],e)),this._logHandler.apply(this,ti([this,je.DEBUG],e))},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ti([this,je.VERBOSE],e)),this._logHandler.apply(this,ti([this,je.VERBOSE],e))},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ti([this,je.INFO],e)),this._logHandler.apply(this,ti([this,je.INFO],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ti([this,je.WARN],e)),this._logHandler.apply(this,ti([this,je.WARN],e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ti([this,je.ERROR],e)),this._logHandler.apply(this,ti([this,je.ERROR],e))},t}();function cY(t){fE.forEach(function(e){e.setLogLevel(t)})}function lY(t,e){for(var n=function(a){var c=null;e&&e.level&&(c=fx[e.level]),t===null?a.userLogHandler=null:a.userLogHandler=function(l,h){for(var d=[],v=2;v<arguments.length;v++)d[v-2]=arguments[v];var g=d.map(function(y){if(y==null)return null;if(typeof y=="string")return y;if(typeof y=="number"||typeof y=="boolean")return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(function(y){return y}).join(" ");h>=(c??l.logLevel)&&t({level:je[h].toLowerCase(),message:g,args:d,type:l.name})}},r=0,i=fE;r<i.length;r++){var s=i[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uo,fY=(Uo={},Uo["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Uo["bad-app-name"]="Illegal App name: '{$appName}",Uo["duplicate-app"]="Firebase App named '{$appName}' already exists",Uo["app-deleted"]="Firebase App named '{$appName}' already deleted",Uo["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Uo["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Uo),Ou=new Eo("app","Firebase",fY),hx="@firebase/app",hY="0.6.30",dY="@firebase/analytics",pY="@firebase/app-check",vY="@firebase/auth",gY="@firebase/database",mY="@firebase/functions",yY="@firebase/installations",_Y="@firebase/messaging",wY="@firebase/performance",bY="@firebase/remote-config",EY="@firebase/storage",TY="@firebase/firestore",IY="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bn,Kp="[DEFAULT]",SY=(bn={},bn[hx]="fire-core",bn[dY]="fire-analytics",bn[pY]="fire-app-check",bn[vY]="fire-auth",bn[gY]="fire-rtdb",bn[mY]="fire-fn",bn[yY]="fire-iid",bn[_Y]="fire-fcm",bn[wY]="fire-perf",bn[bY]="fire-rc",bn[EY]="fire-gcs",bn[TY]="fire-fst",bn["fire-js"]="fire-js",bn[IY]="fire-js-all",bn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ic=new Fa("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sp=function(){function t(e,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=ix(e),this.container=new lx(n.name),this._addComponent(new kn("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return i._addComponent(s)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var e=this;return new Promise(function(n){e.checkDestroyed_(),n()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(n){return n.delete()}))}).then(function(){e.isDeleted_=!0})},t.prototype._getService=function(e,n){var r;n===void 0&&(n=Kp),this.checkDestroyed_();var i=this.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})},t.prototype._removeServiceInstance=function(e,n){n===void 0&&(n=Kp),this.container.getProvider(e).clearInstance(n)},t.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(n){ic.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,n)}},t.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Ou.create("app-deleted",{appName:this.name_})},t}();Sp.prototype.name&&Sp.prototype.options||Sp.prototype.delete||console.log("dc");var AY="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CY(t){var e={},n=new Map,r={__esModule:!0,initializeApp:a,app:s,registerVersion:h,setLogLevel:cY,onLog:d,apps:null,SDK_VERSION:AY,INTERNAL:{registerComponent:l,removeApp:i,components:n,useAsService:v}};r.default=r,Object.defineProperty(r,"apps",{get:c});function i(g){delete e[g]}function s(g){if(g=g||Kp,!Tr(e,g))throw Ou.create("no-app",{appName:g});return e[g]}s.App=t;function a(g,y){if(y===void 0&&(y={}),typeof y!="object"||y===null){var w=y;y={name:w}}var E=y;E.name===void 0&&(E.name=Kp);var T=E.name;if(typeof T!="string"||!T)throw Ou.create("bad-app-name",{appName:String(T)});if(Tr(e,T))throw Ou.create("duplicate-app",{appName:T});var A=new t(g,E,r);return e[T]=A,A}function c(){return Object.keys(e).map(function(g){return e[g]})}function l(g){var y=g.name;if(n.has(y))return ic.debug("There were multiple attempts to register component "+y+"."),g.type==="PUBLIC"?r[y]:null;if(n.set(y,g),g.type==="PUBLIC"){var w=function(O){if(O===void 0&&(O=s()),typeof O[y]!="function")throw Ou.create("invalid-app-argument",{appName:y});return O[y]()};g.serviceProps!==void 0&&Cf(w,g.serviceProps),r[y]=w,t.prototype[y]=function(){for(var O=[],P=0;P<arguments.length;P++)O[P]=arguments[P];var x=this._getService.bind(this,y);return x.apply(this,g.multipleInstances?O:[])}}for(var E=0,T=Object.keys(e);E<T.length;E++){var A=T[E];e[A]._addComponent(g)}return g.type==="PUBLIC"?r[y]:null}function h(g,y,w){var E,T=(E=SY[g])!==null&&E!==void 0?E:g;w&&(T+="-"+w);var A=T.match(/\s|\//),O=y.match(/\s|\//);if(A||O){var P=['Unable to register library "'+T+'" with version "'+y+'":'];A&&P.push('library name "'+T+'" contains illegal characters (whitespace or "/")'),A&&O&&P.push("and"),O&&P.push('version name "'+y+'" contains illegal characters (whitespace or "/")'),ic.warn(P.join(" "));return}l(new kn(T+"-version",function(){return{library:T,version:y}},"VERSION"))}function d(g,y){if(g!==null&&typeof g!="function")throw Ou.create("invalid-log-argument");lY(g,y)}function v(g,y){if(y==="serverAuth")return null;var w=y;return w}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(){var t=CY(Sp);t.INTERNAL=ye(ye({},t.INTERNAL),{createFirebaseNamespace:dx,extendNamespace:e,createSubscribe:Q8,ErrorFactory:Eo,deepExtend:Cf});function e(n){Cf(t,n)}return t}var hE=dx();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NY=function(){function t(e){this.container=e}return t.prototype.getPlatformInfoString=function(){var e=this.container.getProviders();return e.map(function(n){if(kY(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},t}();function kY(t){var e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RY(t,e){t.INTERNAL.registerComponent(new kn("platform-logger",function(n){return new NY(n)},"PRIVATE")),t.registerVersion(hx,hY,e),t.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(M8()&&self.firebase!==void 0){ic.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var Jk=self.firebase.SDK_VERSION;Jk&&Jk.indexOf("LITE")>=0&&ic.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var OY=hE.initializeApp;hE.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ox()&&ic.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),OY.apply(void 0,t)};var ce=hE;RY(ce);(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,f){o!=Array.prototype&&o!=Object.prototype&&(o[u]=f.value)};function n(o){o=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,o];for(var u=0;u<o.length;++u){var f=o[u];if(f&&f.Math==Math)return f}return globalThis}var r=n(this);function i(o,u){if(u){var f=r;o=o.split(".");for(var p=0;p<o.length-1;p++){var m=o[p];m in f||(f[m]={}),f=f[m]}o=o[o.length-1],p=f[o],u=u(p),u!=p&&u!=null&&e(f,o,{configurable:!0,writable:!0,value:u})}}function s(o){var u=0;return function(){return u<o.length?{done:!1,value:o[u++]}:{done:!0}}}function a(o){var u=typeof Symbol<"u"&&Symbol.iterator&&o[Symbol.iterator];return u?u.call(o):{next:s(o)}}i("Promise",function(o){function u(b){this.b=0,this.c=void 0,this.a=[];var I=this.f();try{b(I.resolve,I.reject)}catch(F){I.reject(F)}}function f(){this.a=null}function p(b){return b instanceof u?b:new u(function(I){I(b)})}if(o)return o;f.prototype.b=function(b){if(this.a==null){this.a=[];var I=this;this.c(function(){I.g()})}this.a.push(b)};var m=r.setTimeout;f.prototype.c=function(b){m(b,0)},f.prototype.g=function(){for(;this.a&&this.a.length;){var b=this.a;this.a=[];for(var I=0;I<b.length;++I){var F=b[I];b[I]=null;try{F()}catch($){this.f($)}}}this.a=null},f.prototype.f=function(b){this.c(function(){throw b})},u.prototype.f=function(){function b($){return function(Se){F||(F=!0,$.call(I,Se))}}var I=this,F=!1;return{resolve:b(this.m),reject:b(this.g)}},u.prototype.m=function(b){if(b===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(b instanceof u)this.s(b);else{e:switch(typeof b){case"object":var I=b!=null;break e;case"function":I=!0;break e;default:I=!1}I?this.v(b):this.h(b)}},u.prototype.v=function(b){var I=void 0;try{I=b.then}catch(F){this.g(F);return}typeof I=="function"?this.u(I,b):this.h(b)},u.prototype.g=function(b){this.i(2,b)},u.prototype.h=function(b){this.i(1,b)},u.prototype.i=function(b,I){if(this.b!=0)throw Error("Cannot settle("+b+", "+I+"): Promise already settled in state"+this.b);this.b=b,this.c=I,this.l()},u.prototype.l=function(){if(this.a!=null){for(var b=0;b<this.a.length;++b)_.b(this.a[b]);this.a=null}};var _=new f;return u.prototype.s=function(b){var I=this.f();b.Ra(I.resolve,I.reject)},u.prototype.u=function(b,I){var F=this.f();try{b.call(I,F.resolve,F.reject)}catch($){F.reject($)}},u.prototype.then=function(b,I){function F(ze,Yt){return typeof ze=="function"?function(Zi){try{$(ze(Zi))}catch(F_){Se(F_)}}:Yt}var $,Se,tt=new u(function(ze,Yt){$=ze,Se=Yt});return this.Ra(F(b,$),F(I,Se)),tt},u.prototype.catch=function(b){return this.then(void 0,b)},u.prototype.Ra=function(b,I){function F(){switch($.b){case 1:b($.c);break;case 2:I($.c);break;default:throw Error("Unexpected state: "+$.b)}}var $=this;this.a==null?_.b(F):this.a.push(F)},u.resolve=p,u.reject=function(b){return new u(function(I,F){F(b)})},u.race=function(b){return new u(function(I,F){for(var $=a(b),Se=$.next();!Se.done;Se=$.next())p(Se.value).Ra(I,F)})},u.all=function(b){var I=a(b),F=I.next();return F.done?p([]):new u(function($,Se){function tt(Zi){return function(F_){ze[Zi]=F_,Yt--,Yt==0&&$(ze)}}var ze=[],Yt=0;do ze.push(void 0),Yt++,p(F.value).Ra(tt(ze.length-1),Se),F=I.next();while(!F.done)})},u});var c=c||{},l=this||self,h=/^[\w+/_-]+[=]{0,2}$/,d=null;function v(o){return(o=o.querySelector&&o.querySelector("script[nonce]"))&&(o=o.nonce||o.getAttribute("nonce"))&&h.test(o)?o:""}function g(){}function y(o){var u=typeof o;return u!="object"?u:o?Array.isArray(o)?"array":u:"null"}function w(o){var u=y(o);return u=="array"||u=="object"&&typeof o.length=="number"}function E(o){return y(o)=="function"}function T(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function A(o){return Object.prototype.hasOwnProperty.call(o,O)&&o[O]||(o[O]=++P)}var O="closure_uid_"+(1e9*Math.random()>>>0),P=0;function x(o,u,f){return o.call.apply(o.bind,arguments)}function B(o,u,f){if(!o)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var m=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(m,p),o.apply(u,m)}}return function(){return o.apply(u,arguments)}}function M(o,u,f){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?M=x:M=B,M.apply(null,arguments)}function ie(o,u){var f=Array.prototype.slice.call(arguments,1);return function(){var p=f.slice();return p.push.apply(p,arguments),o.apply(this,p)}}function Z(o,u){function f(){}f.prototype=u.prototype,o.bb=u.prototype,o.prototype=new f,o.prototype.constructor=o}function Ie(o){return o}function R(o,u,f){this.code=ht+o,this.message=u||ot[o]||"",this.a=f||null}Z(R,Error),R.prototype.w=function(){var o={code:this.code,message:this.message};return this.a&&(o.serverResponse=this.a),o},R.prototype.toJSON=function(){return this.w()};function Je(o){var u=o&&o.code;return u?new R(u.substring(ht.length),o.message,o.serverResponse):null}var ht="auth/",ot={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},on={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Pt(o){for(var u in on)if(on[u].id===o)return o=on[u],{firebaseEndpoint:o.Ua,secureTokenEndpoint:o.$a,identityPlatformEndpoint:o.Xa};return null}var Ve;Ve=Pt("__EID__")?"__EID__":void 0;function ke(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch{return!1}}function _e(o){if(Error.captureStackTrace)Error.captureStackTrace(this,_e);else{var u=Error().stack;u&&(this.stack=u)}o&&(this.message=String(o))}Z(_e,Error),_e.prototype.name="CustomError";function Nt(o,u){o=o.split("%s");for(var f="",p=o.length-1,m=0;m<p;m++)f+=o[m]+(m<u.length?u[m]:"%s");_e.call(this,f+o[p])}Z(Nt,_e),Nt.prototype.name="AssertionError";function xt(o,u){throw new Nt("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}function zt(o,u){this.c=o,this.f=u,this.b=0,this.a=null}zt.prototype.get=function(){if(0<this.b){this.b--;var o=this.a;this.a=o.next,o.next=null}else o=this.c();return o};function wt(o,u){o.f(u),100>o.b&&(o.b++,u.next=o.a,o.a=u)}function zn(){this.b=this.a=null}var wn=new zt(function(){return new lt},function(o){o.reset()});zn.prototype.add=function(o,u){var f=wn.get();f.set(o,u),this.b?this.b.next=f:this.a=f,this.b=f};function Dn(){var o=ZI,u=null;return o.a&&(u=o.a,o.a=o.a.next,o.a||(o.b=null),u.next=null),u}function lt(){this.next=this.b=this.a=null}lt.prototype.set=function(o,u){this.a=o,this.b=u,this.next=null},lt.prototype.reset=function(){this.next=this.b=this.a=null};var j=Array.prototype.indexOf?function(o,u){return Array.prototype.indexOf.call(o,u,void 0)}:function(o,u){if(typeof o=="string")return typeof u!="string"||u.length!=1?-1:o.indexOf(u,0);for(var f=0;f<o.length;f++)if(f in o&&o[f]===u)return f;return-1},G=Array.prototype.forEach?function(o,u,f){Array.prototype.forEach.call(o,u,f)}:function(o,u,f){for(var p=o.length,m=typeof o=="string"?o.split(""):o,_=0;_<p;_++)_ in m&&u.call(f,m[_],_,o)};function ee(o,u){for(var f=typeof o=="string"?o.split(""):o,p=o.length-1;0<=p;--p)p in f&&u.call(void 0,f[p],p,o)}var le=Array.prototype.filter?function(o,u){return Array.prototype.filter.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=[],m=0,_=typeof o=="string"?o.split(""):o,b=0;b<f;b++)if(b in _){var I=_[b];u.call(void 0,I,b,o)&&(p[m++]=I)}return p},Le=Array.prototype.map?function(o,u){return Array.prototype.map.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=Array(f),m=typeof o=="string"?o.split(""):o,_=0;_<f;_++)_ in m&&(p[_]=u.call(void 0,m[_],_,o));return p},S=Array.prototype.some?function(o,u){return Array.prototype.some.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=typeof o=="string"?o.split(""):o,m=0;m<f;m++)if(m in p&&u.call(void 0,p[m],m,o))return!0;return!1};function k(o){e:{for(var u=IB,f=o.length,p=typeof o=="string"?o.split(""):o,m=0;m<f;m++)if(m in p&&u.call(void 0,p[m],m,o)){u=m;break e}u=-1}return 0>u?null:typeof o=="string"?o.charAt(u):o[u]}function D(o,u){return 0<=j(o,u)}function U(o,u){u=j(o,u);var f;return(f=0<=u)&&Array.prototype.splice.call(o,u,1),f}function V(o,u){var f=0;ee(o,function(p,m){u.call(void 0,p,m,o)&&Array.prototype.splice.call(o,m,1).length==1&&f++})}function q(o){return Array.prototype.concat.apply([],arguments)}function te(o){var u=o.length;if(0<u){for(var f=Array(u),p=0;p<u;p++)f[p]=o[p];return f}return[]}var Q=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},X=/&/g,H=/</g,he=/>/g,se=/"/g,fe=/'/g,Ee=/\x00/g,Oe=/[\x00&<>"']/;function pe(o,u){return o.indexOf(u)!=-1}function Ke(o,u){return o<u?-1:o>u?1:0}var at;e:{var Yn=l.navigator;if(Yn){var zi=Yn.userAgent;if(zi){at=zi;break e}}at=""}function It(o){return pe(at,o)}function Ao(o,u){for(var f in o)u.call(void 0,o[f],f,o)}function vi(o){for(var u in o)return!1;return!0}function St(o){var u={},f;for(f in o)u[f]=o[f];return u}var cr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sn(o,u){for(var f,p,m=1;m<arguments.length;m++){p=arguments[m];for(f in p)o[f]=p[f];for(var _=0;_<cr.length;_++)f=cr[_],Object.prototype.hasOwnProperty.call(p,f)&&(o[f]=p[f])}}function PI(o,u){e:{try{var f=o&&o.ownerDocument,p=f&&(f.defaultView||f.parentWindow);if(p=p||l,p.Element&&p.Location){var m=p;break e}}catch{}m=null}if(m&&typeof m[u]<"u"&&(!o||!(o instanceof m[u])&&(o instanceof m.Location||o instanceof m.Element))){if(T(o))try{var _=o.constructor.displayName||o.constructor.name||Object.prototype.toString.call(o)}catch{_="<object could not be stringified>"}else _=o===void 0?"undefined":o===null?"null":typeof o;xt("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,_)}}function gi(o,u){this.a=o===Vh&&u||"",this.b=xI}gi.prototype.ta=!0,gi.prototype.sa=function(){return this.a},gi.prototype.toString=function(){return"Const{"+this.a+"}"};function lm(o){return o instanceof gi&&o.constructor===gi&&o.b===xI?o.a:(xt("expected object of type Const, got '"+o+"'"),"type_error:Const")}var xI={},Vh={},jh;function LI(){if(jh===void 0){var o=null,u=l.trustedTypes;if(u&&u.createPolicy){try{o=u.createPolicy("goog#html",{createHTML:Ie,createScript:Ie,createScriptURL:Ie})}catch(f){l.console&&l.console.error(f.message)}jh=o}else jh=o}return jh}function Qa(o,u){this.a=u===FI?o:""}Qa.prototype.ta=!0,Qa.prototype.sa=function(){return this.a.toString()},Qa.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function MI(o){return o instanceof Qa&&o.constructor===Qa?o.a:(xt("expected object of type TrustedResourceUrl, got '"+o+"' of type "+y(o)),"type_error:TrustedResourceUrl")}function fm(o,u){var f=lm(o);if(!ej.test(f))throw Error("Invalid TrustedResourceUrl format: "+f);return o=f.replace(ZV,function(p,m){if(!Object.prototype.hasOwnProperty.call(u,m))throw Error('Found marker, "'+m+'", in format string, "'+f+'", but no valid label mapping found in args: '+JSON.stringify(u));return p=u[m],p instanceof gi?lm(p):encodeURIComponent(String(p))}),tj(o)}var ZV=/%{(\w+)}/g,ej=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,FI={};function tj(o){var u=LI();return o=u?u.createScriptURL(o):o,new Qa(o,FI)}function Qn(o,u){this.a=u===nl?o:""}Qn.prototype.ta=!0,Qn.prototype.sa=function(){return this.a.toString()},Qn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Bh(o){return o instanceof Qn&&o.constructor===Qn?o.a:(xt("expected object of type SafeUrl, got '"+o+"' of type "+y(o)),"type_error:SafeUrl")}var nj=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,rj=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,UI=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function VI(o){if(o instanceof Qn)return o;if(o=typeof o=="object"&&o.ta?o.sa():String(o),UI.test(o))o=new Qn(o,nl);else{o=String(o),o=o.replace(/(%0A|%0D)/g,"");var u=o.match(rj);o=u&&nj.test(u[1])?new Qn(o,nl):null}return o}function jI(o){return o instanceof Qn?o:(o=typeof o=="object"&&o.ta?o.sa():String(o),UI.test(o)||(o="about:invalid#zClosurez"),new Qn(o,nl))}var nl={},BI=new Qn("about:invalid#zClosurez",nl);function Xa(o,u,f){this.a=f===$I?o:""}Xa.prototype.ta=!0,Xa.prototype.sa=function(){return this.a.toString()},Xa.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function ij(o){return o instanceof Xa&&o.constructor===Xa?o.a:(xt("expected object of type SafeHtml, got '"+o+"' of type "+y(o)),"type_error:SafeHtml")}var $I={};function oj(o,u){PI(o,"HTMLScriptElement"),o.src=MI(u),(u=o.ownerDocument&&o.ownerDocument.defaultView)&&u!=l?u=v(u.document):(d===null&&(d=v(l.document)),u=d),u&&o.setAttribute("nonce",u)}function qI(o,u,f,p){return o=o instanceof Qn?o:jI(o),u=u||l,f=f instanceof gi?lm(f):f||"",u.open(Bh(o),f,p,void 0)}function HI(o,u){for(var f=o.split("%s"),p="",m=Array.prototype.slice.call(arguments,1);m.length&&1<f.length;)p+=f.shift()+m.shift();return p+f.join("%s")}function hm(o){return Oe.test(o)&&(o.indexOf("&")!=-1&&(o=o.replace(X,"&amp;")),o.indexOf("<")!=-1&&(o=o.replace(H,"&lt;")),o.indexOf(">")!=-1&&(o=o.replace(he,"&gt;")),o.indexOf('"')!=-1&&(o=o.replace(se,"&quot;")),o.indexOf("'")!=-1&&(o=o.replace(fe,"&#39;")),o.indexOf("\0")!=-1&&(o=o.replace(Ee,"&#0;"))),o}function dm(o){return dm[" "](o),o}dm[" "]=g;function sj(o,u){var f=lj;return Object.prototype.hasOwnProperty.call(f,o)?f[o]:f[o]=u(o)}var aj=It("Opera"),Wr=It("Trident")||It("MSIE"),KI=It("Edge"),uj=KI||Wr,WI=It("Gecko")&&!(pe(at.toLowerCase(),"webkit")&&!It("Edge"))&&!(It("Trident")||It("MSIE"))&&!It("Edge"),cj=pe(at.toLowerCase(),"webkit")&&!It("Edge");function GI(){var o=l.document;return o?o.documentMode:void 0}var $h;e:{var pm="",vm=function(){var o=at;if(WI)return/rv:([^\);]+)(\)|;)/.exec(o);if(KI)return/Edge\/([\d\.]+)/.exec(o);if(Wr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o);if(cj)return/WebKit\/(\S+)/.exec(o);if(aj)return/(?:Version)[ \/]?(\S+)/.exec(o)}();if(vm&&(pm=vm?vm[1]:""),Wr){var gm=GI();if(gm!=null&&gm>parseFloat(pm)){$h=String(gm);break e}}$h=pm}var lj={};function zI(o){return sj(o,function(){for(var u=0,f=Q(String($h)).split("."),p=Q(String(o)).split("."),m=Math.max(f.length,p.length),_=0;u==0&&_<m;_++){var b=f[_]||"",I=p[_]||"";do{if(b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],I=/(\d*)(\D*)(.*)/.exec(I)||["","","",""],b[0].length==0&&I[0].length==0)break;u=Ke(b[1].length==0?0:parseInt(b[1],10),I[1].length==0?0:parseInt(I[1],10))||Ke(b[2].length==0,I[2].length==0)||Ke(b[2],I[2]),b=b[3],I=I[3]}while(u==0)}return 0<=u})}var mm;if(l.document&&Wr){var YI=GI();mm=YI||parseInt($h,10)||void 0}else mm=void 0;var Co=mm;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var fj=!Wr||9<=Number(Co);function rl(o){var u=document;return typeof o=="string"?u.getElementById(o):o}function QI(o,u){Ao(u,function(f,p){f&&typeof f=="object"&&f.ta&&(f=f.sa()),p=="style"?o.style.cssText=f:p=="class"?o.className=f:p=="for"?o.htmlFor=f:XI.hasOwnProperty(p)?o.setAttribute(XI[p],f):p.lastIndexOf("aria-",0)==0||p.lastIndexOf("data-",0)==0?o.setAttribute(p,f):o[p]=f})}var XI={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function hj(o,u,f){var p=arguments,m=document,_=String(p[0]),b=p[1];if(!fj&&b&&(b.name||b.type)){if(_=["<",_],b.name&&_.push(' name="',hm(b.name),'"'),b.type){_.push(' type="',hm(b.type),'"');var I={};sn(I,b),delete I.type,b=I}_.push(">"),_=_.join("")}return _=qh(m,_),b&&(typeof b=="string"?_.className=b:Array.isArray(b)?_.className=b.join(" "):QI(_,b)),2<p.length&&dj(m,_,p),_}function dj(o,u,f){function p(I){I&&u.appendChild(typeof I=="string"?o.createTextNode(I):I)}for(var m=2;m<f.length;m++){var _=f[m];if(!w(_)||T(_)&&0<_.nodeType)p(_);else{e:{if(_&&typeof _.length=="number"){if(T(_)){var b=typeof _.item=="function"||typeof _.item=="string";break e}if(E(_)){b=typeof _.item=="function";break e}}b=!1}G(b?te(_):_,p)}}}function qh(o,u){return u=String(u),o.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),o.createElement(u)}function JI(o){l.setTimeout(function(){throw o},0)}var ym;function pj(){var o=l.MessageChannel;if(typeof o>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!It("Presto")&&(o=function(){var m=qh(document,"IFRAME");m.style.display="none",document.documentElement.appendChild(m);var _=m.contentWindow;m=_.document,m.open(),m.close();var b="callImmediate"+Math.random(),I=_.location.protocol=="file:"?"*":_.location.protocol+"//"+_.location.host;m=M(function(F){(I=="*"||F.origin==I)&&F.data==b&&this.port1.onmessage()},this),_.addEventListener("message",m,!1),this.port1={},this.port2={postMessage:function(){_.postMessage(b,I)}}}),typeof o<"u"&&!It("Trident")&&!It("MSIE")){var u=new o,f={},p=f;return u.port1.onmessage=function(){if(f.next!==void 0){f=f.next;var m=f.Hb;f.Hb=null,m()}},function(m){p.next={Hb:m},p=p.next,u.port2.postMessage(0)}}return function(m){l.setTimeout(m,0)}}function Hh(o,u){Kh||vj(),_m||(Kh(),_m=!0),ZI.add(o,u)}var Kh;function vj(){if(l.Promise&&l.Promise.resolve){var o=l.Promise.resolve(void 0);Kh=function(){o.then(eS)}}else Kh=function(){var u=eS;!E(l.setImmediate)||l.Window&&l.Window.prototype&&!It("Edge")&&l.Window.prototype.setImmediate==l.setImmediate?(ym||(ym=pj()),ym(u)):l.setImmediate(u)}}var _m=!1,ZI=new zn;function eS(){for(var o;o=Dn();){try{o.a.call(o.b)}catch(u){JI(u)}wt(wn,o)}_m=!1}function Be(o,u){if(this.a=Es,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,o!=g)try{var f=this;o.call(u,function(p){Ts(f,il,p)},function(p){if(!(p instanceof Ja))try{throw p instanceof Error?p:Error("Promise rejected.")}catch{}Ts(f,Yi,p)})}catch(p){Ts(this,Yi,p)}}var Es=0,il=2,Yi=3;function tS(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}tS.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var nS=new zt(function(){return new tS},function(o){o.reset()});function wm(o,u,f){var p=nS.get();return p.g=o,p.b=u,p.f=f,p}function ge(o){if(o instanceof Be)return o;var u=new Be(g);return Ts(u,il,o),u}function vt(o){return new Be(function(u,f){f(o)})}function rS(o,u,f){aS(o,u,f,null)||Hh(ie(u,o))}function gj(o){return new Be(function(u,f){var p=o.length,m=[];if(p)for(var _=function($,Se){p--,m[$]=Se,p==0&&u(m)},b=function($){f($)},I=0,F;I<o.length;I++)F=o[I],rS(F,ie(_,I),b);else u(m)})}function iS(o){return new Be(function(u){var f=o.length,p=[];if(f)for(var m=function(I,F,$){f--,p[I]=F?{Qb:!0,value:$}:{Qb:!1,reason:$},f==0&&u(p)},_=0,b;_<o.length;_++)b=o[_],rS(b,ie(m,_,!0),ie(m,_,!1));else u(p)})}Be.prototype.then=function(o,u,f){return sS(this,E(o)?o:null,E(u)?u:null,f)},Be.prototype.$goog_Thenable=!0,t=Be.prototype,t.oa=function(o,u){return o=wm(o,o,u),o.c=!0,bm(this,o),this},t.o=function(o,u){return sS(this,null,o,u)},t.cancel=function(o){if(this.a==Es){var u=new Ja(o);Hh(function(){oS(this,u)},this)}};function oS(o,u){if(o.a==Es)if(o.c){var f=o.c;if(f.b){for(var p=0,m=null,_=null,b=f.b;b&&(b.c||(p++,b.a==o&&(m=b),!(m&&1<p)));b=b.next)m||(_=b);m&&(f.a==Es&&p==1?oS(f,u):(_?(p=_,p.next==f.f&&(f.f=p),p.next=p.next.next):cS(f),lS(f,m,Yi,u)))}o.c=null}else Ts(o,Yi,u)}function bm(o,u){o.b||o.a!=il&&o.a!=Yi||uS(o),o.f?o.f.next=u:o.b=u,o.f=u}function sS(o,u,f,p){var m=wm(null,null,null);return m.a=new Be(function(_,b){m.g=u?function(I){try{var F=u.call(p,I);_(F)}catch($){b($)}}:_,m.b=f?function(I){try{var F=f.call(p,I);F===void 0&&I instanceof Ja?b(I):_(F)}catch($){b($)}}:b}),m.a.c=o,bm(o,m),m.a}t.$c=function(o){this.a=Es,Ts(this,il,o)},t.ad=function(o){this.a=Es,Ts(this,Yi,o)};function Ts(o,u,f){o.a==Es&&(o===f&&(u=Yi,f=new TypeError("Promise cannot resolve to itself")),o.a=1,aS(f,o.$c,o.ad,o)||(o.i=f,o.a=u,o.c=null,uS(o),u!=Yi||f instanceof Ja||yj(o,f)))}function aS(o,u,f,p){if(o instanceof Be)return bm(o,wm(u||g,f||null,p)),!0;if(ke(o))return o.then(u,f,p),!0;if(T(o))try{var m=o.then;if(E(m))return mj(o,m,u,f,p),!0}catch(_){return f.call(p,_),!0}return!1}function mj(o,u,f,p,m){function _(F){I||(I=!0,p.call(m,F))}function b(F){I||(I=!0,f.call(m,F))}var I=!1;try{u.call(o,b,_)}catch(F){_(F)}}function uS(o){o.h||(o.h=!0,Hh(o.gc,o))}function cS(o){var u=null;return o.b&&(u=o.b,o.b=u.next,u.next=null),o.b||(o.f=null),u}t.gc=function(){for(var o;o=cS(this);)lS(this,o,this.a,this.i);this.h=!1};function lS(o,u,f,p){if(f==Yi&&u.b&&!u.c)for(;o&&o.g;o=o.c)o.g=!1;if(u.a)u.a.c=null,fS(u,f,p);else try{u.c?u.g.call(u.f):fS(u,f,p)}catch(m){hS.call(null,m)}wt(nS,u)}function fS(o,u,f){u==il?o.g.call(o.f,f):o.b&&o.b.call(o.f,f)}function yj(o,u){o.g=!0,Hh(function(){o.g&&hS.call(null,u)})}var hS=JI;function Ja(o){_e.call(this,o)}Z(Ja,_e),Ja.prototype.name="cancel";function Wh(){this.ya=this.ya,this.pa=this.pa}var _j=0;Wh.prototype.ya=!1;function dS(o){!o.ya&&(o.ya=!0,o.Da(),_j!=0)&&A(o)}Wh.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var wj=Object.freeze||function(o){return o},pS=!Wr||9<=Number(Co),bj=Wr&&!zI("9"),Ej=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{l.addEventListener("test",g,u),l.removeEventListener("test",g,u)}catch{}return o}();function Xn(o,u){this.type=o,this.b=this.target=u,this.defaultPrevented=!1}Xn.prototype.preventDefault=function(){this.defaultPrevented=!0};function Is(o,u){if(Xn.call(this,o?o.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var f=this.type=o.type,p=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.b=u,u=o.relatedTarget){if(WI){e:{try{dm(u.nodeName);var m=!0;break e}catch{}m=!1}m||(u=null)}}else f=="mouseover"?u=o.fromElement:f=="mouseout"&&(u=o.toElement);this.relatedTarget=u,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Tj[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}Z(Is,Xn);var Tj=wj({2:"touch",3:"pen",4:"mouse"});Is.prototype.preventDefault=function(){Is.bb.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,bj)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch{}},Is.prototype.g=function(){return this.a};var ol="closure_listenable_"+(1e6*Math.random()|0),Ij=0;function Sj(o,u,f,p,m){this.listener=o,this.proxy=null,this.src=u,this.type=f,this.capture=!!p,this.Wa=m,this.key=++Ij,this.wa=this.Qa=!1}function Gh(o){o.wa=!0,o.listener=null,o.proxy=null,o.src=null,o.Wa=null}function zh(o){this.src=o,this.a={},this.b=0}zh.prototype.add=function(o,u,f,p,m){var _=o.toString();o=this.a[_],o||(o=this.a[_]=[],this.b++);var b=Tm(o,u,p,m);return-1<b?(u=o[b],f||(u.Qa=!1)):(u=new Sj(u,this.src,_,!!p,m),u.Qa=f,o.push(u)),u};function Em(o,u){var f=u.type;f in o.a&&U(o.a[f],u)&&(Gh(u),o.a[f].length==0&&(delete o.a[f],o.b--))}function Tm(o,u,f,p){for(var m=0;m<o.length;++m){var _=o[m];if(!_.wa&&_.listener==u&&_.capture==!!f&&_.Wa==p)return m}return-1}var Im="closure_lm_"+(1e6*Math.random()|0),Sm={};function Ar(o,u,f,p,m){if(p&&p.once)Am(o,u,f,p,m);else if(Array.isArray(u))for(var _=0;_<u.length;_++)Ar(o,u[_],f,p,m);else f=Nm(f),o&&o[ol]?wS(o,u,f,T(p)?!!p.capture:!!p,m):vS(o,u,f,!1,p,m)}function vS(o,u,f,p,m,_){if(!u)throw Error("Invalid event type");var b=T(m)?!!m.capture:!!m,I=Yh(o);if(I||(o[Im]=I=new zh(o)),f=I.add(u,f,p,b,_),!f.proxy)if(p=Aj(),f.proxy=p,p.src=o,p.listener=f,o.addEventListener)Ej||(m=b),m===void 0&&(m=!1),o.addEventListener(u.toString(),p,m);else if(o.attachEvent)o.attachEvent(mS(u.toString()),p);else if(o.addListener&&o.removeListener)o.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.")}function Aj(){var o=Cj,u=pS?function(f){return o.call(u.src,u.listener,f)}:function(f){if(f=o.call(u.src,u.listener,f),!f)return f};return u}function Am(o,u,f,p,m){if(Array.isArray(u))for(var _=0;_<u.length;_++)Am(o,u[_],f,p,m);else f=Nm(f),o&&o[ol]?km(o,u,f,T(p)?!!p.capture:!!p,m):vS(o,u,f,!0,p,m)}function lr(o,u,f,p,m){if(Array.isArray(u))for(var _=0;_<u.length;_++)lr(o,u[_],f,p,m);else p=T(p)?!!p.capture:!!p,f=Nm(f),o&&o[ol]?(o=o.v,u=String(u).toString(),u in o.a&&(_=o.a[u],f=Tm(_,f,p,m),-1<f&&(Gh(_[f]),Array.prototype.splice.call(_,f,1),_.length==0&&(delete o.a[u],o.b--)))):o&&(o=Yh(o))&&(u=o.a[u.toString()],o=-1,u&&(o=Tm(u,f,p,m)),(f=-1<o?u[o]:null)&&gS(f))}function gS(o){if(typeof o!="number"&&o&&!o.wa){var u=o.src;if(u&&u[ol])Em(u.v,o);else{var f=o.type,p=o.proxy;u.removeEventListener?u.removeEventListener(f,p,o.capture):u.detachEvent?u.detachEvent(mS(f),p):u.addListener&&u.removeListener&&u.removeListener(p),(f=Yh(u))?(Em(f,o),f.b==0&&(f.src=null,u[Im]=null)):Gh(o)}}}function mS(o){return o in Sm?Sm[o]:Sm[o]="on"+o}function yS(o,u,f,p){var m=!0;if((o=Yh(o))&&(u=o.a[u.toString()]))for(u=u.concat(),o=0;o<u.length;o++){var _=u[o];_&&_.capture==f&&!_.wa&&(_=_S(_,p),m=m&&_!==!1)}return m}function _S(o,u){var f=o.listener,p=o.Wa||o.src;return o.Qa&&gS(o),f.call(p,u)}function Cj(o,u){if(o.wa)return!0;if(!pS){if(!u)e:{u=["window","event"];for(var f=l,p=0;p<u.length;p++)if(f=f[u[p]],f==null){u=null;break e}u=f}if(p=u,u=new Is(p,this),f=!0,!(0>p.keyCode||p.returnValue!=null)){e:{var m=!1;if(p.keyCode==0)try{p.keyCode=-1;break e}catch{m=!0}(m||p.returnValue==null)&&(p.returnValue=!0)}for(p=[],m=u.b;m;m=m.parentNode)p.push(m);for(o=o.type,m=p.length-1;0<=m;m--){u.b=p[m];var _=yS(p[m],o,!0,u);f=f&&_}for(m=0;m<p.length;m++)u.b=p[m],_=yS(p[m],o,!1,u),f=f&&_}return f}return _S(o,new Is(u,this))}function Yh(o){return o=o[Im],o instanceof zh?o:null}var Cm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nm(o){return E(o)?o:(o[Cm]||(o[Cm]=function(u){return o.handleEvent(u)}),o[Cm])}function Pn(){Wh.call(this),this.v=new zh(this),this.bc=this,this.hb=null}Z(Pn,Wh),Pn.prototype[ol]=!0,Pn.prototype.addEventListener=function(o,u,f,p){Ar(this,o,u,f,p)},Pn.prototype.removeEventListener=function(o,u,f,p){lr(this,o,u,f,p)},Pn.prototype.dispatchEvent=function(o){var u,f=this.hb;if(f)for(u=[];f;f=f.hb)u.push(f);f=this.bc;var p=o.type||o;if(typeof o=="string")o=new Xn(o,f);else if(o instanceof Xn)o.target=o.target||f;else{var m=o;o=new Xn(p,f),sn(o,m)}if(m=!0,u)for(var _=u.length-1;0<=_;_--){var b=o.b=u[_];m=Qh(b,p,!0,o)&&m}if(b=o.b=f,m=Qh(b,p,!0,o)&&m,m=Qh(b,p,!1,o)&&m,u)for(_=0;_<u.length;_++)b=o.b=u[_],m=Qh(b,p,!1,o)&&m;return m},Pn.prototype.Da=function(){if(Pn.bb.Da.call(this),this.v){var o=this.v,u;for(u in o.a){for(var f=o.a[u],p=0;p<f.length;p++)Gh(f[p]);delete o.a[u],o.b--}}this.hb=null};function wS(o,u,f,p,m){o.v.add(String(u),f,!1,p,m)}function km(o,u,f,p,m){o.v.add(String(u),f,!0,p,m)}function Qh(o,u,f,p){if(u=o.v.a[String(u)],!u)return!0;u=u.concat();for(var m=!0,_=0;_<u.length;++_){var b=u[_];if(b&&!b.wa&&b.capture==f){var I=b.listener,F=b.Wa||b.src;b.Qa&&Em(o.v,b),m=I.call(F,p)!==!1&&m}}return m&&!p.defaultPrevented}function Rm(o,u,f){if(E(o))f&&(o=M(o,f));else if(o&&typeof o.handleEvent=="function")o=M(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:l.setTimeout(o,u||0)}function Za(o){var u=null;return new Be(function(f,p){u=Rm(function(){f(void 0)},o),u==-1&&p(Error("Failed to schedule timer."))}).o(function(f){throw l.clearTimeout(u),f})}function bS(o){if(o.X&&typeof o.X=="function")return o.X();if(typeof o=="string")return o.split("");if(w(o)){for(var u=[],f=o.length,p=0;p<f;p++)u.push(o[p]);return u}u=[],f=0;for(p in o)u[f++]=o[p];return u}function ES(o){if(o.Y&&typeof o.Y=="function")return o.Y();if(!o.X||typeof o.X!="function"){if(w(o)||typeof o=="string"){var u=[];o=o.length;for(var f=0;f<o;f++)u.push(f);return u}u=[],f=0;for(var p in o)u[f++]=p;return u}}function Nj(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(w(o)||typeof o=="string")G(o,u,void 0);else for(var f=ES(o),p=bS(o),m=p.length,_=0;_<m;_++)u.call(void 0,p[_],f&&f[_],o)}function eu(o,u){this.b={},this.a=[],this.c=0;var f=arguments.length;if(1<f){if(f%2)throw Error("Uneven number of arguments");for(var p=0;p<f;p+=2)this.set(arguments[p],arguments[p+1])}else if(o)if(o instanceof eu)for(f=o.Y(),p=0;p<f.length;p++)this.set(f[p],o.get(f[p]));else for(p in o)this.set(p,o[p])}t=eu.prototype,t.X=function(){Om(this);for(var o=[],u=0;u<this.a.length;u++)o.push(this.b[this.a[u]]);return o},t.Y=function(){return Om(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0};function Om(o){if(o.c!=o.a.length){for(var u=0,f=0;u<o.a.length;){var p=o.a[u];Ss(o.b,p)&&(o.a[f++]=p),u++}o.a.length=f}if(o.c!=o.a.length){var m={};for(f=u=0;u<o.a.length;)p=o.a[u],Ss(m,p)||(o.a[f++]=p,m[p]=1),u++;o.a.length=f}}t.get=function(o,u){return Ss(this.b,o)?this.b[o]:u},t.set=function(o,u){Ss(this.b,o)||(this.c++,this.a.push(o)),this.b[o]=u},t.forEach=function(o,u){for(var f=this.Y(),p=0;p<f.length;p++){var m=f[p],_=this.get(m);o.call(u,_,m,this)}};function Ss(o,u){return Object.prototype.hasOwnProperty.call(o,u)}var TS=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function kj(o,u){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var p=o[f].indexOf("="),m=null;if(0<=p){var _=o[f].substring(0,p);m=o[f].substring(p+1)}else _=o[f];u(_,m?decodeURIComponent(m.replace(/\+/g," ")):"")}}}function No(o,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var f;o instanceof No?(this.i=u!==void 0?u:o.i,sl(this,o.c),this.l=o.l,this.a=o.a,al(this,o.g),this.f=o.f,Dm(this,CS(o.b)),this.h=o.h):o&&(f=String(o).match(TS))?(this.i=!!u,sl(this,f[1]||"",!0),this.l=ul(f[2]||""),this.a=ul(f[3]||"",!0),al(this,f[4]),this.f=ul(f[5]||"",!0),Dm(this,f[6]||"",!0),this.h=ul(f[7]||"")):(this.i=!!u,this.b=new As(null,this.i))}No.prototype.toString=function(){var o=[],u=this.c;u&&o.push(cl(u,IS,!0),":");var f=this.a;return(f||u=="file")&&(o.push("//"),(u=this.l)&&o.push(cl(u,IS,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.g,f!=null&&o.push(":",String(f))),(f=this.f)&&(this.a&&f.charAt(0)!="/"&&o.push("/"),o.push(cl(f,f.charAt(0)=="/"?Dj:Oj,!0))),(f=this.b.toString())&&o.push("?",f),(f=this.h)&&o.push("#",cl(f,xj)),o.join("")},No.prototype.resolve=function(o){var u=new No(this),f=!!o.c;f?sl(u,o.c):f=!!o.l,f?u.l=o.l:f=!!o.a,f?u.a=o.a:f=o.g!=null;var p=o.f;if(f)al(u,o.g);else if(f=!!o.f){if(p.charAt(0)!="/")if(this.a&&!this.f)p="/"+p;else{var m=u.f.lastIndexOf("/");m!=-1&&(p=u.f.substr(0,m+1)+p)}if(m=p,m==".."||m==".")p="";else if(pe(m,"./")||pe(m,"/.")){p=m.lastIndexOf("/",0)==0,m=m.split("/");for(var _=[],b=0;b<m.length;){var I=m[b++];I=="."?p&&b==m.length&&_.push(""):I==".."?((1<_.length||_.length==1&&_[0]!="")&&_.pop(),p&&b==m.length&&_.push("")):(_.push(I),p=!0)}p=_.join("/")}else p=m}return f?u.f=p:f=o.b.toString()!=="",f?Dm(u,CS(o.b)):f=!!o.h,f&&(u.h=o.h),u};function sl(o,u,f){o.c=f?ul(u,!0):u,o.c&&(o.c=o.c.replace(/:$/,""))}function al(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.g=u}else o.g=null}function Dm(o,u,f){u instanceof As?(o.b=u,Lj(o.b,o.i)):(f||(u=cl(u,Pj)),o.b=new As(u,o.i))}function kt(o,u,f){o.b.set(u,f)}function Cr(o,u){return o.b.get(u)}function Jn(o){return o instanceof No?new No(o):new No(o,void 0)}function Xh(o,u,f,p){var m=new No(null,void 0);return o&&sl(m,o),u&&(m.a=u),f&&al(m,f),p&&(m.f=p),m}function ul(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function cl(o,u,f){return typeof o=="string"?(o=encodeURI(o).replace(u,Rj),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Rj(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var IS=/[#\/\?@]/g,Oj=/[#\?:]/g,Dj=/[#\?]/g,Pj=/[#\?@]/g,xj=/#/g;function As(o,u){this.b=this.a=null,this.c=o||null,this.f=!!u}function ko(o){o.a||(o.a=new eu,o.b=0,o.c&&kj(o.c,function(u,f){o.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}function SS(o){var u=ES(o);if(typeof u>"u")throw Error("Keys are undefined");var f=new As(null,void 0);o=bS(o);for(var p=0;p<u.length;p++){var m=u[p],_=o[p];Array.isArray(_)?AS(f,m,_):f.add(m,_)}return f}t=As.prototype,t.add=function(o,u){ko(this),this.c=null,o=tu(this,o);var f=this.a.get(o);return f||this.a.set(o,f=[]),f.push(u),this.b+=1,this};function mi(o,u){ko(o),u=tu(o,u),Ss(o.a.b,u)&&(o.c=null,o.b-=o.a.get(u).length,o=o.a,Ss(o.b,u)&&(delete o.b[u],o.c--,o.a.length>2*o.c&&Om(o)))}t.clear=function(){this.a=this.c=null,this.b=0};function Pm(o,u){return ko(o),u=tu(o,u),Ss(o.a.b,u)}t.forEach=function(o,u){ko(this),this.a.forEach(function(f,p){G(f,function(m){o.call(u,m,p,this)},this)},this)},t.Y=function(){ko(this);for(var o=this.a.X(),u=this.a.Y(),f=[],p=0;p<u.length;p++)for(var m=o[p],_=0;_<m.length;_++)f.push(u[p]);return f},t.X=function(o){ko(this);var u=[];if(typeof o=="string")Pm(this,o)&&(u=q(u,this.a.get(tu(this,o))));else{o=this.a.X();for(var f=0;f<o.length;f++)u=q(u,o[f])}return u},t.set=function(o,u){return ko(this),this.c=null,o=tu(this,o),Pm(this,o)&&(this.b-=this.a.get(o).length),this.a.set(o,[u]),this.b+=1,this},t.get=function(o,u){return o?(o=this.X(o),0<o.length?String(o[0]):u):u};function AS(o,u,f){mi(o,u),0<f.length&&(o.c=null,o.a.set(tu(o,u),te(f)),o.b+=f.length)}t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var o=[],u=this.a.Y(),f=0;f<u.length;f++){var p=u[f],m=encodeURIComponent(String(p));p=this.X(p);for(var _=0;_<p.length;_++){var b=m;p[_]!==""&&(b+="="+encodeURIComponent(String(p[_]))),o.push(b)}}return this.c=o.join("&")};function CS(o){var u=new As;return u.c=o.c,o.a&&(u.a=new eu(o.a),u.b=o.b),u}function tu(o,u){return u=String(u),o.f&&(u=u.toLowerCase()),u}function Lj(o,u){u&&!o.f&&(ko(o),o.c=null,o.a.forEach(function(f,p){var m=p.toLowerCase();p!=m&&(mi(this,p),AS(this,m,f))},o)),o.f=u}function NS(o){var u=[];return xm(new Mj,o,u),u.join("")}function Mj(){}function xm(o,u,f){if(u==null)f.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var p=u;u=p.length,f.push("[");for(var m="",_=0;_<u;_++)f.push(m),xm(o,p[_],f),m=",";f.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{f.push("{"),m="";for(p in u)Object.prototype.hasOwnProperty.call(u,p)&&(_=u[p],typeof _!="function"&&(f.push(m),RS(p,f),f.push(":"),xm(o,_,f),m=","));f.push("}");return}}switch(typeof u){case"string":RS(u,f);break;case"number":f.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":f.push(String(u));break;case"function":f.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var kS={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},Fj=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function RS(o,u){u.push('"',o.replace(Fj,function(f){var p=kS[f];return p||(p="\\u"+(f.charCodeAt(0)|65536).toString(16).substr(1),kS[f]=p),p}),'"')}function Lm(){var o=an();return Wr&&!!Co&&Co==11||/Edge\/\d+/.test(o)}function ll(){return l.window&&l.window.location.href||self&&self.location&&self.location.href||""}function OS(o,u){u=u||l.window;var f="about:blank";o&&(f=Bh(VI(o)||BI)),u.location.href=f}function DS(o,u){var f=[],p;for(p in o)p in u?typeof o[p]!=typeof u[p]?f.push(p):typeof o[p]=="object"&&o[p]!=null&&u[p]!=null?0<DS(o[p],u[p]).length&&f.push(p):o[p]!==u[p]&&f.push(p):f.push(p);for(p in u)p in o||f.push(p);return f}function Uj(){var o=an();return o=nu(o)!=MS?null:(o=o.match(/\sChrome\/(\d+)/i))&&o.length==2?parseInt(o[1],10):null,o&&30>o?!1:!Wr||!Co||9<Co}function PS(o){return o=(o||an()).toLowerCase(),!!(o.match(/android/)||o.match(/webos/)||o.match(/iphone|ipad|ipod/)||o.match(/blackberry/)||o.match(/windows phone/)||o.match(/iemobile/))}function Cs(o){o=o||l.window;try{o.close()}catch{}}function xS(o,u,f){var p=Math.floor(1e9*Math.random()).toString();u=u||500,f=f||600;var m=(window.screen.availHeight-f)/2,_=(window.screen.availWidth-u)/2;u={width:u,height:f,top:0<m?m:0,left:0<_?_:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},f=an().toLowerCase(),p&&(u.target=p,pe(f,"crios/")&&(u.target="_blank")),nu(an())==Um&&(o=o||"http://localhost",u.scrollbars=!0),f=o||"",(o=u)||(o={}),p=window,u=f instanceof Qn?f:VI(typeof f.href<"u"?f.href:String(f))||BI,f=o.target||f.target,m=[];for(b in o)switch(b){case"width":case"height":case"top":case"left":m.push(b+"="+o[b]);break;case"target":case"noopener":case"noreferrer":break;default:m.push(b+"="+(o[b]?1:0))}var b=m.join(",");if((It("iPhone")&&!It("iPod")&&!It("iPad")||It("iPad")||It("iPod"))&&p.navigator&&p.navigator.standalone&&f&&f!="_self"?(b=qh(document,"A"),PI(b,"HTMLAnchorElement"),u=u instanceof Qn?u:jI(u),b.href=Bh(u),b.setAttribute("target",f),o.noreferrer&&b.setAttribute("rel","noreferrer"),o=document.createEvent("MouseEvent"),o.initMouseEvent("click",!0,!0,p,1),b.dispatchEvent(o),b={}):o.noreferrer?(b=qI("",p,f,b),o=Bh(u),b&&(uj&&pe(o,";")&&(o="'"+o.replace(/'/g,"%27")+"'"),b.opener=null,o='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+hm(o)+'">',o=(p=LI())?p.createHTML(o):o,o=new Xa(o,null,$I),p=b.document)&&(p.write(ij(o)),p.close())):(b=qI(u,p,f,b))&&o.noopener&&(b.opener=null),b)try{b.focus()}catch{}return b}function Vj(o){return new Be(function(u){function f(){Za(2e3).then(function(){if(!o||o.closed)u();else return f()})}return f()})}var jj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bj=/^[^@]+@[^@]+$/;function Jh(){var o=null;return new Be(function(u){l.document.readyState=="complete"?u():(o=function(){u()},Am(window,"load",o))}).o(function(u){throw lr(window,"load",o),u})}function $j(){return Mm(void 0)?Jh().then(function(){return new Be(function(o,u){var f=l.document,p=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);f.addEventListener("deviceready",function(){clearTimeout(p),o()},!1)})}):vt(Error("Cordova must run in an Android or iOS file scheme."))}function Mm(o){return o=o||an(),!(iu()!=="file:"&&iu()!=="ionic:"||!o.toLowerCase().match(/iphone|ipad|ipod|android/))}function Fm(){var o=l.window;try{return!(!o||o==o.top)}catch{return!1}}function Gr(){return typeof l.WorkerGlobalScope<"u"&&typeof l.importScripts=="function"}function yi(){return ce.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":ce.INTERNAL.hasOwnProperty("node")?"Node":Gr()?"Worker":"Browser"}function LS(){var o=yi();return o==="ReactNative"||o==="Node"}function qj(){for(var o=50,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}var Um="Firefox",MS="Chrome";function nu(o){var u=o.toLowerCase();if(pe(u,"opera/")||pe(u,"opr/")||pe(u,"opios/"))return"Opera";if(pe(u,"iemobile"))return"IEMobile";if(pe(u,"msie")||pe(u,"trident/"))return"IE";if(pe(u,"edge/"))return"Edge";if(pe(u,"firefox/"))return Um;if(pe(u,"silk/"))return"Silk";if(pe(u,"blackberry"))return"Blackberry";if(pe(u,"webos"))return"Webos";if(!pe(u,"safari/")||pe(u,"chrome/")||pe(u,"crios/")||pe(u,"android"))if(!pe(u,"chrome/")&&!pe(u,"crios/")||pe(u,"edge/")){if(pe(u,"android"))return"Android";if((o=o.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&o.length==2)return o[1]}else return MS;else return"Safari";return"Other"}var FS={md:"FirebaseCore-web",od:"FirebaseUI-web"};function ru(o,u){u=u||[];var f=[],p={},m;for(m in FS)p[FS[m]]=!0;for(m=0;m<u.length;m++)typeof p[u[m]]<"u"&&(delete p[u[m]],f.push(u[m]));return f.sort(),u=f,u.length||(u=["FirebaseCore-web"]),f=yi(),f==="Browser"?(p=an(),f=nu(p)):f==="Worker"&&(p=an(),f=nu(p)+"-"+f),f+"/JsCore/"+o+"/"+u.join(",")}function an(){return l.navigator&&l.navigator.userAgent||""}function gt(o,u){o=o.split("."),u=u||l;for(var f=0;f<o.length&&typeof u=="object"&&u!=null;f++)u=u[o[f]];return f!=o.length&&(u=void 0),u}function Vm(){try{var o=l.localStorage,u=ks();if(o)return o.setItem(u,"1"),o.removeItem(u),Lm()?!!l.indexedDB:!0}catch{return Gr()&&!!l.indexedDB}return!1}function Ns(){return(Zh()||iu()==="chrome-extension:"||Mm())&&!LS()&&Vm()&&!Gr()}function Zh(){return iu()==="http:"||iu()==="https:"}function iu(){return l.location&&l.location.protocol||null}function fl(o){return o=o||an(),!(PS(o)||nu(o)==Um)}function hl(o){return typeof o>"u"?null:NS(o)}function US(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&o[f]!==null&&o[f]!==void 0&&(u[f]=o[f]);return u}function ou(o){if(o!==null)return JSON.parse(o)}function ks(o){return o||Math.floor(1e9*Math.random()).toString()}function VS(o){return o=o||an(),!(nu(o)=="Safari"||o.toLowerCase().match(/iphone|ipad|ipod/))}function jS(){var o=l.___jsl;if(o&&o.H){for(var u in o.H)if(o.H[u].r=o.H[u].r||[],o.H[u].L=o.H[u].L||[],o.H[u].r=o.H[u].L.concat(),o.CP)for(var f=0;f<o.CP.length;f++)o.CP[f]=null}}function Ro(o,u){if(o>u)throw Error("Short delay should be less than long delay!");this.a=o,this.c=u,o=an(),u=yi(),this.b=PS(o)||u==="ReactNative"}Ro.prototype.get=function(){var o=l.navigator;return!(o&&typeof o.onLine=="boolean"&&(Zh()||iu()==="chrome-extension:"||typeof o.connection<"u"))||o.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function jm(){var o=l.document;return o&&typeof o.visibilityState<"u"?o.visibilityState=="visible":!0}function Hj(){var o=l.document,u=null;return jm()||!o?ge():new Be(function(f){u=function(){jm()&&(o.removeEventListener("visibilitychange",u,!1),f())},o.addEventListener("visibilitychange",u,!1)}).o(function(f){throw o.removeEventListener("visibilitychange",u,!1),f})}function dl(o){try{var u=new Date(parseInt(o,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(o))return u.toUTCString()}catch{}return null}function BS(){return!(!gt("fireauth.oauthhelper",l)&&!gt("fireauth.iframe",l))}function Kj(){var o=l.navigator;return o&&o.serviceWorker&&o.serviceWorker.controller||null}function Wj(){var o=l.navigator;return o&&o.serviceWorker?ge().then(function(){return o.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):ge(null)}var $S={};function Bm(o){$S[o]||($S[o]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(o))}var $m;try{var qm={};Object.defineProperty(qm,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(qm,"abcd",{configurable:!0,enumerable:!0,value:2}),$m=qm.abcd==2}catch{$m=!1}function ue(o,u,f){$m?Object.defineProperty(o,u,{configurable:!0,enumerable:!0,value:f}):o[u]=f}function xn(o,u){if(u)for(var f in u)u.hasOwnProperty(f)&&ue(o,f,u[f])}function _i(o){var u={};return xn(u,o),u}function Gj(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&(u[f]=o[f]);return u}function zj(o,u){if(!u||!u.length)return!0;if(!o)return!1;for(var f=0;f<u.length;f++){var p=o[u[f]];if(p==null||p==="")return!1}return!0}function Hm(o){var u=o;if(typeof o=="object"&&o!=null){u="length"in o?[]:{};for(var f in o)ue(u,f,Hm(o[f]))}return u}function Km(o){var u=o&&(o[Ym]?"phone":null);if(u&&o&&o[zm]){ue(this,"uid",o[zm]),ue(this,"displayName",o[qS]||null);var f=null;o[Gm]&&(f=new Date(o[Gm]).toUTCString()),ue(this,"enrollmentTime",f),ue(this,"factorId",u)}else throw new R("internal-error","Internal assert: invalid MultiFactorInfo object")}Km.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Wm(o){try{var u=new pl(o)}catch{u=null}return u}var qS="displayName",Gm="enrolledAt",zm="mfaEnrollmentId",Ym="phoneInfo";function pl(o){Km.call(this,o),ue(this,"phoneNumber",o[Ym])}Z(pl,Km),pl.prototype.w=function(){var o=pl.bb.w.call(this);return o.phoneNumber=this.phoneNumber,o};function Yj(o){var u={},f=o[Qj],p=o[Jj],m=o[Zj];if(o=Wm(o[Xj]),!m||m!=ed&&m!=vl&&!f||m==vl&&!p||m==Qm&&!o)throw Error("Invalid checkActionCode response!");m==vl?(u[KS]=f||null,u[WS]=f||null,u[HS]=p):(u[KS]=p||null,u[WS]=p||null,u[HS]=f||null),u[eB]=o||null,ue(this,nB,m),ue(this,tB,Hm(u))}var Qm="REVERT_SECOND_FACTOR_ADDITION",ed="EMAIL_SIGNIN",vl="VERIFY_AND_CHANGE_EMAIL",Qj="email",Xj="mfaInfo",Jj="newEmail",Zj="requestType",HS="email",KS="fromEmail",eB="multiFactorInfo",WS="previousEmail",tB="data",nB="operation";function Xm(o){o=Jn(o);var u=Cr(o,GS)||null,f=Cr(o,zS)||null,p=Cr(o,YS)||null;if(p=p&&sB[p]||null,!u||!f||!p)throw new R("argument-error",GS+", "+zS+"and "+YS+" are required in a valid action code URL.");xn(this,{apiKey:u,operation:p,code:f,continueUrl:Cr(o,rB)||null,languageCode:Cr(o,iB)||null,tenantId:Cr(o,oB)||null})}var GS="apiKey",zS="oobCode",rB="continueUrl",iB="languageCode",YS="mode",oB="tenantId",sB={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Qm,signIn:ed,verifyAndChangeEmail:vl,verifyEmail:"VERIFY_EMAIL"};function QS(o){try{return new Xm(o)}catch{return null}}function td(o){var u=o[aB];if(typeof u>"u")throw new R("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new R("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var f=o[XS];if(f&&typeof f=="object"){u=f[nA];var p=f[eA];if(f=f[tA],typeof u=="string"&&u.length){if(this.a=u,typeof p<"u"&&typeof p!="boolean")throw new R("argument-error",eA+" property must be a boolean when specified.");if(this.g=!!p,typeof f<"u"&&(typeof f!="string"||typeof f=="string"&&!f.length))throw new R("argument-error",tA+" property must be a non empty string when specified.");this.b=f||null}else{if(typeof u<"u")throw new R("argument-error",nA+" property must be a non empty string when specified.");if(typeof p<"u"||typeof f<"u")throw new R("missing-android-pkg-name")}}else if(typeof f<"u")throw new R("argument-error",XS+" property must be a non null object when specified.");if(this.f=null,(u=o[ZS])&&typeof u=="object"){if(u=u[rA],typeof u=="string"&&u.length)this.f=u;else if(typeof u<"u")throw new R("argument-error",rA+" property must be a non empty string when specified.")}else if(typeof u<"u")throw new R("argument-error",ZS+" property must be a non null object when specified.");if(u=o[Jm],typeof u<"u"&&typeof u!="boolean")throw new R("argument-error",Jm+" property must be a boolean when specified.");if(this.c=!!u,o=o[JS],typeof o<"u"&&(typeof o!="string"||typeof o=="string"&&!o.length))throw new R("argument-error",JS+" property must be a non empty string when specified.");this.i=o||null}var XS="android",JS="dynamicLinkDomain",Jm="handleCodeInApp",ZS="iOS",aB="url",eA="installApp",tA="minimumVersion",nA="packageName",rA="bundleId";function nd(o){var u={};u.continueUrl=o.h,u.canHandleCodeInApp=o.c,(u.androidPackageName=o.a)&&(u.androidMinimumVersion=o.b,u.androidInstallApp=o.g),u.iOSBundleId=o.f,u.dynamicLinkDomain=o.i;for(var f in u)u[f]===null&&delete u[f];return u}function uB(o){return Le(o,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var gl=null;function cB(o){var u=[];return lB(o,function(f){u.push(f)}),u}function lB(o,u){function f(F){for(;p<o.length;){var $=o.charAt(p++),Se=gl[$];if(Se!=null)return Se;if(!/^[\s\xa0]*$/.test($))throw Error("Unknown base64 encoding at char: "+$)}return F}fB();for(var p=0;;){var m=f(-1),_=f(0),b=f(64),I=f(64);if(I===64&&m===-1)break;u(m<<2|_>>4),b!=64&&(u(_<<4&240|b>>2),I!=64&&u(b<<6&192|I))}}function fB(){if(!gl){gl={};for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],f=0;5>f;f++)for(var p=o.concat(u[f].split("")),m=0;m<p.length;m++){var _=p[m];gl[_]===void 0&&(gl[_]=m)}}}function rd(o){var u=iA(o);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=o,this.a=u.exp,this.i=u.sub,o=Date.now()/1e3,this.g=u.iat||(o>this.a?this.a:o),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}rd.prototype.T=function(){return this.f},rd.prototype.l=function(){return this.c},rd.prototype.toString=function(){return this.h};function id(o){try{return new rd(o)}catch{return null}}function iA(o){if(!o||(o=o.split("."),o.length!=3))return null;o=o[1];for(var u=(4-o.length%4)%4,f=0;f<u;f++)o+=".";try{var p=cB(o);for(o=[],f=u=0;u<p.length;){var m=p[u++];if(128>m)o[f++]=String.fromCharCode(m);else if(191<m&&224>m){var _=p[u++];o[f++]=String.fromCharCode((m&31)<<6|_&63)}else if(239<m&&365>m){_=p[u++];var b=p[u++],I=p[u++],F=((m&7)<<18|(_&63)<<12|(b&63)<<6|I&63)-65536;o[f++]=String.fromCharCode(55296+(F>>10)),o[f++]=String.fromCharCode(56320+(F&1023))}else _=p[u++],b=p[u++],o[f++]=String.fromCharCode((m&15)<<12|(_&63)<<6|b&63)}return JSON.parse(o.join(""))}catch{}return null}var oA="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),od=["client_id","response_type","scope","redirect_uri","state"],Zm={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:od},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:od},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:od},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:oA},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function ey(o){for(var u in Zm)if(Zm[u].fa==o)return Zm[u];return null}function sA(o){var u={};u["facebook.com"]=uA,u["google.com"]=lA,u["github.com"]=cA,u["twitter.com"]=fA;var f=o&&o[aA];try{if(f)return u[f]?new u[f](o):new wi(o);if(typeof o[ty]<"u")return new ny(o)}catch{}return null}var ty="idToken",aA="providerId";function ny(o){var u=o[aA];if(!u&&o[ty]){var f=id(o[ty]);f&&f.b&&(u=f.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),f=!1,typeof o.isNewUser<"u"?f=!!o.isNewUser:o.kind==="identitytoolkit#SignupNewUserResponse"&&(f=!0),ue(this,"providerId",u),ue(this,"isNewUser",f)}function wi(o){ny.call(this,o),o=ou(o.rawUserInfo||"{}"),ue(this,"profile",Hm(o||{}))}Z(wi,ny);function uA(o){if(wi.call(this,o),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}Z(uA,wi);function cA(o){if(wi.call(this,o),this.providerId!="github.com")throw Error("Invalid provider ID!");ue(this,"username",this.profile&&this.profile.login||null)}Z(cA,wi);function lA(o){if(wi.call(this,o),this.providerId!="google.com")throw Error("Invalid provider ID!")}Z(lA,wi);function fA(o){if(wi.call(this,o),this.providerId!="twitter.com")throw Error("Invalid provider ID!");ue(this,"username",o.screenName||null)}Z(fA,wi);function hA(o){var u=Jn(o),f=Cr(u,"link"),p=Cr(Jn(f),"link");return u=Cr(u,"deep_link_id"),Cr(Jn(u),"link")||u||p||f||o}function sd(o,u){if(!o&&!u)throw new R("internal-error","Internal assert: no raw session string available");if(o&&u)throw new R("internal-error","Internal assert: unable to determine the session type");this.a=o||null,this.b=u||null,this.type=this.a?ml:ad}var ml="enroll",ad="signin";sd.prototype.Ha=function(){return this.a?ge(this.a):ge(this.b)},sd.prototype.w=function(){return this.type==ml?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function su(){}su.prototype.ka=function(){},su.prototype.b=function(){},su.prototype.c=function(){},su.prototype.w=function(){};function au(o,u){return o.then(function(f){if(f[Qr]){var p=id(f[Qr]);if(!p||u!=p.i)throw new R("user-mismatch");return f}throw new R("user-mismatch")}).o(function(f){throw f&&f.code&&f.code==ht+"user-not-found"?new R("user-mismatch"):f})}function Rs(o,u){if(u)this.a=u;else throw new R("internal-error","failed to construct a credential");ue(this,"providerId",o),ue(this,"signInMethod",o)}Rs.prototype.ka=function(o){return Ay(o,ry(this))},Rs.prototype.b=function(o,u){var f=ry(this);return f.idToken=u,Cy(o,f)},Rs.prototype.c=function(o,u){return au(Ny(o,ry(this)),u)};function ry(o){return{pendingToken:o.a,requestUri:"http://localhost"}}Rs.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function hB(o){if(o&&o.providerId&&o.signInMethod&&o.providerId.indexOf("saml.")==0&&o.pendingToken)try{return new Rs(o.providerId,o.pendingToken)}catch{}return null}function Qi(o,u,f){if(this.a=null,u.idToken||u.accessToken)u.idToken&&ue(this,"idToken",u.idToken),u.accessToken&&ue(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&ue(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)ue(this,"accessToken",u.oauthToken),ue(this,"secret",u.oauthTokenSecret);else throw new R("internal-error","failed to construct a credential");ue(this,"providerId",o),ue(this,"signInMethod",f)}Qi.prototype.ka=function(o){return Ay(o,iy(this))},Qi.prototype.b=function(o,u){var f=iy(this);return f.idToken=u,Cy(o,f)},Qi.prototype.c=function(o,u){var f=iy(this);return au(Ny(o,f),u)};function iy(o){var u={};return o.idToken&&(u.id_token=o.idToken),o.accessToken&&(u.access_token=o.accessToken),o.secret&&(u.oauth_token_secret=o.secret),u.providerId=o.providerId,o.nonce&&!o.a&&(u.nonce=o.nonce),u={postBody:SS(u).toString(),requestUri:"http://localhost"},o.a&&(delete u.postBody,u.pendingToken=o.a),u}Qi.prototype.w=function(){var o={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(o.oauthIdToken=this.idToken),this.accessToken&&(o.oauthAccessToken=this.accessToken),this.secret&&(o.oauthTokenSecret=this.secret),this.nonce&&(o.nonce=this.nonce),this.a&&(o.pendingToken=this.a),o};function dB(o){if(o&&o.providerId&&o.signInMethod){var u={idToken:o.oauthIdToken,accessToken:o.oauthTokenSecret?null:o.oauthAccessToken,oauthTokenSecret:o.oauthTokenSecret,oauthToken:o.oauthTokenSecret&&o.oauthAccessToken,nonce:o.nonce,pendingToken:o.pendingToken};try{return new Qi(o.providerId,u,o.signInMethod)}catch{}}return null}function Os(o,u){this.Qc=u||[],xn(this,{providerId:o,isOAuthProvider:!0}),this.Jb={},this.qb=(ey(o)||{}).Ja||null,this.pb=null}Os.prototype.Ka=function(o){return this.Jb=St(o),this};function dA(o){if(typeof o!="string"||o.indexOf("saml.")!=0)throw new R("argument-error",'SAML provider IDs must be prefixed with "saml."');Os.call(this,o,[])}Z(dA,Os);function fr(o){Os.call(this,o,od),this.a=[]}Z(fr,Os),fr.prototype.Ca=function(o){return D(this.a,o)||this.a.push(o),this},fr.prototype.Rb=function(){return te(this.a)},fr.prototype.credential=function(o,u){var f;if(T(o)?f={idToken:o.idToken||null,accessToken:o.accessToken||null,nonce:o.rawNonce||null}:f={idToken:o||null,accessToken:u||null},!f.idToken&&!f.accessToken)throw new R("argument-error","credential failed: must provide the ID token and/or the access token.");return new Qi(this.providerId,f,this.providerId)};function Ds(){fr.call(this,"facebook.com")}Z(Ds,fr),ue(Ds,"PROVIDER_ID","facebook.com"),ue(Ds,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function pA(o){if(!o)throw new R("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return T(o)&&(u=o.accessToken),new Ds().credential({accessToken:u})}function Ps(){fr.call(this,"github.com")}Z(Ps,fr),ue(Ps,"PROVIDER_ID","github.com"),ue(Ps,"GITHUB_SIGN_IN_METHOD","github.com");function vA(o){if(!o)throw new R("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return T(o)&&(u=o.accessToken),new Ps().credential({accessToken:u})}function xs(){fr.call(this,"google.com"),this.Ca("profile")}Z(xs,fr),ue(xs,"PROVIDER_ID","google.com"),ue(xs,"GOOGLE_SIGN_IN_METHOD","google.com");function gA(o,u){var f=o;return T(o)&&(f=o.idToken,u=o.accessToken),new xs().credential({idToken:f,accessToken:u})}function uu(){Os.call(this,"twitter.com",oA)}Z(uu,Os),ue(uu,"PROVIDER_ID","twitter.com"),ue(uu,"TWITTER_SIGN_IN_METHOD","twitter.com");function mA(o,u){var f=o;if(T(f)||(f={oauthToken:o,oauthTokenSecret:u}),!f.oauthToken||!f.oauthTokenSecret)throw new R("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Qi("twitter.com",f,"twitter.com")}function Oo(o,u,f){this.a=o,this.f=u,ue(this,"providerId","password"),ue(this,"signInMethod",f===Nr.EMAIL_LINK_SIGN_IN_METHOD?Nr.EMAIL_LINK_SIGN_IN_METHOD:Nr.EMAIL_PASSWORD_SIGN_IN_METHOD)}Oo.prototype.ka=function(o){return this.signInMethod==Nr.EMAIL_LINK_SIGN_IN_METHOD?$e(o,XB,{email:this.a,oobCode:this.f}):$e(o,KA,{email:this.a,password:this.f})},Oo.prototype.b=function(o,u){return this.signInMethod==Nr.EMAIL_LINK_SIGN_IN_METHOD?$e(o,JB,{idToken:u,email:this.a,oobCode:this.f}):$e(o,HA,{idToken:u,email:this.a,password:this.f})},Oo.prototype.c=function(o,u){return au(this.ka(o),u)},Oo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function pB(o){return o&&o.email&&o.password?new Oo(o.email,o.password,o.signInMethod):null}function Nr(){xn(this,{providerId:"password",isOAuthProvider:!1})}function yA(o,u){if(u=oy(u),!u)throw new R("argument-error","Invalid email link!");return new Oo(o,u.code,Nr.EMAIL_LINK_SIGN_IN_METHOD)}function oy(o){return o=hA(o),(o=QS(o))&&o.operation===ed?o:null}xn(Nr,{PROVIDER_ID:"password"}),xn(Nr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),xn(Nr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function Do(o){if(!(o.fb&&o.eb||o.La&&o.ea))throw new R("internal-error");this.a=o,ue(this,"providerId","phone"),this.fa="phone",ue(this,"signInMethod","phone")}Do.prototype.ka=function(o){return o.gb(yl(this))},Do.prototype.b=function(o,u){var f=yl(this);return f.idToken=u,$e(o,y4,f)},Do.prototype.c=function(o,u){var f=yl(this);return f.operation="REAUTH",o=$e(o,_4,f),au(o,u)},Do.prototype.w=function(){var o={providerId:"phone"};return this.a.fb&&(o.verificationId=this.a.fb),this.a.eb&&(o.verificationCode=this.a.eb),this.a.La&&(o.temporaryProof=this.a.La),this.a.ea&&(o.phoneNumber=this.a.ea),o};function vB(o){if(o&&o.providerId==="phone"&&(o.verificationId&&o.verificationCode||o.temporaryProof&&o.phoneNumber)){var u={};return G(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(f){o[f]&&(u[f]=o[f])}),new Do(u)}return null}function yl(o){return o.a.La&&o.a.ea?{temporaryProof:o.a.La,phoneNumber:o.a.ea}:{sessionInfo:o.a.fb,code:o.a.eb}}function Xi(o){try{this.a=o||ce.auth()}catch{throw new R("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}xn(this,{providerId:"phone",isOAuthProvider:!1})}Xi.prototype.gb=function(o,u){var f=this.a.a;return ge(u.verify()).then(function(p){if(typeof p!="string")throw new R("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var m=T(o)?o.session:null,_=T(o)?o.phoneNumber:o,b;return m&&m.type==ml?b=m.Ha().then(function(I){return $B(f,{idToken:I,phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:p}})}):m&&m.type==ad?b=m.Ha().then(function(I){return qB(f,{mfaPendingCredential:I,mfaEnrollmentId:o.multiFactorHint&&o.multiFactorHint.uid||o.multiFactorUid,phoneSignInInfo:{recaptchaToken:p}})}):b=BB(f,{phoneNumber:_,recaptchaToken:p}),b.then(function(I){return typeof u.reset=="function"&&u.reset(),I},function(I){throw typeof u.reset=="function"&&u.reset(),I});default:throw new R("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function _A(o,u){if(!o)throw new R("missing-verification-id");if(!u)throw new R("missing-verification-code");return new Do({fb:o,eb:u})}xn(Xi,{PROVIDER_ID:"phone"}),xn(Xi,{PHONE_SIGN_IN_METHOD:"phone"});function sy(o){if(o.temporaryProof&&o.phoneNumber)return new Do({La:o.temporaryProof,ea:o.phoneNumber});var u=o&&o.providerId;if(!u||u==="password")return null;var f=o&&o.oauthAccessToken,p=o&&o.oauthTokenSecret,m=o&&o.nonce,_=o&&o.oauthIdToken,b=o&&o.pendingToken;try{switch(u){case"google.com":return gA(_,f);case"facebook.com":return pA(f);case"github.com":return vA(f);case"twitter.com":return mA(f,p);default:return f||p||_||b?b?u.indexOf("saml.")==0?new Rs(u,b):new Qi(u,{pendingToken:b,idToken:o.oauthIdToken,accessToken:o.oauthAccessToken},u):new fr(u).credential({idToken:_,accessToken:f,rawNonce:m}):null}}catch{return null}}function ay(o){if(!o.isOAuthProvider)throw new R("invalid-oauth-provider")}function zr(o,u,f,p,m,_,b){if(this.c=o,this.b=u||null,this.g=f||null,this.f=p||null,this.i=_||null,this.h=b||null,this.a=m||null,this.g||this.a){if(this.g&&this.a)throw new R("invalid-auth-event");if(this.g&&!this.f)throw new R("invalid-auth-event")}else throw new R("invalid-auth-event")}zr.prototype.getUid=function(){var o=[];return o.push(this.c),this.b&&o.push(this.b),this.f&&o.push(this.f),this.h&&o.push(this.h),o.join("-")},zr.prototype.T=function(){return this.h},zr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function wA(o){return o=o||{},o.type?new zr(o.type,o.eventId,o.urlResponse,o.sessionId,o.error&&Je(o.error),o.postBody,o.tenantId):null}function gB(){this.b=null,this.a=[]}var uy=null;function mB(o){var u=uy;u.a.push(o),u.b||(u.b=function(f){for(var p=0;p<u.a.length;p++)u.a[p](f)},o=gt("universalLinks.subscribe",l),typeof o=="function"&&o(null,u.b))}function cy(o){var u="unauthorized-domain",f=void 0,p=Jn(o);o=p.a,p=p.c,p=="chrome-extension"?f=HI("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):p=="http"||p=="https"?f=HI("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):u="operation-not-supported-in-this-environment",R.call(this,u,f)}Z(cy,R);function _l(o,u,f){R.call(this,o,f),o=u||{},o.Kb&&ue(this,"email",o.Kb),o.ea&&ue(this,"phoneNumber",o.ea),o.credential&&ue(this,"credential",o.credential),o.$b&&ue(this,"tenantId",o.$b)}Z(_l,R),_l.prototype.w=function(){var o={code:this.code,message:this.message};this.email&&(o.email=this.email),this.phoneNumber&&(o.phoneNumber=this.phoneNumber),this.tenantId&&(o.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&sn(o,u),o},_l.prototype.toJSON=function(){return this.w()};function ud(o){if(o.code){var u=o.code||"";u.indexOf(ht)==0&&(u=u.substring(ht.length));var f={credential:sy(o),$b:o.tenantId};if(o.email)f.Kb=o.email;else if(o.phoneNumber)f.ea=o.phoneNumber;else if(!f.credential)return new R(u,o.message||void 0);return new _l(u,f,o.message)}return null}function wl(){}wl.prototype.c=null;function bA(o){return o.c||(o.c=o.b())}var ly;function cd(){}Z(cd,wl),cd.prototype.a=function(){var o=EA(this);return o?new ActiveXObject(o):new XMLHttpRequest},cd.prototype.b=function(){var o={};return EA(this)&&(o[0]=!0,o[1]=!0),o};function EA(o){if(!o.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],f=0;f<u.length;f++){var p=u[f];try{return new ActiveXObject(p),o.f=p}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return o.f}ly=new cd;function ld(){}Z(ld,wl),ld.prototype.a=function(){var o=new XMLHttpRequest;if("withCredentials"in o)return o;if(typeof XDomainRequest<"u")return new TA;throw Error("Unsupported browser")},ld.prototype.b=function(){return{}};function TA(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=M(this.qc,this),this.a.onerror=M(this.Tb,this),this.a.onprogress=M(this.rc,this),this.a.ontimeout=M(this.vc,this)}t=TA.prototype,t.open=function(o,u,f){if(f!=null&&!f)throw Error("Only async requests are supported.");this.a.open(o,u)},t.send=function(o){if(o)if(typeof o=="string")this.a.send(o);else throw Error("Only string data is supported");else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(o){return o.toLowerCase()=="content-type"?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,fy(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",fy(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,fy(this,1)};function fy(o,u){o.readyState=u,o.onreadystatechange&&o.onreadystatechange()}t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function hy(o,u,f){this.reset(o,u,f,void 0,void 0)}hy.prototype.a=null,hy.prototype.reset=function(o,u,f,p,m){delete this.a};function dy(o){this.f=o,this.b=this.c=this.a=null}function bl(o,u){this.name=o,this.value=u}bl.prototype.toString=function(){return this.name};var IA=new bl("SEVERE",1e3),py=new bl("WARNING",900),yB=new bl("CONFIG",700),_B=new bl("FINE",500);function SA(o){return o.c?o.c:o.a?SA(o.a):(xt("Root logger has no level set."),null)}dy.prototype.log=function(o,u,f){if(o.value>=SA(this).value)for(E(u)&&(u=u()),o=new hy(o,String(u),this.f),f&&(o.a=f),f=this;f;)f=f.a};var vy={},fd=null;function gy(o){fd||(fd=new dy(""),vy[""]=fd,fd.c=yB);var u;if(!(u=vy[o])){u=new dy(o);var f=o.lastIndexOf("."),p=o.substr(f+1);f=gy(o.substr(0,f)),f.b||(f.b={}),f.b[p]=u,u.a=f,vy[o]=u}return u}function kr(o,u){o&&o.log(_B,u,void 0)}function hd(o){this.f=o}Z(hd,wl),hd.prototype.a=function(){return new dd(this.f)},hd.prototype.b=function(o){return function(){return o}}({});function dd(o){Pn.call(this),this.u=o,this.h=void 0,this.readyState=my,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=gy("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}Z(dd,Pn);var my=0;t=dd.prototype,t.open=function(o,u){if(this.readyState!=my)throw this.abort(),Error("Error reopening a connection");this.s=o,this.f=u,this.readyState=1,Tl(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};o&&(u.body=o),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,El(this)),this.readyState=my},t.uc=function(o){this.a&&(this.g=o,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=o.headers,this.readyState=2,Tl(this)),this.a&&(this.readyState=3,Tl(this),this.a&&(this.responseType==="arraybuffer"?o.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof l.ReadableStream<"u"&&"body"in o?(this.response=this.responseText="",this.c=o.body.getReader(),this.m=new TextDecoder,AA(this)):o.text().then(this.tc.bind(this),this.Va.bind(this)))))};function AA(o){o.c.read().then(o.pc.bind(o)).catch(o.Va.bind(o))}t.pc=function(o){if(this.a){var u=this.m.decode(o.value?o.value:new Uint8Array(0),{stream:!o.done});u&&(this.response=this.responseText+=u),o.done?El(this):Tl(this),this.readyState==3&&AA(this)}},t.tc=function(o){this.a&&(this.response=this.responseText=o,El(this))},t.sc=function(o){this.a&&(this.response=o,El(this))},t.Va=function(o){var u=this.i;u&&u.log(py,"Failed to fetch url "+this.f,o instanceof Error?o:Error(o)),this.a&&El(this)};function El(o){o.readyState=4,o.g=null,o.c=null,o.m=null,Tl(o)}t.setRequestHeader=function(o,u){this.l.append(o,u)},t.getResponseHeader=function(o){return this.b?this.b.get(o.toLowerCase())||"":((o=this.i)&&o.log(py,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var o=this.i;return o&&o.log(py,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}o=[];for(var u=this.b.entries(),f=u.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=u.next();return o.join(`\r
`)};function Tl(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(dd.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(o){this.h=o?"include":"same-origin"}});function Il(o){Pn.call(this),this.headers=new eu,this.D=o||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=CA,this.u=this.S=!1}Z(Il,Pn);var CA="";Il.prototype.b=gy("goog.net.XhrIo");var wB=/^https?$/i,bB=["POST","PUT"];function EB(o,u,f,p,m){if(o.a)throw Error("[goog.net.XhrIo] Object is active with another request="+o.l+"; newUri="+u);f=f?f.toUpperCase():"GET",o.l=u,o.h="",o.P=f,o.J=!1,o.c=!0,o.a=o.D?o.D.a():ly.a(),o.C=o.D?bA(o.D):bA(ly),o.a.onreadystatechange=M(o.Wb,o);try{kr(o.b,Ji(o,"Opening Xhr")),o.N=!0,o.a.open(f,String(u),!0),o.N=!1}catch(b){kr(o.b,Ji(o,"Error opening Xhr: "+b.message)),NA(o,b);return}u=p||"";var _=new eu(o.headers);m&&Nj(m,function(b,I){_.set(I,b)}),m=k(_.Y()),p=l.FormData&&u instanceof l.FormData,!D(bB,f)||m||p||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),_.forEach(function(b,I){this.a.setRequestHeader(I,b)},o),o.m&&(o.a.responseType=o.m),"withCredentials"in o.a&&o.a.withCredentials!==o.S&&(o.a.withCredentials=o.S);try{OA(o),0<o.g&&(o.u=TB(o.a),kr(o.b,Ji(o,"Will abort after "+o.g+"ms if incomplete, xhr2 "+o.u)),o.u?(o.a.timeout=o.g,o.a.ontimeout=M(o.Ma,o)):o.s=Rm(o.Ma,o.g,o)),kr(o.b,Ji(o,"Sending request")),o.i=!0,o.a.send(u),o.i=!1}catch(b){kr(o.b,Ji(o,"Send error: "+b.message)),NA(o,b)}}function TB(o){return Wr&&zI(9)&&typeof o.timeout=="number"&&o.ontimeout!==void 0}function IB(o){return o.toLowerCase()=="content-type"}t=Il.prototype,t.Ma=function(){typeof c<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",kr(this.b,Ji(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function NA(o,u){o.c=!1,o.a&&(o.f=!0,o.a.abort(),o.f=!1),o.h=u,kA(o),pd(o)}function kA(o){o.J||(o.J=!0,o.dispatchEvent("complete"),o.dispatchEvent("error"))}t.abort=function(){this.a&&this.c&&(kr(this.b,Ji(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),pd(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),pd(this,!0)),Il.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?RA(this):this.Jc())},t.Jc=function(){RA(this)};function RA(o){if(o.c&&typeof c<"u"){if(o.C[1]&&Sl(o)==4&&vd(o)==2)kr(o.b,Ji(o,"Local request error detected and ignored"));else if(o.i&&Sl(o)==4)Rm(o.Wb,0,o);else if(o.dispatchEvent("readystatechange"),Sl(o)==4){kr(o.b,Ji(o,"Request complete")),o.c=!1;try{var u=vd(o);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var p;if(!(p=f)){var m;if(m=u===0){var _=String(o.l).match(TS)[1]||null;if(!_&&l.self&&l.self.location){var b=l.self.location.protocol;_=b.substr(0,b.length-1)}m=!wB.test(_?_.toLowerCase():"")}p=m}if(p)o.dispatchEvent("complete"),o.dispatchEvent("success");else{try{var I=2<Sl(o)?o.a.statusText:""}catch(F){kr(o.b,"Can not get status: "+F.message),I=""}o.h=I+" ["+vd(o)+"]",kA(o)}}finally{pd(o)}}}}function pd(o,u){if(o.a){OA(o);var f=o.a,p=o.C[0]?g:null;o.a=null,o.C=null,u||o.dispatchEvent("ready");try{f.onreadystatechange=p}catch(m){(o=o.b)&&o.log(IA,"Problem encountered resetting onreadystatechange: "+m.message,void 0)}}}function OA(o){o.a&&o.u&&(o.a.ontimeout=null),o.s&&(l.clearTimeout(o.s),o.s=null)}function Sl(o){return o.a?o.a.readyState:0}function vd(o){try{return 2<Sl(o)?o.a.status:-1}catch{return-1}}function SB(o){try{return o.a?o.a.responseText:""}catch(u){return kr(o.b,"Can not get responseText: "+u.message),""}}t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case CA:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var o=this.b;return o&&o.log(IA,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return kr(this.b,"Can not get response: "+u.message),null}};function Ji(o,u){return u+" ["+o.P+" "+o.l+" "+vd(o)+"]"}function Ls(o){var u=NB;this.g=[],this.u=u,this.s=o||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}Ls.prototype.cancel=function(o){if(this.a)this.c instanceof Ls&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,o?u.cancel(o):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(o=new Cl,gd(this),Al(this,!1,o))}},Ls.prototype.m=function(o,u){this.i=!1,Al(this,o,u)};function Al(o,u,f){o.a=!0,o.c=f,o.f=!u,PA(o)}function gd(o){if(o.a){if(!o.v)throw new md;o.v=!1}}function AB(o,u){yy(o,null,u,void 0)}function yy(o,u,f,p){o.g.push([u,f,p]),o.a&&PA(o)}Ls.prototype.then=function(o,u,f){var p,m,_=new Be(function(b,I){p=b,m=I});return yy(this,p,function(b){b instanceof Cl?_.cancel():m(b)}),_.then(o,u,f)},Ls.prototype.$goog_Thenable=!0;function DA(o){return S(o.g,function(u){return E(u[1])})}function PA(o){if(o.h&&o.a&&DA(o)){var u=o.h,f=yd[u];f&&(l.clearTimeout(f.a),delete yd[u]),o.h=0}o.b&&(o.b.l--,delete o.b),u=o.c;for(var p=f=!1;o.g.length&&!o.i;){var m=o.g.shift(),_=m[0],b=m[1];if(m=m[2],_=o.f?b:_)try{var I=_.call(m||o.s,u);I!==void 0&&(o.f=o.f&&(I==u||I instanceof Error),o.c=u=I),(ke(u)||typeof l.Promise=="function"&&u instanceof l.Promise)&&(p=!0,o.i=!0)}catch(F){u=F,o.f=!0,DA(o)||(f=!0)}}o.c=u,p&&(I=M(o.m,o,!0),p=M(o.m,o,!1),u instanceof Ls?(yy(u,I,p),u.C=!0):u.then(I,p)),f&&(u=new xA(u),yd[u.a]=u,o.h=u.a)}function md(){_e.call(this)}Z(md,_e),md.prototype.message="Deferred has already fired",md.prototype.name="AlreadyCalledError";function Cl(){_e.call(this)}Z(Cl,_e),Cl.prototype.message="Deferred was canceled",Cl.prototype.name="CanceledError";function xA(o){this.a=l.setTimeout(M(this.c,this),0),this.b=o}xA.prototype.c=function(){throw delete yd[this.a],this.b};var yd={};function _y(o){var u={},f=u.document||document,p=MI(o).toString(),m=qh(document,"SCRIPT"),_={Xb:m,Ma:void 0},b=new Ls(_),I=null,F=u.timeout!=null?u.timeout:5e3;return 0<F&&(I=window.setTimeout(function(){_d(m,!0);var $=new wy(RB,"Timeout reached for loading script "+p);gd(b),Al(b,!1,$)},F),_.Ma=I),m.onload=m.onreadystatechange=function(){m.readyState&&m.readyState!="loaded"&&m.readyState!="complete"||(_d(m,u.xd||!1,I),gd(b),Al(b,!0,null))},m.onerror=function(){_d(m,!0,I);var $=new wy(kB,"Error while loading script "+p);gd(b),Al(b,!1,$)},_=u.attributes||{},sn(_,{type:"text/javascript",charset:"UTF-8"}),QI(m,_),oj(m,o),CB(f).appendChild(m),b}function CB(o){var u;return(u=(o||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:o.documentElement}function NB(){if(this&&this.Xb){var o=this.Xb;o&&o.tagName=="SCRIPT"&&_d(o,!0,this.Ma)}}function _d(o,u,f){f!=null&&l.clearTimeout(f),o.onload=g,o.onerror=g,o.onreadystatechange=g,u&&window.setTimeout(function(){o&&o.parentNode&&o.parentNode.removeChild(o)},0)}var kB=0,RB=1;function wy(o,u){var f="Jsloader error (code #"+o+")";u&&(f+=": "+u),_e.call(this,f),this.code=o}Z(wy,_e);function wd(o){this.f=o}Z(wd,wl),wd.prototype.a=function(){return new this.f},wd.prototype.b=function(){return{}};function Yr(o,u,f){if(this.c=o,o=u||{},this.l=o.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=o.secureTokenTimeout||OB,this.g=St(o.secureTokenHeaders||DB),this.h=o.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=o.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=o.firebaseTimeout||PB,this.a=St(o.firebaseHeaders||xB),f&&(this.a["X-Client-Version"]=f,this.g["X-Client-Version"]=f),f=yi()=="Node",f=l.XMLHttpRequest||f&&ce.INTERNAL.node&&ce.INTERNAL.node.XMLHttpRequest,!f&&!Gr())throw new R("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Gr()?this.f=new hd(self):LS()?this.f=new wd(f):this.f=new ld,this.b=null}var by,Qr="idToken",OB=new Ro(3e4,6e4),DB={"Content-Type":"application/x-www-form-urlencoded"},PB=new Ro(3e4,6e4),xB={"Content-Type":"application/json"};function LA(o,u){u?o.a["X-Firebase-Locale"]=u:delete o.a["X-Firebase-Locale"]}function bd(o,u){u&&(o.l=Ey("https://securetoken.googleapis.com/v1/token",u),o.h=Ey("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),o.i=Ey("https://identitytoolkit.googleapis.com/v2/",u))}function Ey(o,u){return o=Jn(o),u=Jn(u.url),o.f=o.a+o.f,sl(o,u.c),o.a=u.a,al(o,u.g),o.toString()}function MA(o,u){u?(o.a["X-Client-Version"]=u,o.g["X-Client-Version"]=u):(delete o.a["X-Client-Version"],delete o.g["X-Client-Version"])}Yr.prototype.T=function(){return this.b};function FA(o,u,f,p,m,_,b){Uj()||Gr()?o=M(o.u,o):(by||(by=new Be(function(I,F){MB(I,F)})),o=M(o.s,o)),o(u,f,p,m,_,b)}Yr.prototype.u=function(o,u,f,p,m,_){if(Gr()&&(typeof l.fetch>"u"||typeof l.Headers>"u"||typeof l.Request>"u"))throw new R("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var b=new Il(this.f);if(_){b.g=Math.max(0,_);var I=setTimeout(function(){b.dispatchEvent("timeout")},_)}wS(b,"complete",function(){I&&clearTimeout(I);var F=null;try{F=JSON.parse(SB(this))||null}catch{F=null}u&&u(F)}),km(b,"ready",function(){I&&clearTimeout(I),dS(this)}),km(b,"timeout",function(){I&&clearTimeout(I),dS(this),u&&u(null)}),EB(b,o,f,p,m)};var LB=new gi(Vh,"https://apis.google.com/js/client.js?onload=%{onload}"),UA="__fcb"+Math.floor(1e6*Math.random()).toString();function MB(o,u){if(((window.gapi||{}).client||{}).request)o();else{l[UA]=function(){((window.gapi||{}).client||{}).request?o():u(Error("CORS_UNSUPPORTED"))};var f=fm(LB,{onload:UA});AB(_y(f),function(){u(Error("CORS_UNSUPPORTED"))})}}Yr.prototype.s=function(o,u,f,p,m){var _=this;by.then(function(){window.gapi.client.setApiKey(_.c);var b=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:o,method:f,body:p,headers:m,authType:"none",callback:function(I){window.gapi.auth.setToken(b),u&&u(I)}})}).o(function(b){u&&u({error:{message:b&&b.message||"CORS_UNSUPPORTED"}})})};function FB(o,u){return new Be(function(f,p){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?FA(o,o.l+"?key="+encodeURIComponent(o.c),function(m){m?m.error?p(Ry(m)):m.access_token&&m.refresh_token?f(m):p(new R("internal-error")):p(new R("network-request-failed"))},"POST",SS(u).toString(),o.g,o.m.get()):p(new R("internal-error"))})}function VA(o,u,f,p,m,_,b){var I=Jn(u+f);kt(I,"key",o.c),b&&kt(I,"cb",Date.now().toString());var F=p=="GET";if(F)for(var $ in m)m.hasOwnProperty($)&&kt(I,$,m[$]);return new Be(function(Se,tt){FA(o,I.toString(),function(ze){ze?ze.error?tt(Ry(ze,_||{})):Se(ze):tt(new R("network-request-failed"))},p,F?void 0:NS(US(m)),o.a,o.v.get())})}function Ms(o){if(o=o.email,typeof o!="string"||!Bj.test(o))throw new R("invalid-email")}function jA(o){"email"in o&&Ms(o)}function UB(o,u){return $e(o,zB,{identifier:u,continueUri:Zh()?ll():"http://localhost"}).then(function(f){return f.signinMethods||[]})}function VB(o){return $e(o,s4,{}).then(function(u){return u.authorizedDomains||[]})}function Zn(o){if(!o[Qr])throw o.mfaPendingCredential?new R("multi-factor-auth-required",null,St(o)):new R("internal-error")}function Ty(o){if(o.phoneNumber||o.temporaryProof){if(!o.phoneNumber||!o.temporaryProof)throw new R("internal-error")}else{if(!o.sessionInfo)throw new R("missing-verification-id");if(!o.code)throw new R("missing-verification-code")}}Yr.prototype.Ab=function(){return $e(this,l4,{})},Yr.prototype.Cb=function(o,u){return $e(this,qA,{idToken:o,email:u})},Yr.prototype.Db=function(o,u){return $e(this,HA,{idToken:o,password:u})};var jB={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};t=Yr.prototype,t.Eb=function(o,u){var f={idToken:o},p=[];return Ao(jB,function(m,_){var b=u[_];b===null?p.push(m):_ in u&&(f[_]=b)}),p.length&&(f.deleteAttribute=p),$e(this,qA,f)},t.wb=function(o,u){return o={requestType:"PASSWORD_RESET",email:o},sn(o,u),$e(this,o4,o)},t.xb=function(o,u){return o={requestType:"EMAIL_SIGNIN",email:o},sn(o,u),$e(this,n4,o)},t.vb=function(o,u){return o={requestType:"VERIFY_EMAIL",idToken:o},sn(o,u),$e(this,r4,o)},t.Fb=function(o,u,f){return o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:u},sn(o,f),$e(this,i4,o)};function BB(o,u){return $e(o,c4,u)}t.gb=function(o){return $e(this,m4,o)};function $B(o,u){return $e(o,f4,u).then(function(f){return f.phoneSessionInfo.sessionInfo})}function BA(o){if(!o.phoneVerificationInfo)throw new R("internal-error");if(!o.phoneVerificationInfo.sessionInfo)throw new R("missing-verification-id");if(!o.phoneVerificationInfo.code)throw new R("missing-verification-code")}function qB(o,u){return $e(o,h4,u).then(function(f){return f.phoneResponseInfo.sessionInfo})}function HB(o,u,f){return $e(o,QB,{idToken:u,deleteProvider:f})}function Iy(o){if(!o.requestUri||!o.sessionId&&!o.postBody&&!o.pendingToken)throw new R("internal-error")}function Sy(o,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(o.sessionId?u.nonce=o.sessionId:o.postBody&&(o=new As(o.postBody),Pm(o,"nonce")&&(u.nonce=o.get("nonce")))),u}function $A(o){var u=null;if(o.needConfirmation?(o.code="account-exists-with-different-credential",u=ud(o)):o.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(o.code="credential-already-in-use",u=ud(o)):o.errorMessage=="EMAIL_EXISTS"?(o.code="email-already-in-use",u=ud(o)):o.errorMessage&&(u=WA(o.errorMessage)),u)throw u;Zn(o)}function Ay(o,u){return u.returnIdpCredential=!0,$e(o,d4,u)}function Cy(o,u){return u.returnIdpCredential=!0,$e(o,v4,u)}function Ny(o,u){return u.returnIdpCredential=!0,u.autoCreate=!1,$e(o,p4,u)}function ky(o){if(!o.oobCode)throw new R("invalid-action-code")}t.ob=function(o,u){return $e(this,u4,{oobCode:o,newPassword:u})},t.Sa=function(o){return $e(this,WB,{oobCode:o})},t.kb=function(o){return $e(this,KB,{oobCode:o})};var KB={endpoint:"setAccountInfo",A:ky,Z:"email",B:!0},WB={endpoint:"resetPassword",A:ky,G:function(o){var u=o.requestType;if(!u||!o.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new R("internal-error")},B:!0},GB={endpoint:"signupNewUser",A:function(o){if(Ms(o),!o.password)throw new R("weak-password")},G:Zn,V:!0,B:!0},zB={endpoint:"createAuthUri",B:!0},YB={endpoint:"deleteAccount",O:["idToken"]},QB={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(o){if(!Array.isArray(o.deleteProvider))throw new R("internal-error")}},XB={endpoint:"emailLinkSignin",O:["email","oobCode"],A:Ms,G:Zn,V:!0,B:!0},JB={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:Ms,G:Zn,V:!0},ZB={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:BA,G:Zn,B:!0,Na:!0},e4={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:BA,G:Zn,B:!0,Na:!0},t4={endpoint:"getAccountInfo"},n4={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(o){if(o.requestType!="EMAIL_SIGNIN")throw new R("internal-error");Ms(o)},Z:"email",B:!0},r4={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(o){if(o.requestType!="VERIFY_EMAIL")throw new R("internal-error")},Z:"email",B:!0},i4={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(o){if(o.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new R("internal-error")},Z:"email",B:!0},o4={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(o){if(o.requestType!="PASSWORD_RESET")throw new R("internal-error");Ms(o)},Z:"email",B:!0},s4={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},a4={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(o){if(!o.recaptchaSiteKey)throw new R("internal-error")}},u4={endpoint:"resetPassword",A:ky,Z:"email",B:!0},c4={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},qA={endpoint:"setAccountInfo",O:["idToken"],A:jA,V:!0},HA={endpoint:"setAccountInfo",O:["idToken"],A:function(o){if(jA(o),!o.password)throw new R("weak-password")},G:Zn,V:!0},l4={endpoint:"signupNewUser",G:Zn,V:!0,B:!0},f4={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(o){if(!o.phoneEnrollmentInfo)throw new R("internal-error");if(!o.phoneEnrollmentInfo.phoneNumber)throw new R("missing-phone-number");if(!o.phoneEnrollmentInfo.recaptchaToken)throw new R("missing-app-credential")},G:function(o){if(!o.phoneSessionInfo||!o.phoneSessionInfo.sessionInfo)throw new R("internal-error")},B:!0,Na:!0},h4={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(o){if(!o.phoneSignInInfo||!o.phoneSignInInfo.recaptchaToken)throw new R("missing-app-credential")},G:function(o){if(!o.phoneResponseInfo||!o.phoneResponseInfo.sessionInfo)throw new R("internal-error")},B:!0,Na:!0},d4={endpoint:"verifyAssertion",A:Iy,Za:Sy,G:$A,V:!0,B:!0},p4={endpoint:"verifyAssertion",A:Iy,Za:Sy,G:function(o){if(o.errorMessage&&o.errorMessage=="USER_NOT_FOUND")throw new R("user-not-found");if(o.errorMessage)throw WA(o.errorMessage);Zn(o)},V:!0,B:!0},v4={endpoint:"verifyAssertion",A:function(o){if(Iy(o),!o.idToken)throw new R("internal-error")},Za:Sy,G:$A,V:!0},g4={endpoint:"verifyCustomToken",A:function(o){if(!o.token)throw new R("invalid-custom-token")},G:Zn,V:!0,B:!0},KA={endpoint:"verifyPassword",A:function(o){if(Ms(o),!o.password)throw new R("wrong-password")},G:Zn,V:!0,B:!0},m4={endpoint:"verifyPhoneNumber",A:Ty,G:Zn,B:!0},y4={endpoint:"verifyPhoneNumber",A:function(o){if(!o.idToken)throw new R("internal-error");Ty(o)},G:function(o){if(o.temporaryProof)throw o.code="credential-already-in-use",ud(o);Zn(o)}},_4={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Ty,G:Zn,B:!0},w4={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(o){if(!!o[Qr]^!!o.refreshToken)throw new R("internal-error")},B:!0,Na:!0};function $e(o,u,f){if(!zj(f,u.O))return vt(new R("internal-error"));var p=!!u.Na,m=u.Vb||"POST",_;return ge(f).then(u.A).then(function(){return u.V&&(f.returnSecureToken=!0),u.B&&o.b&&typeof f.tenantId>"u"&&(f.tenantId=o.b),p?VA(o,o.i,u.endpoint,m,f,u.Ib,u.mb||!1):VA(o,o.h,u.endpoint,m,f,u.Ib,u.mb||!1)}).then(function(b){return _=b,u.Za?u.Za(f,_):_}).then(u.G).then(function(){if(!u.Z)return _;if(!(u.Z in _))throw new R("internal-error");return _[u.Z]})}function WA(o){return Ry({error:{errors:[{message:o}],code:400,message:o}})}function Ry(o,u){var f=(o.error&&o.error.errors&&o.error.errors[0]||{}).reason||"",p={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(f=p[f]?new R(p[f]):null)return f;f=o.error&&o.error.message||"",p={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},sn(p,u||{}),u=(u=f.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var m in p)if(f.indexOf(m)===0)return new R(p[m],u);return!u&&o&&(u=hl(o)),new R("internal-error",u)}function b4(o){this.b=o,this.a=null,this.sb=E4(this)}function E4(o){return N4().then(function(){return new Be(function(u,f){gt("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:gt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(p){function m(){clearTimeout(_),u()}o.a=p,o.a.restyle({setHideOnLeave:!1});var _=setTimeout(function(){f(Error("Network Error"))},C4.get());p.ping(m).then(m,function(){f(Error("Network Error"))})})})})}function T4(o,u){return o.sb.then(function(){return new Be(function(f){o.a.send(u.type,u,f,gt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function I4(o,u){o.sb.then(function(){o.a.register("authEvent",u,gt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var S4=new gi(Vh,"https://apis.google.com/js/api.js?onload=%{onload}"),A4=new Ro(3e4,6e4),C4=new Ro(5e3,15e3),Ed=null;function N4(){return Ed||(Ed=new Be(function(o,u){function f(){jS(),gt("gapi.load")("gapi.iframes",{callback:o,ontimeout:function(){jS(),u(Error("Network Error"))},timeout:A4.get()})}if(gt("gapi.iframes.Iframe"))o();else if(gt("gapi.load"))f();else{var p="__iframefcb"+Math.floor(1e6*Math.random()).toString();l[p]=function(){gt("gapi.load")?f():u(Error("Network Error"))},p=fm(S4,{onload:p}),ge(_y(p)).o(function(){u(Error("Network Error"))})}}).o(function(o){throw Ed=null,o}))}function GA(o,u,f,p){this.l=o,this.h=u,this.i=f,this.g=p,this.f=null,this.g?(o=Jn(this.g.url),o=Xh(o.c,o.a,o.g,"/emulator/auth/iframe")):o=Xh("https",this.l,null,"/__/auth/iframe"),this.a=o,kt(this.a,"apiKey",this.h),kt(this.a,"appName",this.i),this.b=null,this.c=[]}GA.prototype.toString=function(){return this.f?kt(this.a,"v",this.f):mi(this.a.b,"v"),this.b?kt(this.a,"eid",this.b):mi(this.a.b,"eid"),this.c.length?kt(this.a,"fw",this.c.join(",")):mi(this.a.b,"fw"),this.a.toString()};function Oy(o,u,f,p,m,_){this.u=o,this.s=u,this.c=f,this.m=p,this.v=_,this.i=this.g=this.l=null,this.a=m,this.h=this.f=null}Oy.prototype.zb=function(o){return this.h=o,this},Oy.prototype.toString=function(){if(this.v){var o=Jn(this.v.url);o=Xh(o.c,o.a,o.g,"/emulator/auth/handler")}else o=Xh("https",this.u,null,"/__/auth/handler");if(kt(o,"apiKey",this.s),kt(o,"appName",this.c),kt(o,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var f=ce.app(this.c).auth().la()}catch{f=null}u.pb=f,kt(o,"providerId",this.a.providerId),f=this.a,u=US(f.Jb);for(var p in u)u[p]=u[p].toString();p=f.Qc,u=St(u);for(var m=0;m<p.length;m++){var _=p[m];_ in u&&delete u[_]}f.qb&&f.pb&&!u[f.qb]&&(u[f.qb]=f.pb),vi(u)||kt(o,"customParameters",hl(u))}if(typeof this.a.Rb=="function"&&(f=this.a.Rb(),f.length&&kt(o,"scopes",f.join(","))),this.l?kt(o,"redirectUrl",this.l):mi(o.b,"redirectUrl"),this.g?kt(o,"eventId",this.g):mi(o.b,"eventId"),this.i?kt(o,"v",this.i):mi(o.b,"v"),this.b)for(var b in this.b)this.b.hasOwnProperty(b)&&!Cr(o,b)&&kt(o,b,this.b[b]);return this.h?kt(o,"tid",this.h):mi(o.b,"tid"),this.f?kt(o,"eid",this.f):mi(o.b,"eid"),b=Dy(this.c),b.length&&kt(o,"fw",b.join(",")),o.toString()};function Dy(o){try{return ce.app(o).auth().Ga()}catch{return[]}}function zA(o,u,f,p,m,_){this.s=o,this.g=u,this.b=f,this.f=_,this.c=p||null,this.i=m||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function YA(o){var u=ll();return VB(o).then(function(f){e:{var p=Jn(u),m=p.c;p=p.a;for(var _=0;_<f.length;_++){var b=f[_],I=p,F=m;if(b.indexOf("chrome-extension://")==0?I=Jn(b).a==I&&F=="chrome-extension":F!="http"&&F!="https"?I=!1:jj.test(b)?I=I==b:(b=b.split(".").join("\\."),I=new RegExp("^(.+\\."+b+"|"+b+")$","i").test(I)),I){f=!0;break e}}f=!1}if(!f)throw new cy(ll())})}function QA(o){return o.m||(o.m=Jh().then(function(){if(!o.u){var u=o.c,f=o.i,p=Dy(o.b),m=new GA(o.s,o.g,o.b,o.f);m.f=u,m.b=f,m.c=te(p||[]),o.u=m.toString()}o.v=new b4(o.u),k4(o)})),o.m}t=zA.prototype,t.Pb=function(o,u,f){var p=new R("popup-closed-by-user"),m=new R("web-storage-unsupported"),_=this,b=!1;return this.ma().then(function(){R4(_).then(function(I){I||(o&&Cs(o),u(m),b=!0)})}).o(function(){}).then(function(){if(!b)return Vj(o)}).then(function(){if(!b)return Za(f).then(function(){u(p)})})},t.Yb=function(){var o=an();return!fl(o)&&!VS(o)},t.Ub=function(){return!1},t.Nb=function(o,u,f,p,m,_,b,I){if(!o)return vt(new R("popup-blocked"));if(b&&!fl())return this.ma().o(function($){Cs(o),m($)}),p(),ge();this.a||(this.a=YA(XA(this)));var F=this;return this.a.then(function(){var $=F.ma().o(function(Se){throw Cs(o),m(Se),Se});return p(),$}).then(function(){if(ay(f),!b){var $=Nl(F.s,F.g,F.b,u,f,null,_,F.c,void 0,F.i,I,F.f);OS($,o)}}).o(function($){throw $.code=="auth/network-request-failed"&&(F.a=null),$})};function XA(o){return o.l||(o.C=o.c?ru(o.c,Dy(o.b)):null,o.l=new Yr(o.g,Pt(o.i),o.C),o.f&&bd(o.l,o.f)),o.l}t.Ob=function(o,u,f,p){this.a||(this.a=YA(XA(this)));var m=this;return this.a.then(function(){ay(u);var _=Nl(m.s,m.g,m.b,o,u,ll(),f,m.c,void 0,m.i,p,m.f);OS(_)}).o(function(_){throw _.code=="auth/network-request-failed"&&(m.a=null),_})},t.ma=function(){var o=this;return QA(this).then(function(){return o.v.sb}).o(function(){throw o.a=null,new R("network-request-failed")})},t.ac=function(){return!0};function Nl(o,u,f,p,m,_,b,I,F,$,Se,tt){return o=new Oy(o,u,f,p,m,tt),o.l=_,o.g=b,o.i=I,o.b=St(F||null),o.f=$,o.zb(Se).toString()}function k4(o){if(!o.v)throw Error("IfcHandler must be initialized!");I4(o.v,function(u){var f={};if(u&&u.authEvent){var p=!1;for(u=wA(u.authEvent),f=0;f<o.h.length;f++)p=o.h[f](u)||p;return f={},f.status=p?"ACK":"ERROR",ge(f)}return f.status="ERROR",ge(f)})}function R4(o){var u={type:"webStorageSupport"};return QA(o).then(function(){return T4(o.v,u)}).then(function(f){if(f&&f.length&&typeof f[0].webStorageSupport<"u")return f[0].webStorageSupport;throw Error()})}t.Ea=function(o){this.h.push(o)},t.Ta=function(o){V(this.h,function(u){return u==o})};function JA(o){if(this.a=o||ce.INTERNAL.reactNative&&ce.INTERNAL.reactNative.AsyncStorage,!this.a)throw new R("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}t=JA.prototype,t.get=function(o){return ge(this.a.getItem(o)).then(function(u){return u&&ou(u)})},t.set=function(o,u){return ge(this.a.setItem(o,hl(u)))},t.U=function(o){return ge(this.a.removeItem(o))},t.ca=function(){},t.ia=function(){};function ZA(o){this.b=o,this.a={},this.f=M(this.c,this)}var eC=[];function O4(){var o=Gr()?self:null;if(G(eC,function(f){f.b==o&&(u=f)}),!u){var u=new ZA(o);eC.push(u)}return u}ZA.prototype.c=function(o){var u=o.data.eventType,f=o.data.eventId,p=this.a[u];if(p&&0<p.length){o.ports[0].postMessage({status:"ack",eventId:f,eventType:u,response:null});var m=[];G(p,function(_){m.push(ge().then(function(){return _(o.origin,o.data.data)}))}),iS(m).then(function(_){var b=[];G(_,function(I){b.push({fulfilled:I.Qb,value:I.value,reason:I.reason?I.reason.message:void 0})}),G(b,function(I){for(var F in I)typeof I[F]>"u"&&delete I[F]}),o.ports[0].postMessage({status:"done",eventId:f,eventType:u,response:b})})}};function tC(o,u,f){vi(o.a)&&o.b.addEventListener("message",o.f),typeof o.a[u]>"u"&&(o.a[u]=[]),o.a[u].push(f)}function nC(o){this.a=o}nC.prototype.postMessage=function(o,u){this.a.postMessage(o,u)};function rC(o){this.c=o,this.b=!1,this.a=[]}function iC(o,u,f,p){var m,_=f||{},b,I,F,$=null;if(o.b)return vt(Error("connection_unavailable"));var Se=p?800:50,tt=typeof MessageChannel<"u"?new MessageChannel:null;return new Be(function(ze,Yt){tt?(m=Math.floor(Math.random()*Math.pow(10,20)).toString(),tt.port1.start(),I=setTimeout(function(){Yt(Error("unsupported_event"))},Se),b=function(Zi){Zi.data.eventId===m&&(Zi.data.status==="ack"?(clearTimeout(I),F=setTimeout(function(){Yt(Error("timeout"))},3e3)):Zi.data.status==="done"?(clearTimeout(F),typeof Zi.data.response<"u"?ze(Zi.data.response):Yt(Error("unknown_error"))):(clearTimeout(I),clearTimeout(F),Yt(Error("invalid_response"))))},$={messageChannel:tt,onMessage:b},o.a.push($),tt.port1.addEventListener("message",b),o.c.postMessage({eventType:u,eventId:m,data:_},[tt.port2])):Yt(Error("connection_unavailable"))}).then(function(ze){return Py(o,$),ze}).o(function(ze){throw Py(o,$),ze})}function Py(o,u){if(u){var f=u.messageChannel,p=u.onMessage;f&&(f.port1.removeEventListener("message",p),f.port1.close()),V(o.a,function(m){return m==u})}}rC.prototype.close=function(){for(;0<this.a.length;)Py(this,this.a[0]);this.b=!0};function oC(){if(!My())throw new R("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=l.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var o=this;Gr()&&self?(this.v=O4(),tC(this.v,"keyChanged",function(u,f){return uC(o).then(function(p){return 0<p.length&&G(o.a,function(m){m(p)}),{keyProcessed:D(p,f.key)}})}),tC(this.v,"ping",function(){return ge(["keyChanged"])})):Wj().then(function(u){(o.h=u)&&(o.g=new rC(new nC(u)),iC(o.g,"ping",null,!0).then(function(f){f[0].fulfilled&&D(f[0].value,"keyChanged")&&(o.s=!0)}).o(function(){}))})}var xy;function D4(o){return new Be(function(u,f){var p=o.m.deleteDatabase("firebaseLocalStorageDb");p.onsuccess=function(){u()},p.onerror=function(m){f(Error(m.target.error))}})}function sC(o){return new Be(function(u,f){var p=o.m.open("firebaseLocalStorageDb",1);p.onerror=function(m){try{m.preventDefault()}catch{}f(Error(m.target.error))},p.onupgradeneeded=function(m){m=m.target.result;try{m.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(_){f(_)}},p.onsuccess=function(m){m=m.target.result,m.objectStoreNames.contains("firebaseLocalStorage")?u(m):D4(o).then(function(){return sC(o)}).then(function(_){u(_)}).o(function(_){f(_)})}})}function Ly(o){return o.i||(o.i=sC(o)),o.i}function Td(o,u){function f(m,_){Ly(o).then(u).then(m).o(function(b){if(3<++p)_(b);else return Ly(o).then(function(I){return I.close(),o.i=void 0,f(m,_)}).o(function(I){_(I)})})}var p=0;return new Be(f)}function My(){try{return!!l.indexedDB}catch{return!1}}function kl(o){return o.objectStore("firebaseLocalStorage")}function Rl(o,u){return o.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function cu(o){return new Be(function(u,f){o.onsuccess=function(p){p&&p.target?u(p.target.result):u()},o.onerror=function(p){f(p.target.error)}})}t=oC.prototype,t.set=function(o,u){var f=this,p=!1;return Td(this,function(m){return m=kl(Rl(m,!0)),cu(m.get(o))}).then(function(m){return Td(f,function(_){if(_=kl(Rl(_,!0)),m)return m.value=u,cu(_.put(m));f.b++,p=!0;var b={};return b.fbase_key=o,b.value=u,cu(_.add(b))})}).then(function(){return f.c[o]=u,aC(f,o)}).oa(function(){p&&f.b--})};function aC(o,u){return o.g&&o.h&&Kj()===o.h?iC(o.g,"keyChanged",{key:u},o.s).then(function(){}).o(function(){}):ge()}t.get=function(o){return Td(this,function(u){return cu(kl(Rl(u,!1)).get(o))}).then(function(u){return u&&u.value})},t.U=function(o){var u=this,f=!1;return Td(this,function(p){return f=!0,u.b++,cu(kl(Rl(p,!0)).delete(o))}).then(function(){return delete u.c[o],aC(u,o)}).oa(function(){f&&u.b--})};function uC(o){return Ly(o).then(function(u){var f=kl(Rl(u,!1));return f.getAll?cu(f.getAll()):new Be(function(p,m){var _=[],b=f.openCursor();b.onsuccess=function(I){(I=I.target.result)?(_.push(I.value),I.continue()):p(_)},b.onerror=function(I){m(I.target.error)}})}).then(function(u){var f={},p=[];if(o.b==0){for(p=0;p<u.length;p++)f[u[p].fbase_key]=u[p].value;p=DS(o.c,f),o.c=f}return p})}t.ca=function(o){this.a.length==0&&P4(this),this.a.push(o)},t.ia=function(o){V(this.a,function(u){return u==o}),this.a.length==0&&cC(this)};function P4(o){function u(){o.f=setTimeout(function(){o.l=uC(o).then(function(f){0<f.length&&G(o.a,function(p){p(f)})}).then(function(){u()}).o(function(f){f.message!="STOP_EVENT"&&u()})},800)}cC(o),u()}function cC(o){o.l&&o.l.cancel("STOP_EVENT"),o.f&&(clearTimeout(o.f),o.f=null)}function lC(o){var u=this,f=null;this.a=[],this.type="indexedDB",this.c=o,this.b=ge().then(function(){if(My()){var p=ks(),m="__sak"+p;return xy||(xy=new oC),f=xy,f.set(m,p).then(function(){return f.get(m)}).then(function(_){if(_!==p)throw Error("indexedDB not supported!");return f.U(m)}).then(function(){return f}).o(function(){return u.c})}return u.c}).then(function(p){return u.type=p.type,p.ca(function(m){G(u.a,function(_){_(m)})}),p})}t=lC.prototype,t.get=function(o){return this.b.then(function(u){return u.get(o)})},t.set=function(o,u){return this.b.then(function(f){return f.set(o,u)})},t.U=function(o){return this.b.then(function(u){return u.U(o)})},t.ca=function(o){this.a.push(o)},t.ia=function(o){V(this.a,function(u){return u==o})};function Ol(){this.a={},this.type="inMemory"}t=Ol.prototype,t.get=function(o){return ge(this.a[o])},t.set=function(o,u){return this.a[o]=u,ge()},t.U=function(o){return delete this.a[o],ge()},t.ca=function(){},t.ia=function(){};function Id(){if(!x4())throw yi()=="Node"?new R("internal-error","The LocalStorage compatibility library was not found."):new R("web-storage-unsupported");this.a=fC()||ce.INTERNAL.node.localStorage,this.type="localStorage"}function fC(){try{var o=l.localStorage,u=ks();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function x4(){var o=yi()=="Node";if(o=fC()||o&&ce.INTERNAL.node&&ce.INTERNAL.node.localStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}t=Id.prototype,t.get=function(o){var u=this;return ge().then(function(){var f=u.a.getItem(o);return ou(f)})},t.set=function(o,u){var f=this;return ge().then(function(){var p=hl(u);p===null?f.U(o):f.a.setItem(o,p)})},t.U=function(o){var u=this;return ge().then(function(){u.a.removeItem(o)})},t.ca=function(o){l.window&&Ar(l.window,"storage",o)},t.ia=function(o){l.window&&lr(l.window,"storage",o)};function Fy(){this.type="nullStorage"}t=Fy.prototype,t.get=function(){return ge(null)},t.set=function(){return ge()},t.U=function(){return ge()},t.ca=function(){},t.ia=function(){};function Uy(){if(!L4())throw yi()=="Node"?new R("internal-error","The SessionStorage compatibility library was not found."):new R("web-storage-unsupported");this.a=hC()||ce.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function hC(){try{var o=l.sessionStorage,u=ks();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function L4(){var o=yi()=="Node";if(o=hC()||o&&ce.INTERNAL.node&&ce.INTERNAL.node.sessionStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}t=Uy.prototype,t.get=function(o){var u=this;return ge().then(function(){var f=u.a.getItem(o);return ou(f)})},t.set=function(o,u){var f=this;return ge().then(function(){var p=hl(u);p===null?f.U(o):f.a.setItem(o,p)})},t.U=function(o){var u=this;return ge().then(function(){u.a.removeItem(o)})},t.ca=function(){},t.ia=function(){};function M4(){var o={};o.Browser=F4,o.Node=U4,o.ReactNative=V4,o.Worker=j4,this.a=o[yi()]}var Vy,F4={F:Id,cb:Uy},U4={F:Id,cb:Uy},V4={F:JA,cb:Fy},j4={F:Id,cb:Fy},lu={rd:"local",NONE:"none",td:"session"};function B4(o){var u=new R("invalid-persistence-type"),f=new R("unsupported-persistence-type");e:{for(p in lu)if(lu[p]==o){var p=!0;break e}p=!1}if(!p||typeof o!="string")throw u;switch(yi()){case"ReactNative":if(o==="session")throw f;break;case"Node":if(o!=="none")throw f;break;case"Worker":if(o==="session"||!My()&&o!=="none")throw f;break;default:if(!Vm()&&o!=="none")throw f}}function dC(){var o=!!(!VS(an())&&Fm()),u=fl(),f=Vm();this.m=o,this.h=u,this.l=f,this.a={},Vy||(Vy=new M4),o=Vy;try{this.g=!Lm()&&BS()||!l.indexedDB?new o.a.F:new lC(Gr()?new Ol:new o.a.F)}catch{this.g=new Ol,this.h=!0}try{this.i=new o.a.cb}catch{this.i=new Ol}this.v=new Ol,this.f=M(this.Zb,this),this.b={}}var jy;function Dl(){return jy||(jy=new dC),jy}function Fs(o,u){switch(u){case"session":return o.i;case"none":return o.v;default:return o.g}}function fu(o,u){return"firebase:"+o.name+(u?":"+u:"")}function $4(o,u,f){var p=fu(u,f),m=Fs(o,u.F);return o.get(u,f).then(function(_){var b=null;try{b=ou(l.localStorage.getItem(p))}catch{}if(b&&!_)return l.localStorage.removeItem(p),o.set(u,b,f);b&&_&&m.type!="localStorage"&&l.localStorage.removeItem(p)})}t=dC.prototype,t.get=function(o,u){return Fs(this,o.F).get(fu(o,u))};function hu(o,u,f){return f=fu(u,f),u.F=="local"&&(o.b[f]=null),Fs(o,u.F).U(f)}t.set=function(o,u,f){var p=fu(o,f),m=this,_=Fs(this,o.F);return _.set(p,u).then(function(){return _.get(p)}).then(function(b){o.F=="local"&&(m.b[p]=b)})},t.addListener=function(o,u,f){o=fu(o,u),this.l&&(this.b[o]=l.localStorage.getItem(o)),vi(this.a)&&(Fs(this,"local").ca(this.f),this.h||(Lm()||!BS())&&l.indexedDB||!this.l||q4(this)),this.a[o]||(this.a[o]=[]),this.a[o].push(f)},t.removeListener=function(o,u,f){o=fu(o,u),this.a[o]&&(V(this.a[o],function(p){return p==f}),this.a[o].length==0&&delete this.a[o]),vi(this.a)&&(Fs(this,"local").ia(this.f),By(this))};function q4(o){By(o),o.c=setInterval(function(){for(var u in o.a){var f=l.localStorage.getItem(u),p=o.b[u];f!=p&&(o.b[u]=f,f=new Is({type:"storage",key:u,target:window,oldValue:p,newValue:f,a:!0}),o.Zb(f))}},1e3)}function By(o){o.c&&(clearInterval(o.c),o.c=null)}t.Zb=function(o){if(o&&o.g){var u=o.a.key;if(u==null)for(var f in this.a){var p=this.b[f];typeof p>"u"&&(p=null);var m=l.localStorage.getItem(f);m!==p&&(this.b[f]=m,this.nb(f))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof o.a.a<"u"?Fs(this,"local").ia(this.f):By(this),this.m){if(f=l.localStorage.getItem(u),p=o.a.newValue,p!==f)p!==null?l.localStorage.setItem(u,p):l.localStorage.removeItem(u);else if(this.b[u]===p&&typeof o.a.a>"u")return}var _=this;f=function(){(typeof o.a.a<"u"||_.b[u]!==l.localStorage.getItem(u))&&(_.b[u]=l.localStorage.getItem(u),_.nb(u))},Wr&&Co&&Co==10&&l.localStorage.getItem(u)!==o.a.newValue&&o.a.newValue!==o.a.oldValue?setTimeout(f,10):f()}}else G(o,M(this.nb,this))},t.nb=function(o){this.a[o]&&G(this.a[o],function(u){u()})};function H4(o){this.a=o,this.b=Dl()}var $y={name:"authEvent",F:"local"};function K4(o){return o.b.get($y,o.a).then(function(u){return wA(u)})}function W4(){this.a=Dl()}function G4(){this.b=-1}function Sd(o,u){this.b=pC,this.f=l.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=o,this.h=u,this.l=l.Int32Array?new Int32Array(64):Array(64),Ad===void 0&&(l.Int32Array?Ad=new Int32Array(mC):Ad=mC),this.reset()}var Ad;Z(Sd,G4);for(var pC=64,z4=pC-1,vC=[],qy=0;qy<z4;qy++)vC[qy]=0;var gC=q(128,vC);Sd.prototype.reset=function(){this.g=this.c=0,this.a=l.Int32Array?new Int32Array(this.h):te(this.h)};function Hy(o){for(var u=o.f,f=o.l,p=0,m=0;m<u.length;)f[p++]=u[m]<<24|u[m+1]<<16|u[m+2]<<8|u[m+3],m=4*p;for(u=16;64>u;u++){m=f[u-15]|0,p=f[u-2]|0;var _=(f[u-16]|0)+((m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3)|0,b=(f[u-7]|0)+((p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10)|0;f[u]=_+b|0}p=o.a[0]|0,m=o.a[1]|0;var I=o.a[2]|0,F=o.a[3]|0,$=o.a[4]|0,Se=o.a[5]|0,tt=o.a[6]|0;for(_=o.a[7]|0,u=0;64>u;u++){var ze=((p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10))+(p&m^p&I^m&I)|0;b=$&Se^~$&tt,_=_+(($>>>6|$<<26)^($>>>11|$<<21)^($>>>25|$<<7))|0,b=b+(Ad[u]|0)|0,b=_+(b+(f[u]|0)|0)|0,_=tt,tt=Se,Se=$,$=F+b|0,F=I,I=m,m=p,p=b+ze|0}o.a[0]=o.a[0]+p|0,o.a[1]=o.a[1]+m|0,o.a[2]=o.a[2]+I|0,o.a[3]=o.a[3]+F|0,o.a[4]=o.a[4]+$|0,o.a[5]=o.a[5]+Se|0,o.a[6]=o.a[6]+tt|0,o.a[7]=o.a[7]+_|0}function Ky(o,u,f){f===void 0&&(f=u.length);var p=0,m=o.c;if(typeof u=="string")for(;p<f;)o.f[m++]=u.charCodeAt(p++),m==o.b&&(Hy(o),m=0);else if(w(u))for(;p<f;){var _=u[p++];if(!(typeof _=="number"&&0<=_&&255>=_&&_==(_|0)))throw Error("message must be a byte array");o.f[m++]=_,m==o.b&&(Hy(o),m=0)}else throw Error("message must be string or array");o.c=m,o.g+=f}var mC=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function yC(){Sd.call(this,8,Y4)}Z(yC,Sd);var Y4=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function _C(o,u,f,p,m,_){this.v=o,this.i=u,this.l=f,this.m=p||null,this.u=m||null,this.s=_,this.h=u+":"+f,this.C=new W4,this.g=new H4(this.h),this.f=null,this.b=[],this.a=this.c=null}function Cd(o){return new R("invalid-cordova-configuration",o)}t=_C.prototype,t.ma=function(){return this.Ia?this.Ia:this.Ia=$j().then(function(){if(typeof gt("universalLinks.subscribe",l)!="function")throw Cd("cordova-universal-links-plugin-fix is not installed");if(typeof gt("BuildInfo.packageName",l)>"u")throw Cd("cordova-plugin-buildinfo is not installed");if(typeof gt("cordova.plugins.browsertab.openUrl",l)!="function")throw Cd("cordova-plugin-browsertab is not installed");if(typeof gt("cordova.InAppBrowser.open",l)!="function")throw Cd("cordova-plugin-inappbrowser is not installed")},function(){throw new R("cordova-not-ready")})};function Q4(){for(var o=20,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}function X4(o){var u=new yC;Ky(u,o),o=[];var f=8*u.g;56>u.c?Ky(u,gC,56-u.c):Ky(u,gC,u.b-(u.c-56));for(var p=63;56<=p;p--)u.f[p]=f&255,f/=256;for(Hy(u),p=f=0;p<u.i;p++)for(var m=24;0<=m;m-=8)o[f++]=u.a[p]>>m&255;return uB(o)}t.Pb=function(o,u){return u(new R("operation-not-supported-in-this-environment")),ge()},t.Nb=function(){return vt(new R("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(o,u,f,p){if(this.c)return vt(new R("redirect-operation-pending"));var m=this,_=l.document,b=null,I=null,F=null,$=null;return this.c=ge().then(function(){return ay(u),bC(m)}).then(function(){return J4(m,o,u,f,p)}).then(function(){return new Be(function(Se,tt){I=function(){var ze=gt("cordova.plugins.browsertab.close",l);return Se(),typeof ze=="function"&&ze(),m.a&&typeof m.a.close=="function"&&(m.a.close(),m.a=null),!1},m.Ea(I),F=function(){b||(b=Za(2e3).then(function(){tt(new R("redirect-cancelled-by-user"))}))},$=function(){jm()&&F()},_.addEventListener("resume",F,!1),an().toLowerCase().match(/android/)||_.addEventListener("visibilitychange",$,!1)}).o(function(Se){return Wy(m).then(function(){throw Se})})}).oa(function(){F&&_.removeEventListener("resume",F,!1),$&&_.removeEventListener("visibilitychange",$,!1),b&&b.cancel(),I&&m.Ta(I),m.c=null})};function J4(o,u,f,p,m){var _=Q4(),b=new zr(u,p,null,_,new R("no-auth-event"),null,m),I=gt("BuildInfo.packageName",l);if(typeof I!="string")throw new R("invalid-cordova-configuration");var F=gt("BuildInfo.displayName",l),$={};if(an().toLowerCase().match(/iphone|ipad|ipod/))$.ibi=I;else if(an().toLowerCase().match(/android/))$.apn=I;else return vt(new R("operation-not-supported-in-this-environment"));F&&($.appDisplayName=F),_=X4(_),$.sessionId=_;var Se=Nl(o.v,o.i,o.l,u,f,null,p,o.m,$,o.u,m,o.s);return o.ma().then(function(){var tt=o.h;return o.C.a.set($y,b.w(),tt)}).then(function(){var tt=gt("cordova.plugins.browsertab.isAvailable",l);if(typeof tt!="function")throw new R("invalid-cordova-configuration");var ze=null;tt(function(Yt){if(Yt){if(ze=gt("cordova.plugins.browsertab.openUrl",l),typeof ze!="function")throw new R("invalid-cordova-configuration");ze(Se)}else{if(ze=gt("cordova.InAppBrowser.open",l),typeof ze!="function")throw new R("invalid-cordova-configuration");Yt=an(),o.a=ze(Se,Yt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Yt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function wC(o,u){for(var f=0;f<o.b.length;f++)try{o.b[f](u)}catch{}}function bC(o){return o.f||(o.f=o.ma().then(function(){return new Be(function(u){function f(p){return u(p),o.Ta(f),!1}o.Ea(f),Z4(o)})})),o.f}function Wy(o){var u=null;return K4(o.g).then(function(f){return u=f,f=o.g,hu(f.b,$y,f.a)}).then(function(){return u})}function Z4(o){function u(b){p=!0,m&&m.cancel(),Wy(o).then(function(I){var F=f;if(I&&b&&b.url){var $=null;F=hA(b.url),F.indexOf("/__/auth/callback")!=-1&&($=Jn(F),$=ou(Cr($,"firebaseError")||null),$=($=typeof $=="object"?Je($):null)?new zr(I.c,I.b,null,null,$,null,I.T()):new zr(I.c,I.b,F,I.f,null,null,I.T())),F=$||f}wC(o,F)})}var f=new zr("unknown",null,null,null,new R("no-auth-event")),p=!1,m=Za(500).then(function(){return Wy(o).then(function(){p||wC(o,f)})}),_=l.handleOpenURL;l.handleOpenURL=function(b){if(b.toLowerCase().indexOf(gt("BuildInfo.packageName",l).toLowerCase()+"://")==0&&u({url:b}),typeof _=="function")try{_(b)}catch(I){console.error(I)}},uy||(uy=new gB),mB(u)}t.Ea=function(o){this.b.push(o),bC(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new zr("unknown",null,null,null,new R("no-auth-event")),o(u))})},t.Ta=function(o){V(this.b,function(u){return u==o})};function e$(o){this.a=o,this.b=Dl()}var Gy={name:"pendingRedirect",F:"session"};function t$(o){return o.b.set(Gy,"pending",o.a)}function zy(o){return hu(o.b,Gy,o.a)}function n$(o){return o.b.get(Gy,o.a).then(function(u){return u=="pending"})}function Nd(o,u,f,p){this.i={},this.u=0,this.D=o,this.v=u,this.m=f,this.J=p,this.h=[],this.f=!1,this.l=M(this.s,this),this.b=new Rd,this.C=new OC,this.g=new e$(NC(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=EC(this.D,this.v,this.m,Ve,this.J)}function EC(o,u,f,p,m){var _=ce.SDK_VERSION||null;return Mm()?new _C(o,u,f,_,p,m):new zA(o,u,f,_,p,m)}Nd.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=EC(this.D,this.v,this.m,null,this.J),this.i={}};function TC(o){o.f||(o.f=!0,o.a.Ea(o.l));var u=o.a;return o.a.ma().o(function(f){throw o.a==u&&o.reset(),f})}function IC(o){o.a.Yb()&&TC(o).o(function(u){var f=new zr("unknown",null,null,null,new R("operation-not-supported-in-this-environment"));Qy(u)&&o.s(f)}),o.a.Ub()||kC(o.b)}function kd(o,u){D(o.h,u)||o.h.push(u),o.f||n$(o.g).then(function(f){f?zy(o.g).then(function(){TC(o).o(function(p){var m=new zr("unknown",null,null,null,new R("operation-not-supported-in-this-environment"));Qy(p)&&o.s(m)})}):IC(o)}).o(function(){IC(o)})}function Yy(o,u){V(o.h,function(f){return f==u})}Nd.prototype.s=function(o){if(!o)throw new R("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),o&&o.getUid()&&this.i.hasOwnProperty(o.getUid()))return!1;for(var u=!1,f=0;f<this.h.length;f++){var p=this.h[f];if(p.Gb(o.c,o.b)){(u=this.c[o.c])&&(u.h(o,p),o&&(o.f||o.b)&&(this.i[o.getUid()]=!0,this.u=Date.now())),u=!0;break}}return kC(this.b),u};var r$=new Ro(2e3,1e4),i$=new Ro(3e4,6e4);Nd.prototype.ra=function(){return this.b.ra()};function SC(o,u,f,p,m,_,b){return o.a.Nb(u,f,p,function(){o.f||(o.f=!0,o.a.Ea(o.l))},function(){o.reset()},m,_,b)}function Qy(o){return!!(o&&o.code=="auth/cordova-not-ready")}function AC(o,u,f,p,m){var _;return t$(o.g).then(function(){return o.a.Ob(u,f,p,m).o(function(b){if(Qy(b))throw new R("operation-not-supported-in-this-environment");return _=b,zy(o.g).then(function(){throw _})}).then(function(){return o.a.ac()?new Be(function(){}):zy(o.g).then(function(){return o.ra()}).then(function(){}).o(function(){})})})}function CC(o,u,f,p,m){return o.a.Pb(p,function(_){u.na(f,null,_,m)},r$.get())}var Xy={};function NC(o,u,f){return o=o+":"+u,f&&(o=o+":"+f.url),o}function Jy(o,u,f,p){var m=NC(u,f,p);return Xy[m]||(Xy[m]=new Nd(o,u,f,p)),Xy[m]}function Rd(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}Rd.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Rd.prototype.h=function(o,u){if(o){this.reset(),this.g=!0;var f=o.c,p=o.b,m=o.a&&o.a.code=="auth/web-storage-unsupported",_=o.a&&o.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!m&&!_),f!="unknown"||m||_?o.a?(Us(this,!0,null,o.a),ge()):u.Fa(f,p)?o$(this,o,u):vt(new R("invalid-auth-event")):(Us(this,!1,null,null),ge())}else vt(new R("invalid-auth-event"))};function kC(o){o.g||(o.g=!0,Us(o,!1,null,null))}function Od(o){o.g&&!o.i&&Us(o,!1,null,null)}function o$(o,u,f){f=f.Fa(u.c,u.b);var p=u.g,m=u.f,_=u.i,b=u.T(),I=!!u.c.match(/Redirect$/);f(p,m,b,_).then(function(F){Us(o,I,F,null)}).o(function(F){Us(o,I,null,F)})}function s$(o,u){if(o.b=function(){return vt(u)},o.c.length)for(var f=0;f<o.c.length;f++)o.c[f](u)}function RC(o,u){if(o.b=function(){return ge(u)},o.f.length)for(var f=0;f<o.f.length;f++)o.f[f](u)}function Us(o,u,f,p){u?p?s$(o,p):RC(o,f):RC(o,{user:null}),o.f=[],o.c=[]}Rd.prototype.ra=function(){var o=this;return new Be(function(u,f){o.b?o.b().then(u,f):(o.f.push(u),o.c.push(f),a$(o))})};function a$(o){var u=new R("timeout");o.a&&o.a.cancel(),o.a=Za(i$.get()).then(function(){o.b||(o.g=!0,Us(o,!0,null,u))})}function OC(){}OC.prototype.h=function(o,u){if(o){var f=o.c,p=o.b;o.a?(u.na(o.c,null,o.a,o.b),ge()):u.Fa(f,p)?u$(o,u):vt(new R("invalid-auth-event"))}else vt(new R("invalid-auth-event"))};function u$(o,u){var f=o.b,p=o.c;u.Fa(p,f)(o.g,o.f,o.T(),o.i).then(function(m){u.na(p,m,null,f)}).o(function(m){u.na(p,null,m,f)})}function DC(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(o){this.jb=o},enumerable:!1})}function Zy(o,u){this.a=u,ue(this,"verificationId",o)}Zy.prototype.confirm=function(o){return o=_A(this.verificationId,o),this.a(o)};function e_(o,u,f,p){return new Xi(o).gb(u,f).then(function(m){return new Zy(m,p)})}function c$(o){var u=iA(o);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new R("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");xn(this,{token:o,expirationTime:dl(1e3*u.exp),authTime:dl(1e3*u.auth_time),issuedAtTime:dl(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function t_(o,u,f){var p=u&&u[xC];if(!p)throw new R("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=o,this.f=St(u),this.g=f,this.c=new sd(null,p),this.b=[];var m=this;G(u[PC]||[],function(_){(_=Wm(_))&&m.b.push(_)}),ue(this,"auth",this.a),ue(this,"session",this.c),ue(this,"hints",this.b)}var PC="mfaInfo",xC="mfaPendingCredential";t_.prototype.Rc=function(o){var u=this;return o.tb(this.a.a,this.c).then(function(f){var p=St(u.f);return delete p[PC],delete p[xC],sn(p,f),u.g(p)})};function n_(o,u,f,p){R.call(this,"multi-factor-auth-required",p,u),this.b=new t_(o,u,f),ue(this,"resolver",this.b)}Z(n_,R);function LC(o,u,f){if(o&&T(o.serverResponse)&&o.code==="auth/multi-factor-auth-required")try{return new n_(u,o.serverResponse,f,o.message)}catch{}return null}function MC(){}MC.prototype.tb=function(o,u,f){return u.type==ml?l$(this,o,u,f):f$(this,o,u)};function l$(o,u,f,p){return f.Ha().then(function(m){return m={idToken:m},typeof p<"u"&&(m.displayName=p),sn(m,{phoneVerificationInfo:yl(o.a)}),$e(u,ZB,m)})}function f$(o,u,f){return f.Ha().then(function(p){return p={mfaPendingCredential:p},sn(p,{phoneVerificationInfo:yl(o.a)}),$e(u,e4,p)})}function r_(o){ue(this,"factorId",o.fa),this.a=o}Z(r_,MC);function FC(o){if(r_.call(this,o),this.a.fa!=Xi.PROVIDER_ID)throw new R("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}Z(FC,r_);function du(o,u){Xn.call(this,o);for(var f in u)this[f]=u[f]}Z(du,Xn);function i_(o,u){this.a=o,this.b=[],this.c=M(this.yc,this),Ar(this.a,"userReloaded",this.c);var f=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&G(u.multiFactor.enrolledFactors,function(p){var m=null,_={};if(p){p.uid&&(_[zm]=p.uid),p.displayName&&(_[qS]=p.displayName),p.enrollmentTime&&(_[Gm]=new Date(p.enrollmentTime).toISOString()),p.phoneNumber&&(_[Ym]=p.phoneNumber);try{m=new pl(_)}catch{}p=m}else p=null;p&&f.push(p)}),Dd(this,f)}function h$(o){var u=[];return G(o.mfaInfo||[],function(f){(f=Wm(f))&&u.push(f)}),u}t=i_.prototype,t.yc=function(o){Dd(this,h$(o.hd))};function Dd(o,u){o.b=u,ue(o,"enrolledFactors",u)}t.Sb=function(){return this.a.I().then(function(o){return new sd(o,null)})},t.fc=function(o,u){var f=this,p=this.a.a;return this.Sb().then(function(m){return o.tb(p,m,u)}).then(function(m){return bi(f.a,m),f.a.reload()})},t.bd=function(o){var u=this,f=typeof o=="string"?o:o.uid,p=this.a.a;return this.a.I().then(function(m){return $e(p,w4,{idToken:m,mfaEnrollmentId:f})}).then(function(m){var _=le(u.b,function(b){return b.uid!=f});return Dd(u,_),bi(u.a,m),u.a.reload().o(function(b){if(b.code!="auth/user-token-expired")throw b})})},t.w=function(){return{multiFactor:{enrolledFactors:Le(this.b,function(o){return o.w()})}}};function o_(o,u,f){if(this.h=o,this.i=u,this.g=f,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}o_.prototype.start=function(){this.a=this.c,s_(this,!0)};function d$(o,u){return u?(o.a=o.c,o.g()):(u=o.a,o.a*=2,o.a>o.f&&(o.a=o.f),u)}function s_(o,u){o.stop(),o.b=Za(d$(o,u)).then(function(){return Hj()}).then(function(){return o.h()}).then(function(){s_(o,!0)}).o(function(f){o.i(f)&&s_(o,!1)})}o_.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function a_(o){this.f=o,this.b=this.a=null,this.c=Date.now()}a_.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function UC(o,u){typeof u>"u"&&(o.b?(u=o.b,u=u.a-u.g):u=0),o.c=Date.now()+1e3*u}function VC(o,u){o.b=id(u[Qr]||""),o.a=u.refreshToken,u=u.expiresIn,UC(o,typeof u<"u"?Number(u):void 0)}function p$(o,u){o.b=u.b,o.a=u.a,o.c=u.c}function v$(o,u){return FB(o.f,u).then(function(f){return o.b=id(f.access_token),o.a=f.refresh_token,UC(o,f.expires_in),{accessToken:o.b.toString(),refreshToken:o.a}}).o(function(f){throw f.code=="auth/user-token-expired"&&(o.a=null),f})}a_.prototype.getToken=function(o){return o=!!o,this.b&&!this.a?vt(new R("user-token-expired")):o||!this.b||Date.now()>this.c-3e4?this.a?v$(this,{grant_type:"refresh_token",refresh_token:this.a}):ge(null):ge({accessToken:this.b.toString(),refreshToken:this.a})};function Pd(o,u){this.a=o||null,this.b=u||null,xn(this,{lastSignInTime:dl(u||null),creationTime:dl(o||null)})}function g$(o){return new Pd(o.a,o.b)}Pd.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function m$(o,u,f,p,m,_){xn(this,{uid:o,displayName:p||null,photoURL:m||null,email:f||null,phoneNumber:_||null,providerId:u})}function hr(o,u,f){this.N=[],this.l=o.apiKey,this.m=o.appName,this.s=o.authDomain||null;var p=ce.SDK_VERSION?ru(ce.SDK_VERSION):null;this.a=new Yr(this.l,Pt(Ve),p),(this.u=o.emulatorConfig||null)&&bd(this.a,this.u),this.h=new a_(this.a),p_(this,u[Qr]),VC(this.h,u),ue(this,"refreshToken",this.h.a),BC(this,f||{}),Pn.call(this),this.P=!1,this.s&&Ns()&&(this.b=Jy(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=y$(this),this.ba=M(this.ib,this);var m=this;this.za=null,this.Pa=function(_){m.xa(_.h)},this.qa=null,this.Ba=function(_){u_(m,_.c)},this.$=null,this.aa=[],this.Oa=function(_){Pl(m,_.f)},this.ja=null,this.S=new i_(this,f),ue(this,"multiFactor",this.S)}Z(hr,Pn),hr.prototype.xa=function(o){this.za=o,LA(this.a,o)};function u_(o,u){o.u=u,bd(o.a,u),o.b&&(u=o.b,o.b=Jy(o.s,o.l,o.m,o.u),o.P&&(Yy(u,o),kd(o.b,o)))}hr.prototype.la=function(){return this.za};function c_(o,u){o.qa&&lr(o.qa,"languageCodeChanged",o.Pa),(o.qa=u)&&Ar(u,"languageCodeChanged",o.Pa)}function l_(o,u){o.$&&lr(o.$,"emulatorConfigChanged",o.Ba),(o.$=u)&&Ar(u,"emulatorConfigChanged",o.Ba)}function Pl(o,u){o.aa=u,MA(o.a,ce.SDK_VERSION?ru(ce.SDK_VERSION,o.aa):null)}hr.prototype.Ga=function(){return te(this.aa)};function f_(o,u){o.ja&&lr(o.ja,"frameworkChanged",o.Oa),(o.ja=u)&&Ar(u,"frameworkChanged",o.Oa)}hr.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function h_(o){try{return ce.app(o.m).auth()}catch{throw new R("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+o.m+"'!")}}function y$(o){return new o_(function(){return o.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=o.h.c-Date.now()-3e5;return 0<u?u:0})}function jC(o){o.J||o.D.b||(o.D.start(),lr(o,"tokenChanged",o.ba),Ar(o,"tokenChanged",o.ba))}function d_(o){lr(o,"tokenChanged",o.ba),o.D.stop()}function p_(o,u){o.Aa=u,ue(o,"_lat",u)}function _$(o,u){V(o.W,function(f){return f==u})}function Vs(o){for(var u=[],f=0;f<o.W.length;f++)u.push(o.W[f](o));return iS(u).then(function(){return o})}function xl(o){o.b&&!o.P&&(o.P=!0,kd(o.b,o))}function BC(o,u){xn(o,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new Pd(u.createdAt,u.lastLoginAt),providerData:[]}),o.a.b=o.tenantId}ue(hr.prototype,"providerId","firebase");function $C(){}function v_(o){return ge().then(function(){if(o.J)throw new R("app-deleted")})}function g_(o){return Le(o.providerData,function(u){return u.providerId})}function m_(o,u){u&&(qC(o,u.providerId),o.providerData.push(u))}function qC(o,u){V(o.providerData,function(f){return f.providerId==u})}function Po(o,u,f){(u!="uid"||f)&&o.hasOwnProperty(u)&&ue(o,u,f)}function xd(o,u){o!=u&&(xn(o,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?ue(o,"metadata",g$(u.metadata)):ue(o,"metadata",new Pd),G(u.providerData,function(f){m_(o,f)}),p$(o.h,u.h),ue(o,"refreshToken",o.h.a),Dd(o.S,u.S.b))}t=hr.prototype,t.reload=function(){var o=this;return Bt(this,v_(this).then(function(){return y_(o).then(function(){return Vs(o)}).then($C)}))};function y_(o){return o.I().then(function(u){var f=o.isAnonymous;return w$(o,u).then(function(){return f||Po(o,"isAnonymous",!1),u})})}t.oc=function(o){return this.I(o).then(function(u){return new c$(u)})},t.I=function(o){var u=this;return Bt(this,v_(this).then(function(){return u.h.getToken(o)}).then(function(f){if(!f)throw new R("internal-error");return f.accessToken!=u.Aa&&(p_(u,f.accessToken),u.dispatchEvent(new du("tokenChanged"))),Po(u,"refreshToken",f.refreshToken),f.accessToken}))};function bi(o,u){u[Qr]&&o.Aa!=u[Qr]&&(VC(o.h,u),o.dispatchEvent(new du("tokenChanged")),p_(o,u[Qr]),Po(o,"refreshToken",o.h.a))}function w$(o,u){return $e(o.a,t4,{idToken:u}).then(M(o.Kc,o))}t.Kc=function(o){if(o=o.users,!o||!o.length)throw new R("internal-error");o=o[0],BC(this,{uid:o.localId,displayName:o.displayName,photoURL:o.photoUrl,email:o.email,emailVerified:!!o.emailVerified,phoneNumber:o.phoneNumber,lastLoginAt:o.lastLoginAt,createdAt:o.createdAt,tenantId:o.tenantId});for(var u=b$(o),f=0;f<u.length;f++)m_(this,u[f]);Po(this,"isAnonymous",!(this.email&&o.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new du("userReloaded",{hd:o}))};function b$(o){return(o=o.providerUserInfo)&&o.length?Le(o,function(u){return new m$(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}t.Lc=function(o){return Bm("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(o)},t.ub=function(o){var u=this,f=null;return Bt(this,o.c(this.a,this.uid).then(function(p){return bi(u,p),f=Ll(u,p,"reauthenticate"),u.i=null,u.reload()}).then(function(){return f}),!0)};function Ld(o,u){return y_(o).then(function(){if(D(g_(o),u))return Vs(o).then(function(){throw new R("provider-already-linked")})})}t.Cc=function(o){return Bm("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(o)},t.rb=function(o){var u=this,f=null;return Bt(this,Ld(this,o.providerId).then(function(){return u.I()}).then(function(p){return o.b(u.a,p)}).then(function(p){return f=Ll(u,p,"link"),HC(u,p)}).then(function(){return f}))},t.Dc=function(o,u){var f=this;return Bt(this,Ld(this,"phone").then(function(){return e_(h_(f),o,u,M(f.rb,f))}))},t.Mc=function(o,u){var f=this;return Bt(this,ge().then(function(){return e_(h_(f),o,u,M(f.ub,f))}),!0)};function Ll(o,u,f){var p=sy(u);return u=sA(u),_i({user:o,credential:p,additionalUserInfo:u,operationType:f})}function HC(o,u){return bi(o,u),o.reload().then(function(){return o})}t.Cb=function(o){var u=this;return Bt(this,this.I().then(function(f){return u.a.Cb(f,o)}).then(function(f){return bi(u,f),u.reload()}))},t.ed=function(o){var u=this;return Bt(this,this.I().then(function(f){return o.b(u.a,f)}).then(function(f){return bi(u,f),u.reload()}))},t.Db=function(o){var u=this;return Bt(this,this.I().then(function(f){return u.a.Db(f,o)}).then(function(f){return bi(u,f),u.reload()}))},t.Eb=function(o){if(o.displayName===void 0&&o.photoURL===void 0)return v_(this);var u=this;return Bt(this,this.I().then(function(f){return u.a.Eb(f,{displayName:o.displayName,photoUrl:o.photoURL})}).then(function(f){return bi(u,f),Po(u,"displayName",f.displayName||null),Po(u,"photoURL",f.photoUrl||null),G(u.providerData,function(p){p.providerId==="password"&&(ue(p,"displayName",u.displayName),ue(p,"photoURL",u.photoURL))}),Vs(u)}).then($C))},t.cd=function(o){var u=this;return Bt(this,y_(this).then(function(f){return D(g_(u),o)?HB(u.a,f,[o]).then(function(p){var m={};return G(p.providerUserInfo||[],function(_){m[_.providerId]=!0}),G(g_(u),function(_){m[_]||qC(u,_)}),m[Xi.PROVIDER_ID]||ue(u,"phoneNumber",null),Vs(u)}):Vs(u).then(function(){throw new R("no-such-provider")})}))},t.delete=function(){var o=this;return Bt(this,this.I().then(function(u){return $e(o.a,YB,{idToken:u})}).then(function(){o.dispatchEvent(new du("userDeleted"))})).then(function(){for(var u=0;u<o.N.length;u++)o.N[u].cancel("app-deleted");c_(o,null),l_(o,null),f_(o,null),o.N=[],o.J=!0,d_(o),ue(o,"refreshToken",null),o.b&&Yy(o.b,o)})},t.Gb=function(o,u){return!!(o=="linkViaPopup"&&(this.g||null)==u&&this.f||o=="reauthViaPopup"&&(this.g||null)==u&&this.f||o=="linkViaRedirect"&&(this.ga||null)==u||o=="reauthViaRedirect"&&(this.ga||null)==u)},t.na=function(o,u,f,p){o!="linkViaPopup"&&o!="reauthViaPopup"||p!=(this.g||null)||(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(o,u){return o=="linkViaPopup"&&u==(this.g||null)?M(this.Lb,this):o=="reauthViaPopup"&&u==(this.g||null)?M(this.Mb,this):o=="linkViaRedirect"&&(this.ga||null)==u?M(this.Lb,this):o=="reauthViaRedirect"&&(this.ga||null)==u?M(this.Mb,this):null},t.Ec=function(o){var u=this;return KC(this,"linkViaPopup",o,function(){return Ld(u,o.providerId).then(function(){return Vs(u)})},!1)},t.Nc=function(o){return KC(this,"reauthViaPopup",o,function(){return ge()},!0)};function KC(o,u,f,p,m){if(!Ns())return vt(new R("operation-not-supported-in-this-environment"));if(o.i&&!m)return vt(o.i);var _=ey(f.providerId),b=ks(o.uid+":::"),I=null;(!fl()||Fm())&&o.s&&f.isOAuthProvider&&(I=Nl(o.s,o.l,o.m,u,f,null,b,ce.SDK_VERSION||null,null,null,o.tenantId,o.u));var F=xS(I,_&&_.va,_&&_.ua);return p=p().then(function(){if(GC(o),!m)return o.I().then(function(){})}).then(function(){return SC(o.b,F,u,f,b,!!I,o.tenantId)}).then(function(){return new Be(function($,Se){o.na(u,null,new R("cancelled-popup-request"),o.g||null),o.f=$,o.C=Se,o.g=b,o.c=CC(o.b,o,u,F,b)})}).then(function($){return F&&Cs(F),$?_i($):null}).o(function($){throw F&&Cs(F),$}),Bt(o,p,m)}t.Fc=function(o){var u=this;return WC(this,"linkViaRedirect",o,function(){return Ld(u,o.providerId)},!1)},t.Oc=function(o){return WC(this,"reauthViaRedirect",o,function(){return ge()},!0)};function WC(o,u,f,p,m){if(!Ns())return vt(new R("operation-not-supported-in-this-environment"));if(o.i&&!m)return vt(o.i);var _=null,b=ks(o.uid+":::");return p=p().then(function(){if(GC(o),!m)return o.I().then(function(){})}).then(function(){return o.ga=b,Vs(o)}).then(function(I){return o.ha&&(I=o.ha,I=I.b.set(__,o.w(),I.a)),I}).then(function(){return AC(o.b,u,f,b,o.tenantId)}).o(function(I){if(_=I,o.ha)return YC(o.ha);throw _}).then(function(){if(_)throw _}),Bt(o,p,m)}function GC(o){if(!o.b||!o.P)throw o.b&&!o.P?new R("internal-error"):new R("auth-domain-config-required")}t.Lb=function(o,u,f,p){var m=this;this.c&&(this.c.cancel(),this.c=null);var _=null;return f=this.I().then(function(b){return Cy(m.a,{requestUri:o,postBody:p,sessionId:u,idToken:b})}).then(function(b){return _=Ll(m,b,"link"),HC(m,b)}).then(function(){return _}),Bt(this,f)},t.Mb=function(o,u,f,p){var m=this;this.c&&(this.c.cancel(),this.c=null);var _=null,b=ge().then(function(){return au(Ny(m.a,{requestUri:o,sessionId:u,postBody:p,tenantId:f}),m.uid)}).then(function(I){return _=Ll(m,I,"reauthenticate"),bi(m,I),m.i=null,m.reload()}).then(function(){return _});return Bt(this,b,!0)},t.vb=function(o){var u=this,f=null;return Bt(this,this.I().then(function(p){return f=p,typeof o>"u"||vi(o)?{}:nd(new td(o))}).then(function(p){return u.a.vb(f,p)}).then(function(p){if(u.email!=p)return u.reload()}).then(function(){}))},t.Fb=function(o,u){var f=this,p=null;return Bt(this,this.I().then(function(m){return p=m,typeof u>"u"||vi(u)?{}:nd(new td(u))}).then(function(m){return f.a.Fb(p,o,m)}).then(function(m){if(f.email!=m)return f.reload()}).then(function(){}))};function Bt(o,u,f){var p=E$(o,u,f);return o.N.push(p),p.oa(function(){U(o.N,p)}),p.o(function(m){var _=null;throw m&&m.code==="auth/multi-factor-auth-required"&&(_=LC(m.w(),h_(o),M(o.jc,o))),_||m})}t.jc=function(o){var u=null,f=this;return o=au(ge(o),f.uid).then(function(p){return u=Ll(f,p,"reauthenticate"),bi(f,p),f.i=null,f.reload()}).then(function(){return u}),Bt(this,o,!0)};function E$(o,u,f){return o.i&&!f?(u.cancel(),vt(o.i)):u.o(function(p){throw!p||p.code!="auth/user-disabled"&&p.code!="auth/user-token-expired"||(o.i||o.dispatchEvent(new du("userInvalidated")),o.i=p),p})}t.toJSON=function(){return this.w()},t.w=function(){var o={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&sn(o,this.metadata.w()),G(this.providerData,function(u){o.providerData.push(Gj(u))}),sn(o,this.S.w()),o};function zC(o){if(!o.apiKey)return null;var u={apiKey:o.apiKey,authDomain:o.authDomain,appName:o.appName,emulatorConfig:o.emulatorConfig},f={};if(o.stsTokenManager&&o.stsTokenManager.accessToken){f[Qr]=o.stsTokenManager.accessToken,f.refreshToken=o.stsTokenManager.refreshToken||null;var p=o.stsTokenManager.expirationTime;p&&(f.expiresIn=(p-Date.now())/1e3)}else return null;var m=new hr(u,f,o);return o.providerData&&G(o.providerData,function(_){_&&m_(m,_i(_))}),o.redirectEventId&&(m.ga=o.redirectEventId),m}function T$(o,u,f,p){var m=new hr(o,u);return f&&(m.ha=f),p&&Pl(m,p),m.reload().then(function(){return m})}function I$(o,u,f,p){var m=o.h,_={};return _[Qr]=m.b&&m.b.toString(),_.refreshToken=m.a,u=new hr(u||{apiKey:o.l,authDomain:o.s,appName:o.m},_),f&&(u.ha=f),p&&Pl(u,p),xd(u,o),u}function S$(o){this.a=o,this.b=Dl()}var __={name:"redirectUser",F:"session"};function YC(o){return hu(o.b,__,o.a)}function A$(o,u){return o.b.get(__,o.a).then(function(f){return f&&u&&(f.authDomain=u),zC(f||{})})}function w_(o){this.a=o,this.b=Dl(),this.c=null,this.f=C$(this),this.b.addListener(Ei("local"),this.a,M(this.g,this))}w_.prototype.g=function(){var o=this,u=Ei("local");pu(this,function(){return ge().then(function(){return o.c&&o.c.F!="local"?o.b.get(u,o.a):null}).then(function(f){if(f)return b_(o,"local").then(function(){o.c=u})})})};function b_(o,u){var f=[],p;for(p in lu)lu[p]!==u&&f.push(hu(o.b,Ei(lu[p]),o.a));return f.push(hu(o.b,E_,o.a)),gj(f)}function C$(o){var u=Ei("local"),f=Ei("session"),p=Ei("none");return $4(o.b,u,o.a).then(function(){return o.b.get(f,o.a)}).then(function(m){return m?f:o.b.get(p,o.a).then(function(_){return _?p:o.b.get(u,o.a).then(function(b){return b?u:o.b.get(E_,o.a).then(function(I){return I?Ei(I):u})})})}).then(function(m){return o.c=m,b_(o,m.F)}).o(function(){o.c||(o.c=u)})}var E_={name:"persistence",F:"session"};function Ei(o){return{name:"authUser",F:o}}w_.prototype.yb=function(o){var u=null,f=this;return B4(o),pu(this,function(){return o!=f.c.F?f.b.get(f.c,f.a).then(function(p){return u=p,b_(f,o)}).then(function(){if(f.c=Ei(o),u)return f.b.set(f.c,u,f.a)}):ge()})};function N$(o){return pu(o,function(){return o.b.set(E_,o.c.F,o.a)})}function QC(o,u){return pu(o,function(){return o.b.set(o.c,u.w(),o.a)})}function XC(o){return pu(o,function(){return hu(o.b,o.c,o.a)})}function JC(o,u,f){return pu(o,function(){return o.b.get(o.c,o.a).then(function(p){return p&&u&&(p.authDomain=u),p&&f&&(p.emulatorConfig=f),zC(p||{})})})}function pu(o,u){return o.f=o.f.then(u,u),o.f}function Xr(o){if(this.l=!1,ue(this,"settings",new DC),ue(this,"app",o),st(this).options&&st(this).options.apiKey)o=ce.SDK_VERSION?ru(ce.SDK_VERSION):null,this.a=new Yr(st(this).options&&st(this).options.apiKey,Pt(Ve),o);else throw new R("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=ce.INTERNAL.createSubscribe(M(this.zc,this)),this.W=void 0,this.ib=ce.INTERNAL.createSubscribe(M(this.Ac,this)),vu(this,null),this.i=new w_(st(this).options.apiKey+":"+st(this).name),this.D=new S$(st(this).options.apiKey+":"+st(this).name),this.$=At(this,x$(this)),this.h=At(this,L$(this)),this.ba=!1,this.ja=M(this.Zc,this),this.Ba=M(this.da,this),this.qa=M(this.mc,this),this.za=M(this.wc,this),this.Aa=M(this.xc,this),this.b=null,O$(this),this.INTERNAL={},this.INTERNAL.delete=M(this.delete,this),this.INTERNAL.logFramework=M(this.Gc,this),this.u=0,Pn.call(this),R$(this),this.J=[],this.R=null}Z(Xr,Pn);function ZC(o){Xn.call(this,"languageCodeChanged"),this.h=o}Z(ZC,Xn);function eN(o){Xn.call(this,"emulatorConfigChanged"),this.c=o}Z(eN,Xn);function tN(o){Xn.call(this,"frameworkChanged"),this.f=o}Z(tN,Xn),t=Xr.prototype,t.yb=function(o){return o=this.i.yb(o),At(this,o)},t.xa=function(o){this.aa===o||this.l||(this.aa=o,LA(this.a,this.aa),this.dispatchEvent(new ZC(this.la())))},t.la=function(){return this.aa},t.fd=function(){var o=l.navigator;this.xa(o&&(o.languages&&o.languages[0]||o.language||o.userLanguage)||null)},t.gd=function(o,u){if(!this.R){if(!/^https?:\/\//.test(o))throw new R("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,k$(u),this.R={url:o,ec:u},this.settings.jb=!0,bd(this.a,this.R),this.dispatchEvent(new eN(this.R))}};function k$(o){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),l.document&&!o&&Jh().then(function(){var u=l.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#b50000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),l.document.body.appendChild(u)})}t.Gc=function(o){this.J.push(o),MA(this.a,ce.SDK_VERSION?ru(ce.SDK_VERSION,this.J):null),this.dispatchEvent(new tN(this.J))},t.Ga=function(){return te(this.J)},t.zb=function(o){this.S===o||this.l||(this.S=o,this.a.b=this.S)},t.T=function(){return this.S};function R$(o){Object.defineProperty(o,"lc",{get:function(){return this.la()},set:function(u){this.xa(u)},enumerable:!1}),o.aa=null,Object.defineProperty(o,"ti",{get:function(){return this.T()},set:function(u){this.zb(u)},enumerable:!1}),o.S=null,Object.defineProperty(o,"emulatorConfig",{get:function(){if(this.R){var u=Jn(this.R.url);u=_i({protocol:u.c,host:u.a,port:u.g,options:_i({disableWarnings:this.R.ec})})}else u=null;return u},enumerable:!1})}t.toJSON=function(){return{apiKey:st(this).options.apiKey,authDomain:st(this).options.authDomain,appName:st(this).name,currentUser:De(this)&&De(this).w()}};function T_(o){return o.Oa||vt(new R("auth-domain-config-required"))}function O$(o){var u=st(o).options.authDomain,f=st(o).options.apiKey;u&&Ns()&&(o.Oa=o.$.then(function(){if(!o.l){if(o.b=Jy(u,f,st(o).name,o.R),kd(o.b,o),De(o)&&xl(De(o)),o.m){xl(o.m);var p=o.m;p.xa(o.la()),c_(p,o),p=o.m,Pl(p,o.J),f_(p,o),p=o.m,u_(p,o.R),l_(p,o),o.m=null}return o.b}}))}t.Gb=function(o,u){switch(o){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},t.na=function(o,u,f,p){o=="signInViaPopup"&&this.g==p&&(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(o,u){return o=="signInViaRedirect"||o=="signInViaPopup"&&this.g==u&&this.f?M(this.ic,this):null},t.ic=function(o,u,f,p){var m=this,_={requestUri:o,postBody:p,sessionId:u,tenantId:f};return this.c&&(this.c.cancel(),this.c=null),m.$.then(function(){return js(m,Ay(m.a,_))})},t.Xc=function(o){if(!Ns())return vt(new R("operation-not-supported-in-this-environment"));var u=this,f=ey(o.providerId),p=ks(),m=null;(!fl()||Fm())&&st(this).options.authDomain&&o.isOAuthProvider&&(m=Nl(st(this).options.authDomain,st(this).options.apiKey,st(this).name,"signInViaPopup",o,null,p,ce.SDK_VERSION||null,null,null,this.T(),this.R));var _=xS(m,f&&f.va,f&&f.ua);return f=T_(this).then(function(b){return SC(b,_,"signInViaPopup",o,p,!!m,u.T())}).then(function(){return new Be(function(b,I){u.na("signInViaPopup",null,new R("cancelled-popup-request"),u.g),u.f=b,u.C=I,u.g=p,u.c=CC(u.b,u,"signInViaPopup",_,p)})}).then(function(b){return _&&Cs(_),b?_i(b):null}).o(function(b){throw _&&Cs(_),b}),At(this,f)},t.Yc=function(o){if(!Ns())return vt(new R("operation-not-supported-in-this-environment"));var u=this,f=T_(this).then(function(){return N$(u.i)}).then(function(){return AC(u.b,"signInViaRedirect",o,void 0,u.T())});return At(this,f)};function nN(o){if(!Ns())return vt(new R("operation-not-supported-in-this-environment"));var u=T_(o).then(function(){return o.b.ra()}).then(function(f){return f?_i(f):null});return At(o,u)}t.ra=function(){var o=this;return nN(this).then(function(u){return o.b&&Od(o.b.b),u}).o(function(u){throw o.b&&Od(o.b.b),u})},t.dd=function(o){if(!o)return vt(new R("null-user"));if(this.S!=o.tenantId)return vt(new R("tenant-id-mismatch"));var u=this,f={};f.apiKey=st(this).options.apiKey,f.authDomain=st(this).options.authDomain,f.appName=st(this).name;var p=I$(o,f,u.D,u.Ga());return At(this,this.h.then(function(){if(st(u).options.apiKey!=o.l)return p.reload()}).then(function(){return De(u)&&o.uid==De(u).uid?(xd(De(u),o),u.da(o)):(vu(u,p),xl(p),u.da(p))}).then(function(){Ml(u)}))};function D$(o,u){var f={};return f.apiKey=st(o).options.apiKey,f.authDomain=st(o).options.authDomain,f.appName=st(o).name,o.R&&(f.emulatorConfig=o.R),o.$.then(function(){return T$(f,u,o.D,o.Ga())}).then(function(p){return De(o)&&p.uid==De(o).uid?(xd(De(o),p),o.da(p)):(vu(o,p),xl(p),o.da(p))}).then(function(){Ml(o)})}function vu(o,u){De(o)&&(_$(De(o),o.Ba),lr(De(o),"tokenChanged",o.qa),lr(De(o),"userDeleted",o.za),lr(De(o),"userInvalidated",o.Aa),d_(De(o))),u&&(u.W.push(o.Ba),Ar(u,"tokenChanged",o.qa),Ar(u,"userDeleted",o.za),Ar(u,"userInvalidated",o.Aa),0<o.u&&jC(u)),ue(o,"currentUser",u),u&&(u.xa(o.la()),c_(u,o),Pl(u,o.J),f_(u,o),u_(u,o.R),l_(u,o))}t.Bb=function(){var o=this,u=this.h.then(function(){return o.b&&Od(o.b.b),De(o)?(vu(o,null),XC(o.i).then(function(){Ml(o)})):ge()});return At(this,u)};function P$(o){var u=A$(o.D,st(o).options.authDomain).then(function(f){return(o.m=f)&&(f.ha=o.D),YC(o.D)});return At(o,u)}function x$(o){var u=st(o).options.authDomain,f=P$(o).then(function(){return JC(o.i,u,o.R)}).then(function(p){return p?(p.ha=o.D,o.m&&(o.m.ga||null)==(p.ga||null)?p:p.reload().then(function(){return QC(o.i,p).then(function(){return p})}).o(function(m){return m.code=="auth/network-request-failed"?p:XC(o.i)})):null}).then(function(p){vu(o,p||null)});return At(o,f)}function L$(o){return o.$.then(function(){return nN(o)}).o(function(){}).then(function(){if(!o.l)return o.ja()}).o(function(){}).then(function(){if(!o.l){o.ba=!0;var u=o.i;u.b.addListener(Ei("local"),u.a,o.ja)}})}t.Zc=function(){var o=this;return JC(this.i,st(this).options.authDomain).then(function(u){if(!o.l){var f;if(f=De(o)&&u){f=De(o).uid;var p=u.uid;f=f==null||f===""||p===void 0||p===null||p===""?!1:f==p}if(f)return xd(De(o),u),De(o).I();(De(o)||u)&&(vu(o,u),u&&(xl(u),u.ha=o.D),o.b&&kd(o.b,o),Ml(o))}})},t.da=function(o){return QC(this.i,o)},t.mc=function(){Ml(this),this.da(De(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()};function js(o,u){var f=null,p=null;return At(o,u.then(function(m){return f=sy(m),p=sA(m),D$(o,m)},function(m){var _=null;throw m&&m.code==="auth/multi-factor-auth-required"&&(_=LC(m.w(),o,M(o.kc,o))),_||m}).then(function(){return _i({user:De(o),credential:f,additionalUserInfo:p,operationType:"signIn"})}))}t.kc=function(o){var u=this;return this.h.then(function(){return js(u,ge(o))})},t.zc=function(o){var u=this;this.addAuthTokenListener(function(){o.next(De(u))})},t.Ac=function(o){var u=this;M$(this,function(){o.next(De(u))})},t.Ic=function(o,u,f){var p=this;return this.ba&&Promise.resolve().then(function(){typeof o=="function"?o(De(p)):typeof o.next=="function"&&o.next(De(p))}),this.Pa(o,u,f)},t.Hc=function(o,u,f){var p=this;return this.ba&&Promise.resolve().then(function(){p.W=p.getUid(),typeof o=="function"?o(De(p)):typeof o.next=="function"&&o.next(De(p))}),this.ib(o,u,f)},t.nc=function(o){var u=this,f=this.h.then(function(){return De(u)?De(u).I(o).then(function(p){return{accessToken:p}}):null});return At(this,f)},t.Tc=function(o){var u=this;return this.h.then(function(){return js(u,$e(u.a,g4,{token:o}))}).then(function(f){var p=f.user;return Po(p,"isAnonymous",!1),u.da(p),f})},t.Uc=function(o,u){var f=this;return this.h.then(function(){return js(f,$e(f.a,KA,{email:o,password:u}))})},t.dc=function(o,u){var f=this;return this.h.then(function(){return js(f,$e(f.a,GB,{email:o,password:u}))})},t.ab=function(o){var u=this;return this.h.then(function(){return js(u,o.ka(u.a))})},t.Sc=function(o){return Bm("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(o)},t.Ab=function(){var o=this;return this.h.then(function(){var u=De(o);if(u&&u.isAnonymous){var f=_i({providerId:null,isNewUser:!1});return _i({user:u,credential:null,additionalUserInfo:f,operationType:"signIn"})}return js(o,o.a.Ab()).then(function(p){var m=p.user;return Po(m,"isAnonymous",!0),o.da(m),p})})};function st(o){return o.app}function De(o){return o.currentUser}t.getUid=function(){return De(this)&&De(this).uid||null};function Md(o){return De(o)&&De(o)._lat||null}function Ml(o){if(o.ba){for(var u=0;u<o.s.length;u++)o.s[u]&&o.s[u](Md(o));if(o.W!==o.getUid()&&o.N.length)for(o.W=o.getUid(),u=0;u<o.N.length;u++)o.N[u]&&o.N[u](Md(o))}}t.cc=function(o){this.addAuthTokenListener(o),this.u++,0<this.u&&De(this)&&jC(De(this))},t.Pc=function(o){var u=this;G(this.s,function(f){f==o&&u.u--}),0>this.u&&(this.u=0),this.u==0&&De(this)&&d_(De(this)),this.removeAuthTokenListener(o)},t.addAuthTokenListener=function(o){var u=this;this.s.push(o),At(this,this.h.then(function(){u.l||D(u.s,o)&&o(Md(u))}))},t.removeAuthTokenListener=function(o){V(this.s,function(u){return u==o})};function M$(o,u){o.N.push(u),At(o,o.h.then(function(){!o.l&&D(o.N,u)&&o.W!==o.getUid()&&(o.W=o.getUid(),u(Md(o)))}))}t.delete=function(){this.l=!0;for(var o=0;o<this.P.length;o++)this.P[o].cancel("app-deleted");return this.P=[],this.i&&(o=this.i,o.b.removeListener(Ei("local"),o.a,this.ja)),this.b&&(Yy(this.b,this),Od(this.b.b)),Promise.resolve()};function At(o,u){return o.P.push(u),u.oa(function(){U(o.P,u)}),u}t.hc=function(o){return At(this,UB(this.a,o))},t.Bc=function(o){return!!oy(o)},t.xb=function(o,u){var f=this;return At(this,ge().then(function(){var p=new td(u);if(!p.c)throw new R("argument-error",Jm+" must be true when sending sign in link to email");return nd(p)}).then(function(p){return f.a.xb(o,p)}).then(function(){}))},t.jd=function(o){return this.Sa(o).then(function(u){return u.data.email})},t.ob=function(o,u){return At(this,this.a.ob(o,u).then(function(){}))},t.Sa=function(o){return At(this,this.a.Sa(o).then(function(u){return new Yj(u)}))},t.kb=function(o){return At(this,this.a.kb(o).then(function(){}))},t.wb=function(o,u){var f=this;return At(this,ge().then(function(){return typeof u>"u"||vi(u)?{}:nd(new td(u))}).then(function(p){return f.a.wb(o,p)}).then(function(){}))},t.Wc=function(o,u){return At(this,e_(this,o,u,M(this.ab,this)))},t.Vc=function(o,u){var f=this;return At(this,ge().then(function(){var p=u||ll(),m=yA(o,p);if(p=oy(p),!p)throw new R("argument-error","Invalid email link!");if(p.tenantId!==f.T())throw new R("tenant-id-mismatch");return f.ab(m)}))};function Fl(){}Fl.prototype.render=function(){},Fl.prototype.reset=function(){},Fl.prototype.getResponse=function(){},Fl.prototype.execute=function(){};function gu(){this.a={},this.b=1e12}var I_=null;gu.prototype.render=function(o,u){return this.a[this.b.toString()]=new Fd(o,u),this.b++},gu.prototype.reset=function(o){var u=S_(this,o);o=rN(o),u&&o&&(u.delete(),delete this.a[o])},gu.prototype.getResponse=function(o){return(o=S_(this,o))?o.getResponse():null},gu.prototype.execute=function(o){(o=S_(this,o))&&o.execute()};function S_(o,u){return(u=rN(u))&&o.a[u]||null}function rN(o){return(o=typeof o>"u"?1e12:o)?o.toString():null}function Fd(o,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=rl(o);var f=this;this.i=function(){f.execute()},this.h?this.execute():Ar(this.f,"click",this.i)}Fd.prototype.getResponse=function(){return A_(this),this.b},Fd.prototype.execute=function(){A_(this);var o=this;this.a||(this.a=setTimeout(function(){o.b=qj();var u=o.c.callback,f=o.c["expired-callback"];if(u)try{u(o.b)}catch{}o.a=setTimeout(function(){if(o.a=null,o.b=null,f)try{f()}catch{}o.h&&o.execute()},6e4)},500))},Fd.prototype.delete=function(){A_(this),this.g=!0,clearTimeout(this.a),this.a=null,lr(this.f,"click",this.i)};function A_(o){if(o.g)throw Error("reCAPTCHA mock was already deleted!")}function C_(){}ue(C_,"FACTOR_ID","phone");function N_(){}N_.prototype.g=function(){return I_||(I_=new gu),ge(I_)},N_.prototype.c=function(){};var k_=null;function R_(){this.b=l.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var F$=new gi(Vh,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),U$=new Ro(3e4,6e4);R_.prototype.g=function(o){var u=this;return new Be(function(f,p){var m=setTimeout(function(){p(new R("network-request-failed"))},U$.get());if(!l.grecaptcha||o!==u.f&&!u.b){l[u.a]=function(){if(l.grecaptcha){u.f=o;var b=l.grecaptcha.render;l.grecaptcha.render=function(I,F){return I=b(I,F),u.b++,I},clearTimeout(m),f(l.grecaptcha)}else clearTimeout(m),p(new R("internal-error"));delete l[u.a]};var _=fm(F$,{onload:u.a,hl:o||""});ge(_y(_)).o(function(){clearTimeout(m),p(new R("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(m),f(l.grecaptcha)})},R_.prototype.c=function(){this.b--};var O_=null;function D_(o,u,f,p,m,_,b){if(ue(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=u,this.g=null,b?(k_||(k_=new N_),b=k_):(O_||(O_=new R_),b=O_),this.m=b,this.a=f||{theme:"light",type:"image"},this.h=[],this.a[sN])throw new R("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[V$]==="invisible",!l.document)throw new R("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!rl(u)||!this.i&&rl(u).hasChildNodes())throw new R("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Yr(o,_||null,m||null),this.u=p||function(){return null};var I=this;this.l=[];var F=this.a[iN];this.a[iN]=function(Se){if(aN(I,Se),typeof F=="function")F(Se);else if(typeof F=="string"){var tt=gt(F,l);typeof tt=="function"&&tt(Se)}};var $=this.a[oN];this.a[oN]=function(){if(aN(I,null),typeof $=="function")$();else if(typeof $=="string"){var Se=gt($,l);typeof Se=="function"&&Se()}}}var iN="callback",oN="expired-callback",sN="sitekey",V$="size";function aN(o,u){for(var f=0;f<o.l.length;f++)try{o.l[f](u)}catch{}}function j$(o,u){V(o.l,function(f){return f==u})}function P_(o,u){return o.h.push(u),u.oa(function(){U(o.h,u)}),u}t=D_.prototype,t.Ia=function(){var o=this;return this.f?this.f:this.f=P_(this,ge().then(function(){if(Zh()&&!Gr())return Jh();throw new R("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return o.m.g(o.u())}).then(function(u){return o.g=u,$e(o.s,a4,{})}).then(function(u){o.a[sN]=u.recaptchaSiteKey}).o(function(u){throw o.f=null,u}))},t.render=function(){Ud(this);var o=this;return P_(this,this.Ia().then(function(){if(o.c===null){var u=o.v;if(!o.i){var f=rl(u);u=hj("DIV"),f.appendChild(u)}o.c=o.g.render(u,o.a)}return o.c}))},t.verify=function(){Ud(this);var o=this;return P_(this,this.render().then(function(u){return new Be(function(f){var p=o.g.getResponse(u);if(p)f(p);else{var m=function(_){_&&(j$(o,m),f(_))};o.l.push(m),o.i&&o.g.execute(o.c)}})}))},t.reset=function(){Ud(this),this.c!==null&&this.g.reset(this.c)};function Ud(o){if(o.J)throw new R("internal-error","RecaptchaVerifier instance has been destroyed.")}t.clear=function(){Ud(this),this.J=!0,this.m.c();for(var o=0;o<this.h.length;o++)this.h[o].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){o=rl(this.v);for(var u;u=o.firstChild;)o.removeChild(u)}};function x_(o,u,f){var p=!1;try{this.b=f||ce.app()}catch{throw new R("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)f=this.b.options.apiKey;else throw new R("invalid-api-key");var m=this,_=null;try{_=this.b.auth().Ga()}catch{}try{p=this.b.auth().settings.appVerificationDisabledForTesting}catch{}_=ce.SDK_VERSION?ru(ce.SDK_VERSION,_):null,D_.call(this,f,o,u,function(){try{var b=m.b.auth().la()}catch{b=null}return b},_,Pt(Ve),p)}Z(x_,D_);function uN(o,u,f,p){e:{f=Array.prototype.slice.call(f);for(var m=0,_=!1,b=0;b<u.length;b++)if(u[b].optional)_=!0;else{if(_)throw new R("internal-error","Argument validator encountered a required argument after an optional argument.");m++}if(_=u.length,f.length<m||_<f.length)p="Expected "+(m==_?m==1?"1 argument":m+" arguments":m+"-"+_+" arguments")+" but got "+f.length+".";else{for(m=0;m<f.length;m++)if(_=u[m].optional&&f[m]===void 0,!u[m].M(f[m])&&!_){if(u=u[m],0>m||m>=cN.length)throw new R("internal-error","Argument validator received an unsupported number of arguments.");f=cN[m],p=(p?"":f+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}p=null}}if(p)throw new R("argument-error",o+" failed: "+p)}var cN="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function ae(o,u){return{name:o||"",K:"a valid string",optional:!!u,M:function(f){return typeof f=="string"}}}function L_(o,u){return{name:o||"",K:"a boolean",optional:!!u,M:function(f){return typeof f=="boolean"}}}function Lt(o,u){return{name:o||"",K:"a valid object",optional:!!u,M:T}}function mu(o,u){return{name:o||"",K:"a function",optional:!!u,M:function(f){return typeof f=="function"}}}function Ti(o,u){return{name:o||"",K:"null",optional:!!u,M:function(f){return f===null}}}function B$(){return{name:"",K:"an HTML element",optional:!1,M:function(o){return!!(o&&o instanceof Element)}}}function $$(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(o){return!!(o&&o instanceof Xr)}}}function q$(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(o){return!!(o&&o instanceof ce.app.App)}}}function xo(o){return{name:o?o+"Credential":"credential",K:o?"a valid "+o+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var f=!o||u.providerId===o;return!(!u.ka||!f)}}}function lN(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(o){return o?!!o.tb:!1}}}function yu(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}}function M_(o,u){return T(o)&&typeof o.type=="string"&&o.type===u&&typeof o.Ha=="function"}function fN(o){return T(o)&&typeof o.uid=="string"}function Vd(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(o){return!(!o||typeof o.type!="string"||typeof o.verify!="function")}}}function Rt(o,u,f,p){return{name:f||"",K:o.K+" or "+u.K,optional:!!p,M:function(m){return o.M(m)||u.M(m)}}}function bt(o,u){for(var f in u){var p=u[f].name;o[p]=dN(p,o[f],u[f].j)}}function hN(o,u){for(var f in u){var p=u[f].name;p!==f&&Object.defineProperty(o,p,{get:ie(function(m){return this[m]},f),set:ie(function(m,_,b,I){uN(m,[b],[I],!0),this[_]=I},p,f,u[f].lb),enumerable:!0})}}function Ot(o,u,f,p){o[u]=dN(u,f,p)}function dN(o,u,f){function p(){var b=Array.prototype.slice.call(arguments);return uN(m,f,b),u.apply(this,b)}if(!f)return u;var m=H$(o),_;for(_ in u)p[_]=u[_];for(_ in u.prototype)p.prototype[_]=u.prototype[_];return p}function H$(o){return o=o.split("."),o[o.length-1]}bt(Xr.prototype,{kb:{name:"applyActionCode",j:[ae("code")]},Sa:{name:"checkActionCode",j:[ae("code")]},ob:{name:"confirmPasswordReset",j:[ae("code"),ae("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[ae("email"),ae("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[ae("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[ae("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Rt(Lt(),mu(),"nextOrObserver"),mu("opt_error",!0),mu("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Rt(Lt(),mu(),"nextOrObserver"),mu("opt_error",!0),mu("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[ae("email"),Rt(Lt("opt_actionCodeSettings",!0),Ti(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[ae("email"),Lt("actionCodeSettings")]},yb:{name:"setPersistence",j:[ae("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[xo()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[xo()]},Tc:{name:"signInWithCustomToken",j:[ae("token")]},Uc:{name:"signInWithEmailAndPassword",j:[ae("email"),ae("password")]},Vc:{name:"signInWithEmailLink",j:[ae("email"),ae("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[ae("phoneNumber"),Vd()]},Xc:{name:"signInWithPopup",j:[yu()]},Yc:{name:"signInWithRedirect",j:[yu()]},dd:{name:"updateCurrentUser",j:[Rt(function(o){return{name:"user",K:"an instance of Firebase User",optional:!!o,M:function(u){return!!(u&&u instanceof hr)}}}(),Ti(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[ae(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[ae("url"),Lt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[ae("code")]}}),hN(Xr.prototype,{lc:{name:"languageCode",lb:Rt(ae(),Ti(),"languageCode")},ti:{name:"tenantId",lb:Rt(ae(),Ti(),"tenantId")}}),Xr.Persistence=lu,Xr.Persistence.LOCAL="local",Xr.Persistence.SESSION="session",Xr.Persistence.NONE="none",bt(hr.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[L_("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[L_("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[xo()]},rb:{name:"linkWithCredential",j:[xo()]},Dc:{name:"linkWithPhoneNumber",j:[ae("phoneNumber"),Vd()]},Ec:{name:"linkWithPopup",j:[yu()]},Fc:{name:"linkWithRedirect",j:[yu()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[xo()]},ub:{name:"reauthenticateWithCredential",j:[xo()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[ae("phoneNumber"),Vd()]},Nc:{name:"reauthenticateWithPopup",j:[yu()]},Oc:{name:"reauthenticateWithRedirect",j:[yu()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Rt(Lt("opt_actionCodeSettings",!0),Ti(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[ae(null,!0)]},cd:{name:"unlink",j:[ae("provider")]},Cb:{name:"updateEmail",j:[ae("email")]},Db:{name:"updatePassword",j:[ae("password")]},ed:{name:"updatePhoneNumber",j:[xo("phone")]},Eb:{name:"updateProfile",j:[Lt("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[ae("email"),Rt(Lt("opt_actionCodeSettings",!0),Ti(null,!0),"opt_actionCodeSettings",!0)]}}),bt(gu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),bt(Fl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),bt(Be.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),hN(DC.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:L_("appVerificationDisabledForTesting")}}),bt(Zy.prototype,{confirm:{name:"confirm",j:[ae("verificationCode")]}}),Ot(su,"fromJSON",function(o){o=typeof o=="string"?JSON.parse(o):o;for(var u,f=[dB,pB,vB,hB],p=0;p<f.length;p++)if(u=f[p](o))return u;return null},[Rt(ae(),Lt(),"json")]),Ot(Nr,"credential",function(o,u){return new Oo(o,u)},[ae("email"),ae("password")]),bt(Oo.prototype,{w:{name:"toJSON",j:[ae(null,!0)]}}),bt(Ds.prototype,{Ca:{name:"addScope",j:[ae("scope")]},Ka:{name:"setCustomParameters",j:[Lt("customOAuthParameters")]}}),Ot(Ds,"credential",pA,[Rt(ae(),Lt(),"token")]),Ot(Nr,"credentialWithLink",yA,[ae("email"),ae("emailLink")]),bt(Ps.prototype,{Ca:{name:"addScope",j:[ae("scope")]},Ka:{name:"setCustomParameters",j:[Lt("customOAuthParameters")]}}),Ot(Ps,"credential",vA,[Rt(ae(),Lt(),"token")]),bt(xs.prototype,{Ca:{name:"addScope",j:[ae("scope")]},Ka:{name:"setCustomParameters",j:[Lt("customOAuthParameters")]}}),Ot(xs,"credential",gA,[Rt(ae(),Rt(Lt(),Ti()),"idToken"),Rt(ae(),Ti(),"accessToken",!0)]),bt(uu.prototype,{Ka:{name:"setCustomParameters",j:[Lt("customOAuthParameters")]}}),Ot(uu,"credential",mA,[Rt(ae(),Lt(),"token"),ae("secret",!0)]),bt(fr.prototype,{Ca:{name:"addScope",j:[ae("scope")]},credential:{name:"credential",j:[Rt(ae(),Rt(Lt(),Ti()),"optionsOrIdToken"),Rt(ae(),Ti(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Lt("customOAuthParameters")]}}),bt(Qi.prototype,{w:{name:"toJSON",j:[ae(null,!0)]}}),bt(Rs.prototype,{w:{name:"toJSON",j:[ae(null,!0)]}}),Ot(Xi,"credential",_A,[ae("verificationId"),ae("verificationCode")]),bt(Xi.prototype,{gb:{name:"verifyPhoneNumber",j:[Rt(ae(),function(o,u){return{name:o||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(f){return f?f.session&&f.phoneNumber?M_(f.session,ml)&&typeof f.phoneNumber=="string":f.session&&f.multiFactorHint?M_(f.session,ad)&&fN(f.multiFactorHint):f.session&&f.multiFactorUid?M_(f.session,ad)&&typeof f.multiFactorUid=="string":f.phoneNumber?typeof f.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Vd()]}}),bt(Do.prototype,{w:{name:"toJSON",j:[ae(null,!0)]}}),bt(R.prototype,{toJSON:{name:"toJSON",j:[ae(null,!0)]}}),bt(_l.prototype,{toJSON:{name:"toJSON",j:[ae(null,!0)]}}),bt(cy.prototype,{toJSON:{name:"toJSON",j:[ae(null,!0)]}}),bt(n_.prototype,{toJSON:{name:"toJSON",j:[ae(null,!0)]}}),bt(t_.prototype,{Rc:{name:"resolveSignIn",j:[lN()]}}),bt(i_.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[lN(),ae("displayName",!0)]},bd:{name:"unenroll",j:[Rt({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:fN},ae(),"multiFactorInfoIdentifier")]}}),bt(x_.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Ot(Xm,"parseLink",QS,[ae("link")]),Ot(C_,"assertion",function(o){return new FC(o)},[xo("phone")]),function(){if(typeof ce<"u"&&ce.INTERNAL&&ce.INTERNAL.registerComponent){var o={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ed,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Qm,VERIFY_AND_CHANGE_EMAIL:vl,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Xr,AuthCredential:su,Error:R};Ot(o,"EmailAuthProvider",Nr,[]),Ot(o,"FacebookAuthProvider",Ds,[]),Ot(o,"GithubAuthProvider",Ps,[]),Ot(o,"GoogleAuthProvider",xs,[]),Ot(o,"TwitterAuthProvider",uu,[]),Ot(o,"OAuthProvider",fr,[ae("providerId")]),Ot(o,"SAMLAuthProvider",dA,[ae("providerId")]),Ot(o,"PhoneAuthProvider",Xi,[$$()]),Ot(o,"RecaptchaVerifier",x_,[Rt(ae(),B$(),"recaptchaContainer"),Lt("recaptchaParameters",!0),q$()]),Ot(o,"ActionCodeURL",Xm,[]),Ot(o,"PhoneMultiFactorGenerator",C_,[]),ce.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new Xr(u)},multipleInstances:!1,serviceProps:o,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(u){u.getProvider("auth-internal").initialize()}}),ce.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:M(u.getUid,u),getToken:M(u.nc,u),addAuthTokenListener:M(u.cc,u),removeAuthTokenListener:M(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),ce.registerVersion("@firebase/auth","0.16.8"),ce.INTERNAL.extendNamespace({User:hr})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});var DY={},PY="@firebase/database",xY="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var px="";function vx(t){px=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LY=function(){function t(e){this.domStorage_=e,this.prefix_="firebase:"}return t.prototype.set=function(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),qt(n))},t.prototype.get=function(e){var n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Nf(n)},t.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},t.prototype.prefixedName_=function(e){return this.prefix_+e},t.prototype.toString=function(){return this.domStorage_.toString()},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MY=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n},t.prototype.get=function(e){return Tr(this.cache_,e)?this.cache_[e]:null},t.prototype.remove=function(e){delete this.cache_[e]},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gx=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new LY(e)}}catch{}return new MY},ta=gx("localStorage"),wb=gx("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bu=new Fa("@firebase/database"),mx=function(){var t=1;return function(){return t++}}(),yx=function(t){var e=Z8(t),n=new Y8;n.update(e);var r=n.digest();return ig.encodeByteArray(r)},uh=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=uh.apply(null,i):typeof i=="object"?n+=qt(i):n+=i,n+=" "}return n},ha=null,Zk=!0,_x=function(t,e){Y(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Bu.logLevel=je.VERBOSE,ha=Bu.log.bind(Bu),e&&wb.set("logging_enabled",!0)):typeof t=="function"?ha=t:(ha=null,wb.remove("logging_enabled"))},Jt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(Zk===!0&&(Zk=!1,ha===null&&wb.get("logging_enabled")===!0&&_x(!0)),ha){var n=uh.apply(null,t);ha(n)}},ch=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Jt.apply(void 0,xe([t],hn(e)))}},bb=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+uh.apply(void 0,xe([],hn(t)));Bu.error(n)},$i=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+uh.apply(void 0,xe([],hn(t)));throw Bu.error(n),new Error(n)},pn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+uh.apply(void 0,xe([],hn(t)));Bu.warn(n)},FY=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&pn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},sg=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},UY=function(t){if(document.readyState==="complete")t();else{var e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},go="[MIN_NAME]",qi="[MAX_NAME]",Ua=function(t,e){if(t===e)return 0;if(t===go||e===qi)return-1;if(e===go||t===qi)return 1;var n=Wp(t),r=Wp(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1},VY=function(t,e){return t===e?0:t<e?-1:1},$l=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+qt(e))},dE=function(t){if(typeof t!="object"||t===null)return qt(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)i!==0&&(r+=","),r+=qt(e[i]),r+=":",r+=dE(t[e[i]]);return r+="}",r},wx=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Gt(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var bx=function(t){Y(!sg(t),"Invalid JSON number");var e=11,n=52,r=(1<<e-1)-1,i,s,a,c,l;t===0?(s=0,a=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=c+r,a=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(s=0,a=Math.round(t/Math.pow(2,1-r-n))));var h=[];for(l=n;l;l-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(l=e;l;l-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();var d=h.join(""),v="";for(l=0;l<64;l+=8){var g=parseInt(d.substr(l,8),2).toString(16);g.length===1&&(g="0"+g),v=v+g}return v.toLowerCase()},jY=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},BY=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function $Y(t,e){var n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");var r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var qY=new RegExp("^-?(0*)\\d{1,10}$"),Ex=-2147483648,pE=2147483647,Wp=function(t){if(qY.test(t)){var e=Number(t);if(e>=Ex&&e<=pE)return e}return null},jc=function(t){try{t()}catch(e){setTimeout(function(){var n=e.stack||"";throw pn("Exception was thrown by user callback.",n),e},Math.floor(0))}},HY=function(){var t=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return t.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},sf=function(t,e){var n=setTimeout(t,e);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KY=function(){function t(e,n){var r=this;this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(function(i){return r.appCheck=i})}return t.prototype.getToken=function(e){var n=this;return this.appCheck?this.appCheck.getToken(e):new Promise(function(r,i){setTimeout(function(){n.appCheck?n.getToken(e).then(r,i):r(null)},0)})},t.prototype.addTokenChangeListener=function(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(function(r){return r.addTokenListener(e)})},t.prototype.notifyForInvalidToken=function(){pn('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WY=function(){function t(e,n,r){var i=this;this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(function(s){return i.auth_=s})}return t.prototype.getToken=function(e){var n=this;return this.auth_?this.auth_.getToken(e).catch(function(r){return r&&r.code==="auth/token-not-initialized"?(Jt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)}):new Promise(function(r,i){setTimeout(function(){n.auth_?n.getToken(e).then(r,i):r(null)},0)})},t.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(function(n){return n.addAuthTokenListener(e)})},t.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then(function(n){return n.removeAuthTokenListener(e)})},t.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',pn(e)},t}(),af=function(){function t(e){this.accessToken=e}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(e){e(this.accessToken)},t.prototype.removeTokenChangeListener=function(e){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vE="5",Tx="v",Ix="s",Sx="r",Ax="f",Cx=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Nx="ls",GY="p",Eb="ac",kx="websocket",Rx="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gE=function(){function t(e,n,r,i,s,a,c){s===void 0&&(s=!1),a===void 0&&(a=""),c===void 0&&(c=!1),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ta.get("host:"+e)||this._host}return t.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},t.prototype.isCustomHost=function(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ta.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},t.prototype.toURLString=function(){var e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+n},t}();function zY(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Ox(t,e,n){Y(typeof e=="string","typeof type must == string"),Y(typeof n=="object","typeof params must == object");var r;if(e===kx)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Rx)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);zY(t)&&(n.ns=t.namespace);var i=[];return Gt(n,function(s,a){i.push(s+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YY=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(e,n){n===void 0&&(n=1),Tr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n},t.prototype.get=function(){return ix(this.counters_)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lw={},fw={};function mE(t){var e=t.toString();return lw[e]||(lw[e]=new YY),lw[e]}function QY(t,e){var n=t.toString();return fw[n]||(fw[n]=e()),fw[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XY=function(){function t(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(e,n){var r=this;this.pendingResponses[e]=n;for(var i=function(){var c=s.pendingResponses[s.currentResponseNum];delete s.pendingResponses[s.currentResponseNum];for(var l=function(d){c[d]&&jc(function(){r.onMessage_(c[d])})},h=0;h<c.length;++h)l(h);if(s.currentResponseNum===s.closeAfterResponse)return s.onClose&&(s.onClose(),s.onClose=null),"break";s.currentResponseNum++},s=this;this.pendingResponses[this.currentResponseNum];){var a=i();if(a==="break")break}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eR="start",JY="close",ZY="pLPCommand",eQ="pRTLPCB",Dx="id",Px="pw",xx="ser",tQ="cb",nQ="seg",rQ="ts",iQ="d",oQ="dframe",Lx=1870,Mx=30,sQ=Lx-Mx,aQ=25e3,uQ=3e4,yE=function(){function t(e,n,r,i,s,a,c){var l=this;this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ch(e),this.stats_=mE(n),this.urlFn=function(h){return l.appCheckToken&&(h[Eb]=l.appCheckToken),Ox(n,Rx,h)}}return t.prototype.open=function(e,n){var r=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new XY(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(uQ)),UY(function(){if(!r.isClosed_){r.scriptTagHolder=new cQ(function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var l=hn(a,5),h=l[0],d=l[1],v=l[2];if(l[3],l[4],r.incrementIncomingBytes_(a),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,h===eR)r.id=d,r.password=v;else if(h===JY)d?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(d,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+h)},function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var l=hn(a,2),h=l[0],d=l[1];r.incrementIncomingBytes_(a),r.myPacketOrderer.handleResponse(h,d)},function(){r.onClosed_()},r.urlFn);var i={};i[eR]="t",i[xx]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(i[tQ]=r.scriptTagHolder.uniqueCallbackIdentifier),i[Tx]=vE,r.transportSessionId&&(i[Ix]=r.transportSessionId),r.lastSessionId&&(i[Nx]=r.lastSessionId),r.applicationId&&(i[GY]=r.applicationId),r.appCheckToken&&(i[Eb]=r.appCheckToken),typeof location<"u"&&location.hostname&&Cx.test(location.hostname)&&(i[Sx]=Ax);var s=r.urlFn(i);r.log_("Connecting via long-poll to "+s),r.scriptTagHolder.addTag(s,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!jY()&&!BY()},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(e){var n=qt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var r=rx(n),i=wx(r,sQ),s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(e,n){this.myDisconnFrame=document.createElement("iframe");var r={};r[oQ]="t",r[Dx]=e,r[Px]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},t.prototype.incrementIncomingBytes_=function(e){var n=qt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},t}(),cQ=function(){function t(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=mx(),window[ZY+this.uniqueCallbackIdentifier]=e,window[eQ+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var s="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){var a=document.domain;s='<script>document.domain="'+a+'";<\/script>'}var c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(l){Jt("frame writing exception"),l.stack&&Jt(l.stack),Jt(l)}}}return t.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{var n=e.contentWindow.document;n||Jt("No IE domain setting required")}catch{var r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},t.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){e.myIFrame!==null&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0)));var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},t.prototype.startLongPoll=function(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e[Dx]=this.myID,e[Px]=this.myPW,e[xx]=this.currentSerial;for(var n=this.urlFn(e),r="",i=0;this.pendingSegs.length>0;){var s=this.pendingSegs[0];if(s.d.length+Mx+r.length<=Lx){var a=this.pendingSegs.shift();r=r+"&"+nQ+i+"="+a.seg+"&"+rQ+i+"="+a.ts+"&"+iQ+i+"="+a.d,i++}else break}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1},t.prototype.enqueueSegment=function(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(e,n){var r=this;this.outstandingRequests.add(n);var i=function(){r.outstandingRequests.delete(n),r.newRequest_()},s=setTimeout(i,Math.floor(aQ)),a=function(){clearTimeout(s),i()};this.addTag(e,a)},t.prototype.addTag=function(e,n){var r=this;setTimeout(function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){var s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){Jt("Long-poll script failed to load: "+e),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lQ=16384,fQ=45e3,Gp=null;typeof MozWebSocket<"u"?Gp=MozWebSocket:typeof WebSocket<"u"&&(Gp=WebSocket);var Ys=function(){function t(e,n,r,i,s,a,c){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ch(this.connId),this.stats_=mE(n),this.connURL=t.connectionURL_(n,a,c,i),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(e,n,r,i){var s={};return s[Tx]=vE,typeof location<"u"&&location.hostname&&Cx.test(location.hostname)&&(s[Sx]=Ax),n&&(s[Ix]=n),r&&(s[Nx]=r),i&&(s[Eb]=i),Ox(e,kx,s)},t.prototype.open=function(e,n){var r=this;this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ta.set("previous_websocket_failure",!0);try{var i,s,a,c;if(!ax()){var s={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new Gp(this.connURL,[],s)}}catch(h){this.log_("Error instantiating WebSocket.");var l=h.message||h.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(h){r.handleIncomingFrame(h)},this.mySock.onerror=function(h){r.log_("WebSocket error.  Closing connection.");var d=h.message||h.data;d&&r.log_(d),r.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if(typeof navigator<"u"&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Gp!==null&&!t.forceDisallow_},t.previouslyFailed=function(){return ta.isInMemoryStorage||ta.get("previous_websocket_failure")===!0},t.prototype.markConnectionHealthy=function(){ta.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var n=this.frames.join("");this.frames=null;var r=Nf(n);this.onMessage(r)}},t.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},t.prototype.extractFrameCount_=function(e){if(Y(this.frames===null,"We already have a frame buffer"),e.length<=6){var n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e},t.prototype.handleIncomingFrame=function(e){if(this.mySock!==null){var n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{var r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}},t.prototype.send=function(e){this.resetKeepAlive();var n=qt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var r=wx(n,lQ);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(fQ))},t.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hQ=function(){function t(e){this.initTransports_(e)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[yE,Ys]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=Ys&&Ys.isAvailable(),s=i&&!Ys.previouslyFailed();if(e.webSocketOnly&&(i||pn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Ys];else{var a=this.transports_=[];try{for(var c=nn(t.ALL_TRANSPORTS),l=c.next();!l.done;l=c.next()){var h=l.value;h&&h.isAvailable()&&a.push(h)}}catch(d){n={error:d}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dQ=6e4,pQ=5e3,vQ=10*1024,gQ=100*1024,hw="t",tR="d",mQ="s",nR="r",yQ="e",rR="o",iR="a",oR="n",sR="p",_Q="h",Fx=function(){function t(e,n,r,i,s,a,c,l,h,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=c,this.onDisconnect_=l,this.onKill_=h,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ch("c:"+this.id+":"),this.transportManager_=new hQ(n),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var e=this,n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(r,i)},Math.floor(0));var s=n.healthyTimeout||0;s>0&&(this.healthyTimeout_=sf(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>gQ?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>vQ?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(s)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(e){var n=this;return function(r){e===n.conn_?n.onConnectionLost_(r):e===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},t.prototype.connReceiver_=function(e){var n=this;return function(r){n.state_!==2&&(e===n.rx_?n.onPrimaryMessageReceived_(r):e===n.secondaryConn_?n.onSecondaryMessageReceived_(r):n.log_("message on old connection"))}},t.prototype.sendRequest=function(e){var n={t:"d",d:e};this.sendData_(n)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(e){if(hw in e){var n=e[hw];n===iR?this.upgradeIfSecondaryHealthy_():n===nR?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===rR&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(e){var n=$l("t",e),r=$l("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:sR,d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:iR,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:oR,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(e){var n=$l("t",e),r=$l("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)},t.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(e){var n=$l(hw,e);if(tR in e){var r=e[tR];if(n===_Q)this.onHandshake_(r);else if(n===oR){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===mQ?this.onConnectionShutdown_(r):n===nR?this.onReset_(r):n===yQ?bb("Server Error: "+r):n===rR?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):bb("Unknown control packet command: "+n)}},t.prototype.onHandshake_=function(e){var n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),vE!==r&&pn("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},t.prototype.startUpgrade_=function(e){var n=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,i),sf(function(){n.secondaryConn_&&(n.log_("Timed out trying to upgrade."),n.secondaryConn_.close())},Math.floor(dQ))},t.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(e,n){var r=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):sf(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(pQ))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:sR,d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()},t.prototype.onConnectionLost_=function(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ta.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},t.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)},t.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ux=function(){function t(){}return t.prototype.put=function(e,n,r,i){},t.prototype.merge=function(e,n,r,i){},t.prototype.refreshAuthToken=function(e){},t.prototype.refreshAppCheckToken=function(e){},t.prototype.onDisconnectPut=function(e,n,r){},t.prototype.onDisconnectMerge=function(e,n,r){},t.prototype.onDisconnectCancel=function(e,n){},t.prototype.reportStats=function(e){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vx=function(){function t(e){this.allowedEvents_=e,this.listeners_={},Y(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.listeners_[e]))for(var i=xe([],hn(this.listeners_[e])),s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)},t.prototype.on=function(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});var i=this.getInitialEvent(e);i&&n.apply(r,i)},t.prototype.off=function(e,n,r){this.validateEventType_(e);for(var i=this.listeners_[e]||[],s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}},t.prototype.validateEventType_=function(e){Y(this.allowedEvents_.find(function(n){return n===e}),"Unknown event: "+e)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aR=function(t){re(e,t);function e(){var n=t.call(this,["online"])||this;return n.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!aE()&&(window.addEventListener("online",function(){n.online_||(n.online_=!0,n.trigger("online",!0))},!1),window.addEventListener("offline",function(){n.online_&&(n.online_=!1,n.trigger("online",!1))},!1)),n}return e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(n){return Y(n==="online","Unknown event type: "+n),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Vx);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uR=32,cR=768,et=function(){function t(e,n){if(n===void 0){this.pieces_=e.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}return t.prototype.toString=function(){for(var e="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"},t}();function Qe(){return new et("")}function Me(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function as(t){return t.pieces_.length-t.pieceNum_}function ut(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new et(t.pieces_,e)}function _E(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function wQ(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function kf(t,e){return e===void 0&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function jx(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new et(e,0)}function yt(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof et)for(var r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else for(var i=e.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new et(n,0)}function Fe(t){return t.pieceNum_>=t.pieces_.length}function $n(t,e){var n=Me(t),r=Me(e);if(n===null)return e;if(n===r)return $n(ut(t),ut(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function bQ(t,e){for(var n=kf(t,0),r=kf(e,0),i=0;i<n.length&&i<r.length;i++){var s=Ua(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function wE(t,e){if(as(t)!==as(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Dr(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(as(t)>as(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var EQ=function(){function t(e,n){this.errorPrefix_=n,this.parts_=kf(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=og(this.parts_[r]);Bx(this)}return t}();function TQ(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=og(e),Bx(t)}function IQ(t){var e=t.parts_.pop();t.byteLength_-=og(e),t.parts_.length>0&&(t.byteLength_-=1)}function Bx(t){if(t.byteLength_>cR)throw new Error(t.errorPrefix_+"has a key path longer than "+cR+" bytes ("+t.byteLength_+").");if(t.parts_.length>uR)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+uR+") or object contains a cycle "+Ks(t))}function Ks(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SQ=function(t){re(e,t);function e(){var n=t.call(this,["visible"])||this,r,i;return typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",r="webkitHidden")),n.visible_=!0,i&&document.addEventListener(i,function(){var s=!document[r];s!==n.visible_&&(n.visible_=s,n.trigger("visible",s))},!1),n}return e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(n){return Y(n==="visible","Unknown event type: "+n),[this.visible_]},e}(Vx);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ql=1e3,AQ=60*5*1e3,CQ=3*1e3,lR=30*1e3,NQ=1.3,kQ=3e4,RQ="server_kill",fR=3,da=function(t){re(e,t);function e(n,r,i,s,a,c,l,h){var d=t.call(this)||this;if(d.repoInfo_=n,d.applicationId_=r,d.onDataUpdate_=i,d.onConnectStatus_=s,d.onServerInfoUpdate_=a,d.authTokenProvider_=c,d.appCheckTokenProvider_=l,d.authOverride_=h,d.id=e.nextPersistentConnectionId_++,d.log_=ch("p:"+d.id+":"),d.interruptReasons_={},d.listens=new Map,d.outstandingPuts_=[],d.outstandingGets_=[],d.outstandingPutCount_=0,d.outstandingGetCount_=0,d.onDisconnectRequestQueue_=[],d.connected_=!1,d.reconnectDelay_=ql,d.maxReconnectDelay_=AQ,d.securityDebugCallback_=null,d.lastSessionId=null,d.establishConnectionTimer_=null,d.visible_=!1,d.requestCBHash_={},d.requestNumber_=0,d.realtime_=null,d.authToken_=null,d.appCheckToken_=null,d.forceTokenRefresh_=!1,d.invalidAuthTokenCount_=0,d.invalidAppCheckTokenCount_=0,d.firstConnection_=!0,d.lastConnectionAttemptTime_=null,d.lastConnectionEstablishedTime_=null,h&&!ax())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return SQ.getInstance().on("visible",d.onVisible_,d),n.host.indexOf("fblocal")===-1&&aR.getInstance().on("online",d.onOnline_,d),d}return e.prototype.sendRequest=function(n,r,i){var s=++this.requestNumber_,a={r:s,a:n,b:r};this.log_(qt(a)),Y(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[s]=i)},e.prototype.get=function(n){var r=this;this.initConnection_();var i=new en,s={p:n._path.toString(),q:n._queryObject},a={action:"g",request:s,onComplete:function(l){var h=l.d;l.s==="ok"?(r.onDataUpdate_(s.p,h,!1,null),i.resolve(h)):i.reject(h)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;var c=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var l=r.outstandingGets_[c];l===void 0||a!==l||(delete r.outstandingGets_[c],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),r.log_("get "+c+" timed out on connection"),i.reject(new Error("Client is offline.")))},CQ),this.connected_&&this.sendGet_(c),i.promise},e.prototype.listen=function(n,r,i,s){this.initConnection_();var a=n._queryIdentifier,c=n._path.toString();this.log_("Listen called for "+c+" "+a),this.listens.has(c)||this.listens.set(c,new Map),Y(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Y(!this.listens.get(c).has(a),"listen() called twice for same path/queryId.");var l={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(c).set(a,l),this.connected_&&this.sendListen_(l)},e.prototype.sendGet_=function(n){var r=this,i=this.outstandingGets_[n];this.sendRequest("g",i.request,function(s){delete r.outstandingGets_[n],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})},e.prototype.sendListen_=function(n){var r=this,i=n.query,s=i._path.toString(),a=i._queryIdentifier;this.log_("Listen on "+s+" for "+a);var c={p:s},l="q";n.tag&&(c.q=i._queryObject,c.t=n.tag),c.h=n.hashFn(),this.sendRequest(l,c,function(h){var d=h.d,v=h.s;e.warnOnListenWarnings_(d,i);var g=r.listens.get(s)&&r.listens.get(s).get(a);g===n&&(r.log_("listen response",h),v!=="ok"&&r.removeListen_(s,a),n.onComplete&&n.onComplete(v,d))})},e.warnOnListenWarnings_=function(n,r){if(n&&typeof n=="object"&&Tr(n,"w")){var i=Ta(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();pn("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+s+" at ")+(a+" to your security rules for better performance."))}}},e.prototype.refreshAuthToken=function(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(n)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(n){var r=n&&n.length===40;(r||G8(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=lR)},e.prototype.refreshAppCheckToken=function(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},e.prototype.tryAuth=function(){var n=this;if(this.connected_&&this.authToken_){var r=this.authToken_,i=W8(r)?"auth":"gauth",s={cred:r};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(i,s,function(a){var c=a.s,l=a.d||"error";n.authToken_===r&&(c==="ok"?n.invalidAuthTokenCount_=0:n.onAuthRevoked_(c,l))})}},e.prototype.tryAppCheck=function(){var n=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(r){var i=r.s,s=r.d||"error";i==="ok"?n.invalidAppCheckTokenCount_=0:n.onAppCheckRevoked_(i,s)})},e.prototype.unlisten=function(n,r){var i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),Y(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var a=this.removeListen_(i,s);a&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)},e.prototype.sendUnlisten_=function(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);var a={p:n},c="n";s&&(a.q=i,a.t=s),this.sendRequest(c,a)},e.prototype.onDisconnectPut=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})},e.prototype.onDisconnectMerge=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})},e.prototype.onDisconnectCancel=function(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})},e.prototype.sendOnDisconnect_=function(n,r,i,s){var a={p:r,d:i};this.log_("onDisconnect "+n,a),this.sendRequest(n,a,function(c){s&&setTimeout(function(){s(c.s,c.d)},Math.floor(0))})},e.prototype.put=function(n,r,i,s){this.putInternal("p",n,r,i,s)},e.prototype.merge=function(n,r,i,s){this.putInternal("m",n,r,i,s)},e.prototype.putInternal=function(n,r,i,s,a){this.initConnection_();var c={p:r,d:i};a!==void 0&&(c.h=a),this.outstandingPuts_.push({action:n,request:c,onComplete:s}),this.outstandingPutCount_++;var l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)},e.prototype.sendPut_=function(n){var r=this,i=this.outstandingPuts_[n].action,s=this.outstandingPuts_[n].request,a=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,s,function(c){r.log_(i+" response",c),delete r.outstandingPuts_[n],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),a&&a(c.s,c.d)})},e.prototype.reportStats=function(n){var r=this;if(this.connected_){var i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,function(s){var a=s.s;if(a!=="ok"){var c=s.d;r.log_("reportStats","Error sending stats: "+c)}})}},e.prototype.onDataMessage_=function(n){if("r"in n){this.log_("from server: "+qt(n));var r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}},e.prototype.onDataPush_=function(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):bb("Unrecognized action received from server: "+qt(n)+`
Are you using the latest client?`)},e.prototype.onReady_=function(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(n){var r=this;Y(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(n))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ql,this.realtime_||this.scheduleConnect_(0)),this.visible_=n},e.prototype.onOnline_=function(n){n?(this.log_("Browser went online."),this.reconnectDelay_=ql,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var n=new Date().getTime()-this.lastConnectionEstablishedTime_;n>kQ&&(this.reconnectDelay_=ql),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-r);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*NQ)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return N(this,void 0,void 0,function(){var n,r,i,s,a,c,l,h,d,v,g,y,w,E,T=this;return C(this,function(A){switch(A.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null,n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+e.nextConnectionId_++,a=this.lastSessionId,c=!1,l=null,h=function(){l?l.close():(c=!0,i())},d=function(O){Y(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(O)},this.realtime_={close:h,sendRequest:d},v=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,A.label=1;case 1:return A.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)])];case 2:return g=hn.apply(void 0,[A.sent(),2]),y=g[0],w=g[1],c?Jt("getToken() completed but was canceled"):(Jt("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=w&&w.token,l=new Fx(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,function(O){pn(O+" ("+T.repoInfo_.toString()+")"),T.interrupt(RQ)},a)),[3,4];case 3:return E=A.sent(),this.log_("Failed to get token: "+E),c||(this.repoInfo_.nodeAdmin&&pn(E),h()),[3,4];case 4:return[2]}})})},e.prototype.interrupt=function(n){Jt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(n){Jt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],yb(this.interruptReasons_)&&(this.reconnectDelay_=ql,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(n){var r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},e.prototype.cancelSentTransactions_=function(){for(var n=0;n<this.outstandingPuts_.length;n++){var r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(n,r){var i;r?i=r.map(function(a){return dE(a)}).join("$"):i="default";var s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")},e.prototype.removeListen_=function(n,r){var i=new et(n).toString(),s;if(this.listens.has(i)){var a=this.listens.get(i);s=a.get(r),a.delete(r),a.size===0&&this.listens.delete(i)}else s=void 0;return s},e.prototype.onAuthRevoked_=function(n,r){Jt("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=fR&&(this.reconnectDelay_=lR,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(n,r){Jt("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=fR&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))},e.prototype.restoreState_=function(){var n,r,i,s;this.tryAuth(),this.tryAppCheck();try{for(var a=nn(this.listens.values()),c=a.next();!c.done;c=a.next()){var l=c.value;try{for(var h=(i=void 0,nn(l.values())),d=h.next();!d.done;d=h.next()){var v=d.value;this.sendListen_(v)}}catch(w){i={error:w}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}}}catch(w){n={error:w}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}for(var g=0;g<this.outstandingPuts_.length;g++)this.outstandingPuts_[g]&&this.sendPut_(g);for(;this.onDisconnectRequestQueue_.length;){var y=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(y.action,y.pathString,y.data,y.onComplete)}for(var g=0;g<this.outstandingGets_.length;g++)this.outstandingGets_[g]&&this.sendGet_(g)},e.prototype.sendConnectStats_=function(){var n={},r="js";n["sdk."+r+"."+px.replace(/\./g,"-")]=1,aE()?n["framework.cordova"]=1:sx()&&(n["framework.reactnative"]=1),this.reportStats(n)},e.prototype.shouldReconnect_=function(){var n=aR.getInstance().currentlyOnline();return yb(this.interruptReasons_)&&n},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(Ux);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He=function(){function t(e,n){this.name=e,this.node=n}return t.Wrap=function(e,n){return new t(e,n)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ag=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(e,n){var r=new He(go,e),i=new He(go,n);return this.compare(r,i)!==0},t.prototype.minPost=function(){return He.MIN},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zd,$x=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return Zd},set:function(n){Zd=n},enumerable:!1,configurable:!0}),e.prototype.compare=function(n,r){return Ua(n.name,r.name)},e.prototype.isDefinedOn=function(n){throw Uc("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(n,r){return!1},e.prototype.minPost=function(){return He.MIN},e.prototype.maxPost=function(){return new He(qi,Zd)},e.prototype.makePost=function(n,r){return Y(typeof n=="string","KeyIndex indexValue must always be a string."),new He(n,Zd)},e.prototype.toString=function(){return".key"},e}(ag),xi=new $x;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ep=function(){function t(e,n,r,i,s){s===void 0&&(s=null),this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];for(var a=1;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}return t.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},t}(),ri=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??oo.EMPTY_NODE,this.right=s??oo.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,n,r){var i=this,s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return oo.EMPTY_NODE;var e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()},t.prototype.remove=function(e,n){var r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return oo.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},t.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e},t.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),OQ=function(){function t(){}return t.prototype.copy=function(e,n,r,i,s){return this},t.prototype.insert=function(e,n,r){return new ri(e,n,null)},t.prototype.remove=function(e,n){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),oo=function(){function t(e,n){n===void 0&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ri.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ri.BLACK,null,null))},t.prototype.get=function(e){for(var n,r=this.root_;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null},t.prototype.getPredecessorKey=function(e){for(var n,r=this.root_,i=null;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},t.prototype.getIterator=function(e){return new ep(this.root_,null,this.comparator_,!1,e)},t.prototype.getIteratorFrom=function(e,n){return new ep(this.root_,e,this.comparator_,!1,n)},t.prototype.getReverseIteratorFrom=function(e,n){return new ep(this.root_,e,this.comparator_,!0,n)},t.prototype.getReverseIterator=function(e){return new ep(this.root_,null,this.comparator_,!0,e)},t.EMPTY_NODE=new OQ,t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DQ(t,e){return Ua(t.name,e.name)}function bE(t,e){return Ua(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tb;function PQ(t){Tb=t}var qx=function(t){return typeof t=="number"?"number:"+bx(t):"string:"+t},Hx=function(t){if(t.isLeafNode()){var e=t.val();Y(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Tr(e,".sv"),"Priority must be a string or number.")}else Y(t===Tb||t.isEmpty(),"priority of unexpected type.");Y(t===Tb||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hR,oc=function(){function t(e,n){n===void 0&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Y(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Hx(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return hR},set:function(e){hR=e},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return e===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return Fe(e)?this:Me(e)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(e,n){return null},t.prototype.updateImmediateChild=function(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=Me(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Y(r!==".priority"||as(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ut(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(e,n){return!1},t.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(this.lazyHash_===null){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+qx(this.priorityNode_.val())+":");var n=typeof this.value_;e+=n+":",n==="number"?e+=bx(this.value_):e+=this.value_,this.lazyHash_=yx(e)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Y(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(r);return Y(i>=0,"Unknown leaf type: "+n),Y(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kx,Wx;function xQ(t){Kx=t}function LQ(t){Wx=t}var MQ=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.compare=function(n,r){var i=n.node.getPriority(),s=r.node.getPriority(),a=i.compareTo(s);return a===0?Ua(n.name,r.name):a},e.prototype.isDefinedOn=function(n){return!n.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(n,r){return!n.getPriority().equals(r.getPriority())},e.prototype.minPost=function(){return He.MIN},e.prototype.maxPost=function(){return new He(qi,new oc("[PRIORITY-POST]",Wx))},e.prototype.makePost=function(n,r){var i=Kx(n);return new He(r,new oc("[PRIORITY-POST]",i))},e.prototype.toString=function(){return".priority"},e}(ag),ft=new MQ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FQ=Math.log(2),UQ=function(){function t(e){var n=function(s){return parseInt(Math.log(s)/FQ,10)},r=function(s){return parseInt(Array(s+1).join("1"),2)};this.count=n(e+1),this.current_=this.count-1;var i=r(this.count);this.bits_=e+1&i}return t.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},t}(),zp=function(t,e,n,r){t.sort(e);var i=function(l,h){var d=h-l,v,g;if(d===0)return null;if(d===1)return v=t[l],g=n?n(v):v,new ri(g,v.node,ri.BLACK,null,null);var y=parseInt(d/2,10)+l,w=i(l,y),E=i(y+1,h);return v=t[y],g=n?n(v):v,new ri(g,v.node,ri.BLACK,w,E)},s=function(l){for(var h=null,d=null,v=t.length,g=function(A,O){var P=v-A,x=v;v-=A;var B=i(P+1,x),M=t[P],ie=n?n(M):M;y(new ri(ie,M.node,O,null,B))},y=function(A){h?(h.left=A,h=A):(d=A,h=A)},w=0;w<l.count;++w){var E=l.nextBitIsOne(),T=Math.pow(2,l.count-(w+1));E?g(T,ri.BLACK):(g(T,ri.BLACK),g(T,ri.RED))}return d},a=new UQ(t.length),c=s(a);return new oo(r||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dw,Eu={},Yp=function(){function t(e,n){this.indexes_=e,this.indexSet_=n}return Object.defineProperty(t,"Default",{get:function(){return Y(Eu&&ft,"ChildrenNode.ts has not been loaded"),dw=dw||new t({".priority":Eu},{".priority":ft}),dw},enumerable:!1,configurable:!0}),t.prototype.get=function(e){var n=Ta(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof oo?n:null},t.prototype.hasIndex=function(e){return Tr(this.indexSet_,e.toString())},t.prototype.addIndex=function(e,n){Y(e!==xi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,s=n.getIterator(He.Wrap),a=s.getNext();a;)i=i||e.isDefinedOn(a.node),r.push(a),a=s.getNext();var c;i?c=zp(r,e.getCompare()):c=Eu;var l=e.toString(),h=ye({},this.indexSet_);h[l]=e;var d=ye({},this.indexes_);return d[l]=c,new t(d,h)},t.prototype.addToIndexes=function(e,n){var r=this,i=Hp(this.indexes_,function(s,a){var c=Ta(r.indexSet_,a);if(Y(c,"Missing index implementation for "+a),s===Eu)if(c.isDefinedOn(e.node)){for(var l=[],h=n.getIterator(He.Wrap),d=h.getNext();d;)d.name!==e.name&&l.push(d),d=h.getNext();return l.push(e),zp(l,c.getCompare())}else return Eu;else{var v=n.get(e.name),g=s;return v&&(g=g.remove(new He(e.name,v))),g.insert(e,e.node)}});return new t(i,this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){var r=Hp(this.indexes_,function(i){if(i===Eu)return i;var s=n.get(e.name);return s?i.remove(new He(e.name,s)):i});return new t(r,this.indexSet_)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hl,Ne=function(){function t(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Hx(this.priorityNode_),this.children_.isEmpty()&&Y(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Hl||(Hl=new t(new oo(bE),null,Yp.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Hl},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(e){if(e===".priority")return this.getPriority();var n=this.children_.get(e);return n===null?Hl:n},t.prototype.getChild=function(e){var n=Me(e);return n===null?this:this.getImmediateChild(n).getChild(ut(e))},t.prototype.hasChild=function(e){return this.children_.get(e)!==null},t.prototype.updateImmediateChild=function(e,n){if(Y(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);var r=new He(e,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?Hl:this.priorityNode_;return new t(i,a,s)},t.prototype.updateChild=function(e,n){var r=Me(e);if(r===null)return n;Y(Me(e)!==".priority"||as(e)===1,".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(ut(e),n);return this.updateImmediateChild(r,i)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,s=!0;if(this.forEachChild(ft,function(l,h){n[l]=h.val(e),r++,s&&t.INTEGER_REGEXP_.test(l)?i=Math.max(i,Number(l)):s=!1}),!e&&s&&i<2*r){var a=[];for(var c in n)a[c]=n[c];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(this.lazyHash_===null){var e="";this.getPriority().isEmpty()||(e+="priority:"+qx(this.getPriority().val())+":"),this.forEachChild(ft,function(n,r){var i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":yx(e)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(e,n,r){var i=this.resolveIndex_(r);if(i){var s=i.getPredecessorKey(new He(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)},t.prototype.getFirstChildName=function(e){var n=this.resolveIndex_(e);if(n){var r=n.minKey();return r&&r.name}else return this.children_.minKey()},t.prototype.getFirstChild=function(e){var n=this.getFirstChildName(e);return n?new He(n,this.children_.get(n)):null},t.prototype.getLastChildName=function(e){var n=this.resolveIndex_(e);if(n){var r=n.maxKey();return r&&r.name}else return this.children_.maxKey()},t.prototype.getLastChild=function(e){var n=this.getLastChildName(e);return n?new He(n,this.children_.get(n)):null},t.prototype.forEachChild=function(e,n){var r=this.resolveIndex_(e);return r?r.inorderTraversal(function(i){return n(i.name,i.node)}):this.children_.inorderTraversal(n)},t.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},t.prototype.getIteratorFrom=function(e,n){var r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,function(a){return a});for(var i=this.children_.getIteratorFrom(e.name,He.Wrap),s=i.peek();s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i},t.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},t.prototype.getReverseIteratorFrom=function(e,n){var r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,function(a){return a});for(var i=this.children_.getReverseIteratorFrom(e.name,He.Wrap),s=i.peek();s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i},t.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===lh?-1:0},t.prototype.withIndex=function(e){if(e===xi||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(e){return e===xi||this.indexMap_.hasIndex(e)},t.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){for(var r=this.getIterator(ft),i=n.getIterator(ft),s=r.getNext(),a=i.getNext();s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1},t.prototype.resolveIndex_=function(e){return e===xi?null:this.indexMap_.get(e.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),VQ=function(t){re(e,t);function e(){return t.call(this,new oo(bE),Ne.EMPTY_NODE,Yp.Default)||this}return e.prototype.compareTo=function(n){return n===this?0:1},e.prototype.equals=function(n){return n===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(n){return Ne.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Ne),lh=new VQ;Object.defineProperties(He,{MIN:{value:new He(go,Ne.EMPTY_NODE)},MAX:{value:new He(qi,lh)}});$x.__EMPTY_NODE=Ne.EMPTY_NODE;oc.__childrenNodeConstructor=Ne;PQ(lh);LQ(lh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jQ=!0;function Et(t,e){if(e===void 0&&(e=null),t===null)return Ne.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Y(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){var n=t;return new oc(n,Et(e))}if(!(t instanceof Array)&&jQ){var r=[],i=!1,s=t;if(Gt(s,function(h,d){if(h.substring(0,1)!=="."){var v=Et(d);v.isEmpty()||(i=i||!v.getPriority().isEmpty(),r.push(new He(h,v)))}}),r.length===0)return Ne.EMPTY_NODE;var a=zp(r,DQ,function(h){return h.name},bE);if(i){var c=zp(r,ft.getCompare());return new Ne(a,Et(e),new Yp({".priority":c},{".priority":ft}))}else return new Ne(a,Et(e),Yp.Default)}else{var l=Ne.EMPTY_NODE;return Gt(t,function(h,d){if(Tr(t,h)&&h.substring(0,1)!=="."){var v=Et(d);(v.isLeafNode()||!v.isEmpty())&&(l=l.updateImmediateChild(h,v))}}),l.updatePriority(Et(e))}}xQ(Et);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EE=function(t){re(e,t);function e(n){var r=t.call(this)||this;return r.indexPath_=n,Y(!Fe(n)&&Me(n)!==".priority","Can't create PathIndex with empty path or .priority key"),r}return e.prototype.extractChild=function(n){return n.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(n){return!n.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(n,r){var i=this.extractChild(n.node),s=this.extractChild(r.node),a=i.compareTo(s);return a===0?Ua(n.name,r.name):a},e.prototype.makePost=function(n,r){var i=Et(n),s=Ne.EMPTY_NODE.updateChild(this.indexPath_,i);return new He(r,s)},e.prototype.maxPost=function(){var n=Ne.EMPTY_NODE.updateChild(this.indexPath_,lh);return new He(qi,n)},e.prototype.toString=function(){return kf(this.indexPath_,0).join("/")},e}(ag);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BQ=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.compare=function(n,r){var i=n.node.compareTo(r.node);return i===0?Ua(n.name,r.name):i},e.prototype.isDefinedOn=function(n){return!0},e.prototype.indexedValueChanged=function(n,r){return!n.equals(r)},e.prototype.minPost=function(){return He.MIN},e.prototype.maxPost=function(){return He.MAX},e.prototype.makePost=function(n,r){var i=Et(n);return new He(r,i)},e.prototype.toString=function(){return".value"},e}(ag),TE=new BQ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Ib="-",Gx="z",zx=786,$Q=function(){var t=0,e=[];return function(n){var r=n===t;t=n;var i,s=new Array(8);for(i=7;i>=0;i--)s[i]=sc.charAt(n%64),n=Math.floor(n/64);Y(n===0,"Cannot push at time == 0");var a=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=sc.charAt(e[i]);return Y(a.length===20,"nextPushId: Length should be 20."),a}}(),dR=function(t){if(t===""+pE)return Ib;var e=Wp(t);if(e!=null)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<zx)return n.push(Ib),n.join("");for(var i=n.length-1;i>=0&&n[i]===Gx;)i--;if(i===-1)return qi;var s=n[i],a=sc.charAt(sc.indexOf(s)+1);return n[i]=a,n.slice(0,i+1).join("")},pR=function(t){if(t===""+Ex)return go;var e=Wp(t);if(e!=null)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return n[n.length-1]===Ib?n.length===1?""+pE:(delete n[n.length-1],n.join("")):(n[n.length-1]=sc.charAt(sc.indexOf(n[n.length-1])-1),n.join("")+Gx.repeat(zx-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(t){return{type:"value",snapshotNode:t}}function ac(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Rf(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Of(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function qQ(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IE=function(){function t(e){this.index_=e}return t.prototype.updateChild=function(e,n,r,i,s,a){Y(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var c=e.getImmediateChild(n);return c.getChild(i).equals(r.getChild(i))&&c.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(n)?a.trackChildChange(Rf(n,c)):Y(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?a.trackChildChange(ac(n,r)):a.trackChildChange(Of(n,r,c))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)},t.prototype.updateFullNode=function(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ft,function(i,s){n.hasChild(i)||r.trackChildChange(Rf(i,s))}),n.isLeafNode()||n.forEachChild(ft,function(i,s){if(e.hasChild(i)){var a=e.getImmediateChild(i);a.equals(s)||r.trackChildChange(Of(i,s,a))}else r.trackChildChange(ac(i,s))})),n.withIndex(this.index_)},t.prototype.updatePriority=function(e,n){return e.isEmpty()?Ne.EMPTY_NODE:e.updatePriority(n)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qx=function(){function t(e){this.indexedFilter_=new IE(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},t.prototype.updateChild=function(e,n,r,i,s,a){return this.matches(new He(n,r))||(r=Ne.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,a)},t.prototype.updateFullNode=function(e,n,r){n.isLeafNode()&&(n=Ne.EMPTY_NODE);var i=n.withIndex(this.index_);i=i.updatePriority(Ne.EMPTY_NODE);var s=this;return n.forEachChild(ft,function(a,c){s.matches(new He(a,c))||(i=i.updateImmediateChild(a,Ne.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)},t.prototype.updatePriority=function(e,n){return e},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(e){if(e.hasStart()){var n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()},t.getEndPost_=function(e){if(e.hasEnd()){var n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HQ=function(){function t(e){this.rangedFilter_=new Qx(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return t.prototype.updateChild=function(e,n,r,i,s,a){return this.rangedFilter_.matches(new He(n,r))||(r=Ne.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,a):this.fullLimitUpdateChild_(e,n,r,s,a)},t.prototype.updateFullNode=function(e,n,r){var i;if(n.isLeafNode()||n.isEmpty())i=Ne.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Ne.EMPTY_NODE.withIndex(this.index_);var s=void 0;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;s.hasNext()&&a<this.limit_;){var c=s.getNext(),l=void 0;if(this.reverse_?l=this.index_.compare(this.rangedFilter_.getStartPost(),c)<=0:l=this.index_.compare(c,this.rangedFilter_.getEndPost())<=0,l)i=i.updateImmediateChild(c.name,c.node),a++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(Ne.EMPTY_NODE);var h=void 0,d=void 0,v=void 0,s=void 0;if(this.reverse_){s=i.getReverseIterator(this.index_),h=this.rangedFilter_.getEndPost(),d=this.rangedFilter_.getStartPost();var g=this.index_.getCompare();v=function(T,A){return g(A,T)}}else s=i.getIterator(this.index_),h=this.rangedFilter_.getStartPost(),d=this.rangedFilter_.getEndPost(),v=this.index_.getCompare();for(var a=0,y=!1;s.hasNext();){var c=s.getNext();!y&&v(h,c)<=0&&(y=!0);var l=y&&a<this.limit_&&v(c,d)<=0;l?a++:i=i.updateImmediateChild(c.name,Ne.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)},t.prototype.updatePriority=function(e,n){return e},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(e,n,r,i,s){var a;if(this.reverse_){var c=this.index_.getCompare();a=function(O,P){return c(P,O)}}else a=this.index_.getCompare();var l=e;Y(l.numChildren()===this.limit_,"");var h=new He(n,r),d=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),v=this.rangedFilter_.matches(h);if(l.hasChild(n)){for(var g=l.getImmediateChild(n),y=i.getChildAfterChild(this.index_,d,this.reverse_);y!=null&&(y.name===n||l.hasChild(y.name));)y=i.getChildAfterChild(this.index_,y,this.reverse_);var w=y==null?1:a(y,h),E=v&&!r.isEmpty()&&w>=0;if(E)return s!=null&&s.trackChildChange(Of(n,r,g)),l.updateImmediateChild(n,r);s!=null&&s.trackChildChange(Rf(n,g));var T=l.updateImmediateChild(n,Ne.EMPTY_NODE),A=y!=null&&this.rangedFilter_.matches(y);return A?(s!=null&&s.trackChildChange(ac(y.name,y.node)),T.updateImmediateChild(y.name,y.node)):T}else return r.isEmpty()?e:v&&a(d,h)>=0?(s!=null&&(s.trackChildChange(Rf(d.name,d.node)),s.trackChildChange(ac(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(d.name,Ne.EMPTY_NODE)):e},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xx=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ft}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"},t.prototype.getIndexStartValue=function(){return Y(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Y(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:go},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Y(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Y(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:qi},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},t.prototype.getLimit=function(){return Y(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===ft},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function KQ(t){return t.loadsAllData()?new IE(t.getIndex()):t.hasLimit()?new HQ(t):new Qx(t)}function WQ(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function GQ(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function Sb(t,e,n){var r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function zQ(t,e,n){var r;if(t.index_===xi)typeof e=="string"&&(e=dR(e)),r=Sb(t,e,n);else{var i=void 0;n==null?i=qi:i=dR(n),r=Sb(t,e,i)}return r.startAfterSet_=!0,r}function Ab(t,e,n){var r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function YQ(t,e,n){var r,i;return t.index_===xi?(typeof e=="string"&&(e=pR(e)),i=Ab(t,e,n)):(n==null?r=go:r=pR(n),i=Ab(t,e,r)),i.endBeforeSet_=!0,i}function ug(t,e){var n=t.copy();return n.index_=e,n}function vR(t){var e={};if(t.isDefault())return e;var n;return t.index_===ft?n="$priority":t.index_===TE?n="$value":t.index_===xi?n="$key":(Y(t.index_ instanceof EE,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=qt(n),t.startSet_&&(e.startAt=qt(t.indexStartValue_),t.startNameSet_&&(e.startAt+=","+qt(t.indexStartName_))),t.endSet_&&(e.endAt=qt(t.indexEndValue_),t.endNameSet_&&(e.endAt+=","+qt(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function gR(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ft&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QQ=function(t){re(e,t);function e(n,r,i,s){var a=t.call(this)||this;return a.repoInfo_=n,a.onDataUpdate_=r,a.authTokenProvider_=i,a.appCheckTokenProvider_=s,a.log_=ch("p:rest:"),a.listens_={},a}return e.prototype.reportStats=function(n){throw new Error("Method not implemented.")},e.getListenId_=function(n,r){return r!==void 0?"tag$"+r:(Y(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())},e.prototype.listen=function(n,r,i,s){var a=this,c=n._path.toString();this.log_("Listen called for "+c+" "+n._queryIdentifier);var l=e.getListenId_(n,i),h={};this.listens_[l]=h;var d=vR(n._queryParams);this.restRequest_(c+".json",d,function(v,g){var y=g;if(v===404&&(y=null,v=null),v===null&&a.onDataUpdate_(c,y,!1,i),Ta(a.listens_,l)===h){var w;v?v===401?w="permission_denied":w="rest_error:"+v:w="ok",s(w,null)}})},e.prototype.unlisten=function(n,r){var i=e.getListenId_(n,r);delete this.listens_[i]},e.prototype.get=function(n){var r=this,i=vR(n._queryParams),s=n._path.toString(),a=new en;return this.restRequest_(s+".json",i,function(c,l){var h=l;c===404&&(h=null,c=null),c===null?(r.onDataUpdate_(s,h,!1,null),a.resolve(h)):a.reject(new Error(h))}),a.promise},e.prototype.refreshAuthToken=function(n){},e.prototype.restRequest_=function(n,r,i){var s=this;return r===void 0&&(r={}),r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(a){var c=hn(a,2),l=c[0],h=c[1];l&&l.accessToken&&(r.auth=l.accessToken),h&&h.token&&(r.ac=h.token);var d=(s.repoInfo_.secure?"https://":"http://")+s.repoInfo_.host+n+"?ns="+s.repoInfo_.namespace+z8(r);s.log_("Sending REST request for "+d);var v=new XMLHttpRequest;v.onreadystatechange=function(){if(i&&v.readyState===4){s.log_("REST Response for "+d+" received. status:",v.status,"response:",v.responseText);var g=null;if(v.status>=200&&v.status<300){try{g=Nf(v.responseText)}catch{pn("Failed to parse JSON response for "+d+": "+v.responseText)}i(null,g)}else v.status!==401&&v.status!==404&&pn("Got unsuccessful REST response for "+d+" Status: "+v.status),i(v.status);i=null}},v.open("GET",d,!0),v.send()})},e}(Ux);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XQ=function(){function t(){this.rootNode_=Ne.EMPTY_NODE}return t.prototype.getNode=function(e){return this.rootNode_.getChild(e)},t.prototype.updateSnapshot=function(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(){return{value:null,children:new Map}}function Bc(t,e,n){if(Fe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{var r=Me(e);t.children.has(r)||t.children.set(r,Qp());var i=t.children.get(r);e=ut(e),Bc(i,e,n)}}function Cb(t,e){if(Fe(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;var n=t.value;return t.value=null,n.forEachChild(ft,function(s,a){Bc(t,new et(s),a)}),Cb(t,e)}else if(t.children.size>0){var r=Me(e);if(e=ut(e),t.children.has(r)){var i=Cb(t.children.get(r),e);i&&t.children.delete(r)}return t.children.size===0}else return!0}function Nb(t,e,n){t.value!==null?n(e,t.value):JQ(t,function(r,i){var s=new et(e.toString()+"/"+r);Nb(i,s,n)})}function JQ(t,e){t.children.forEach(function(n,r){e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jx=function(){function t(e){this.collection_=e,this.last_=null}return t.prototype.get=function(){var e=this.collection_.get(),n=ye({},e);return this.last_&&Gt(this.last_,function(r,i){n[r]=n[r]-i}),this.last_=e,n},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mR=10*1e3,ZQ=30*1e3,e9=5*60*1e3,t9=function(){function t(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Jx(e);var r=mR+(ZQ-mR)*Math.random();sf(this.reportStats_.bind(this),Math.floor(r))}return t.prototype.reportStats_=function(){var e=this,n=this.statsListener_.get(),r={},i=!1;Gt(n,function(s,a){a>0&&Tr(e.statsToReport_,s)&&(r[s]=a,i=!0)}),i&&this.server_.reportStats(r),sf(this.reportStats_.bind(this),Math.floor(Math.random()*2*e9))},t}();function n9(t,e){t.statsToReport_[e]=!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ai;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ai||(ai={}));function SE(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function AE(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function CE(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r9=function(){function t(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=ai.ACK_USER_WRITE,this.source=SE()}return t.prototype.operationForChild=function(e){if(Fe(this.path)){if(this.affectedTree.value!=null)return Y(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new et(e));return new t(Qe(),n,this.revert)}else return Y(Me(this.path)===e,"operationForChild called for unrelated child."),new t(ut(this.path),this.affectedTree,this.revert)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zx=function(){function t(e,n){this.source=e,this.path=n,this.type=ai.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return Fe(this.path)?new t(this.source,Qe()):new t(this.source,ut(this.path))},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cg=function(){function t(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=ai.OVERWRITE}return t.prototype.operationForChild=function(e){return Fe(this.path)?new t(this.source,Qe(),this.snap.getImmediateChild(e)):new t(this.source,ut(this.path),this.snap)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NE=function(){function t(e,n,r){this.source=e,this.path=n,this.children=r,this.type=ai.MERGE}return t.prototype.operationForChild=function(e){if(Fe(this.path)){var n=this.children.subtree(new et(e));return n.isEmpty()?null:n.value?new cg(this.source,Qe(),n.value):new t(this.source,Qe(),n)}else return Y(Me(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,ut(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var us=function(){function t(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(e){if(Fe(e))return this.isFullyInitialized()&&!this.filtered_;var n=Me(e);return this.isCompleteForChild(n)},t.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},t.prototype.getNode=function(){return this.node_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i9=function(){function t(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}return t}();function o9(t,e,n,r){var i=[],s=[];return e.forEach(function(a){a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(qQ(a.childName,a.snapshotNode))}),Kl(t,i,"child_removed",e,r,n),Kl(t,i,"child_added",e,r,n),Kl(t,i,"child_moved",s,r,n),Kl(t,i,"child_changed",e,r,n),Kl(t,i,"value",e,r,n),i}function Kl(t,e,n,r,i,s){var a=r.filter(function(c){return c.type===n});a.sort(function(c,l){return a9(t,c,l)}),a.forEach(function(c){var l=s9(t,c,s);i.forEach(function(h){h.respondsTo(c.type)&&e.push(h.createEvent(l,t.query_))})})}function s9(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function a9(t,e,n){if(e.childName==null||n.childName==null)throw Uc("Should only compare child_ events.");var r=new He(e.childName,e.snapshotNode),i=new He(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(t,e){return{eventCache:t,serverCache:e}}function uf(t,e,n,r){return lg(new us(e,n,r),t.serverCache)}function eL(t,e,n,r){return lg(t.eventCache,new us(e,n,r))}function Xp(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ia(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pw,u9=function(){return pw||(pw=new oo(VY)),pw},Ir=function(){function t(e,n){n===void 0&&(n=u9()),this.value=e,this.children=n}return t.fromObject=function(e){var n=new t(null);return Gt(e,function(r,i){n=n.set(new et(r),i)}),n},t.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(e,n){if(this.value!=null&&n(this.value))return{path:Qe(),value:this.value};if(Fe(e))return null;var r=Me(e),i=this.children.get(r);if(i!==null){var s=i.findRootMostMatchingPathAndValue(ut(e),n);if(s!=null){var a=yt(new et(r),s.path);return{path:a,value:s.value}}else return null}else return null},t.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},t.prototype.subtree=function(e){if(Fe(e))return this;var n=Me(e),r=this.children.get(n);return r!==null?r.subtree(ut(e)):new t(null)},t.prototype.set=function(e,n){if(Fe(e))return new t(n,this.children);var r=Me(e),i=this.children.get(r)||new t(null),s=i.set(ut(e),n),a=this.children.insert(r,s);return new t(this.value,a)},t.prototype.remove=function(e){if(Fe(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=Me(e),r=this.children.get(n);if(r){var i=r.remove(ut(e)),s=void 0;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new t(null):new t(this.value,s)}else return this},t.prototype.get=function(e){if(Fe(e))return this.value;var n=Me(e),r=this.children.get(n);return r?r.get(ut(e)):null},t.prototype.setTree=function(e,n){if(Fe(e))return n;var r=Me(e),i=this.children.get(r)||new t(null),s=i.setTree(ut(e),n),a=void 0;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new t(this.value,a)},t.prototype.fold=function(e){return this.fold_(Qe(),e)},t.prototype.fold_=function(e,n){var r={};return this.children.inorderTraversal(function(i,s){r[i]=s.fold_(yt(e,i),n)}),n(e,this.value,r)},t.prototype.findOnPath=function(e,n){return this.findOnPath_(e,Qe(),n)},t.prototype.findOnPath_=function(e,n,r){var i=this.value?r(n,this.value):!1;if(i)return i;if(Fe(e))return null;var s=Me(e),a=this.children.get(s);return a?a.findOnPath_(ut(e),yt(n,s),r):null},t.prototype.foreachOnPath=function(e,n){return this.foreachOnPath_(e,Qe(),n)},t.prototype.foreachOnPath_=function(e,n,r){if(Fe(e))return this;this.value&&r(n,this.value);var i=Me(e),s=this.children.get(i);return s?s.foreachOnPath_(ut(e),yt(n,i),r):new t(null)},t.prototype.foreach=function(e){this.foreach_(Qe(),e)},t.prototype.foreach_=function(e,n){this.children.inorderTraversal(function(r,i){i.foreach_(yt(e,r),n)}),this.value&&n(e,this.value)},t.prototype.foreachChild=function(e){this.children.inorderTraversal(function(n,r){r.value&&e(n,r.value)})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fo=function(){function t(e){this.writeTree_=e}return t.empty=function(){return new t(new Ir(null))},t}();function cf(t,e,n){if(Fe(e))return new fo(new Ir(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){var i=r.path,s=r.value,a=$n(i,e);return s=s.updateChild(a,n),new fo(t.writeTree_.set(i,s))}else{var c=new Ir(n),l=t.writeTree_.setTree(e,c);return new fo(l)}}function kb(t,e,n){var r=t;return Gt(n,function(i,s){r=cf(r,yt(e,i),s)}),r}function yR(t,e){if(Fe(e))return fo.empty();var n=t.writeTree_.setTree(e,new Ir(null));return new fo(n)}function Rb(t,e){return Va(t,e)!=null}function Va(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild($n(n.path,e)):null}function _R(t){var e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ft,function(r,i){e.push(new He(r,i))}):t.writeTree_.children.inorderTraversal(function(r,i){i.value!=null&&e.push(new He(r,i.value))}),e}function Jo(t,e){if(Fe(e))return t;var n=Va(t,e);return n!=null?new fo(new Ir(n)):new fo(t.writeTree_.subtree(e))}function Ob(t){return t.writeTree_.isEmpty()}function uc(t,e){return tL(Qe(),t.writeTree_,e)}function tL(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal(function(i,s){i===".priority"?(Y(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=tL(yt(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(yt(t,".priority"),r)),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(t,e){return oL(e,t)}function c9(t,e,n,r,i){Y(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=cf(t.visibleWrites,e,n)),t.lastWriteId=r}function l9(t,e,n,r){Y(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=kb(t.visibleWrites,e,n),t.lastWriteId=r}function f9(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}function h9(t,e){var n=t.allWrites.findIndex(function(h){return h.writeId===e});Y(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var i=r.visible,s=!1,a=t.allWrites.length-1;i&&a>=0;){var c=t.allWrites[a];c.visible&&(a>=n&&d9(c,r.path)?i=!1:Dr(r.path,c.path)&&(s=!0)),a--}if(i){if(s)return p9(t),!0;if(r.snap)t.visibleWrites=yR(t.visibleWrites,r.path);else{var l=r.children;Gt(l,function(h){t.visibleWrites=yR(t.visibleWrites,yt(r.path,h))})}return!0}else return!1}function d9(t,e){if(t.snap)return Dr(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&Dr(yt(t.path,n),e))return!0;return!1}function p9(t){t.visibleWrites=nL(t.allWrites,v9,Qe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function v9(t){return t.visible}function nL(t,e,n){for(var r=fo.empty(),i=0;i<t.length;++i){var s=t[i];if(e(s)){var a=s.path,c=void 0;if(s.snap)Dr(n,a)?(c=$n(n,a),r=cf(r,c,s.snap)):Dr(a,n)&&(c=$n(a,n),r=cf(r,Qe(),s.snap.getChild(c)));else if(s.children){if(Dr(n,a))c=$n(n,a),r=kb(r,c,s.children);else if(Dr(a,n))if(c=$n(a,n),Fe(c))r=kb(r,Qe(),s.children);else{var l=Ta(s.children,Me(c));if(l){var h=l.getChild(ut(c));r=cf(r,Qe(),h)}}}else throw Uc("WriteRecord should have .snap or .children")}}return r}function rL(t,e,n,r,i){if(!r&&!i){var s=Va(t.visibleWrites,e);if(s!=null)return s;var a=Jo(t.visibleWrites,e);if(Ob(a))return n;if(n==null&&!Rb(a,Qe()))return null;var c=n||Ne.EMPTY_NODE;return uc(a,c)}else{var l=Jo(t.visibleWrites,e);if(!i&&Ob(l))return n;if(!i&&n==null&&!Rb(l,Qe()))return null;var h=function(g){return(g.visible||i)&&(!r||!~r.indexOf(g.writeId))&&(Dr(g.path,e)||Dr(e,g.path))},d=nL(t.allWrites,h,e),c=n||Ne.EMPTY_NODE;return uc(d,c)}}function g9(t,e,n){var r=Ne.EMPTY_NODE,i=Va(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ft,function(c,l){r=r.updateImmediateChild(c,l)}),r;if(n){var s=Jo(t.visibleWrites,e);return n.forEachChild(ft,function(c,l){var h=uc(Jo(s,new et(c)),l);r=r.updateImmediateChild(c,h)}),_R(s).forEach(function(c){r=r.updateImmediateChild(c.name,c.node)}),r}else{var a=Jo(t.visibleWrites,e);return _R(a).forEach(function(c){r=r.updateImmediateChild(c.name,c.node)}),r}}function m9(t,e,n,r,i){Y(r||i,"Either existingEventSnap or existingServerSnap must exist");var s=yt(e,n);if(Rb(t.visibleWrites,s))return null;var a=Jo(t.visibleWrites,s);return Ob(a)?i.getChild(n):uc(a,i.getChild(n))}function y9(t,e,n,r){var i=yt(e,n),s=Va(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){var a=Jo(t.visibleWrites,i);return uc(a,r.getNode().getImmediateChild(n))}else return null}function _9(t,e){return Va(t.visibleWrites,e)}function w9(t,e,n,r,i,s,a){var c,l=Jo(t.visibleWrites,e),h=Va(l,Qe());if(h!=null)c=h;else if(n!=null)c=uc(l,n);else return[];if(c=c.withIndex(a),!c.isEmpty()&&!c.isLeafNode()){for(var d=[],v=a.getCompare(),g=s?c.getReverseIteratorFrom(r,a):c.getIteratorFrom(r,a),y=g.getNext();y&&d.length<i;)v(y,r)!==0&&d.push(y),y=g.getNext();return d}else return[]}function b9(){return{visibleWrites:fo.empty(),allWrites:[],lastWriteId:-1}}function Jp(t,e,n,r){return rL(t.writeTree,t.treePath,e,n,r)}function kE(t,e){return g9(t.writeTree,t.treePath,e)}function wR(t,e,n,r){return m9(t.writeTree,t.treePath,e,n,r)}function Zp(t,e){return _9(t.writeTree,yt(t.treePath,e))}function E9(t,e,n,r,i,s){return w9(t.writeTree,t.treePath,e,n,r,i,s)}function RE(t,e,n){return y9(t.writeTree,t.treePath,e,n)}function iL(t,e){return oL(yt(t.treePath,e),t.writeTree)}function oL(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var T9=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(e){var n=e.type,r=e.childName;Y(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Y(r!==".priority","Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Of(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Rf(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,ac(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Of(r,e.snapshotNode,i.oldSnap));else throw Uc("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I9=function(){function t(){}return t.prototype.getCompleteChild=function(e){return null},t.prototype.getChildAfterChild=function(e,n,r){return null},t}(),sL=new I9,OE=function(){function t(e,n,r){r===void 0&&(r=null),this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}return t.prototype.getCompleteChild=function(e){var n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);var r=this.optCompleteServerCache_!=null?new us(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return RE(this.writes_,e,r)},t.prototype.getChildAfterChild=function(e,n,r){var i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ia(this.viewCache_),s=E9(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S9(t){return{filter:t}}function A9(t,e){Y(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Y(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function C9(t,e,n,r,i){var s=new T9,a,c;if(n.type===ai.OVERWRITE){var l=n;l.source.fromUser?a=Db(t,e,l.path,l.snap,r,i,s):(Y(l.source.fromServer,"Unknown source."),c=l.source.tagged||e.serverCache.isFiltered()&&!Fe(l.path),a=ev(t,e,l.path,l.snap,r,i,c,s))}else if(n.type===ai.MERGE){var h=n;h.source.fromUser?a=k9(t,e,h.path,h.children,r,i,s):(Y(h.source.fromServer,"Unknown source."),c=h.source.tagged||e.serverCache.isFiltered(),a=Pb(t,e,h.path,h.children,r,i,c,s))}else if(n.type===ai.ACK_USER_WRITE){var d=n;d.revert?a=D9(t,e,d.path,r,i,s):a=R9(t,e,d.path,d.affectedTree,r,i,s)}else if(n.type===ai.LISTEN_COMPLETE)a=O9(t,e,n.path,r,s);else throw Uc("Unknown operation type: "+n.type);var v=s.getChanges();return N9(e,a,v),{viewCache:a,changes:v}}function N9(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Xp(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Yx(Xp(e)))}}function aL(t,e,n,r,i,s){var a=e.eventCache;if(Zp(r,n)!=null)return e;var c=void 0,l=void 0;if(Fe(n))if(Y(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var h=Ia(e),d=h instanceof Ne?h:Ne.EMPTY_NODE,v=kE(r,d);c=t.filter.updateFullNode(e.eventCache.getNode(),v,s)}else{var g=Jp(r,Ia(e));c=t.filter.updateFullNode(e.eventCache.getNode(),g,s)}else{var y=Me(n);if(y===".priority"){Y(as(n)===1,"Can't have a priority with additional path components");var w=a.getNode();l=e.serverCache.getNode();var E=wR(r,n,w,l);E!=null?c=t.filter.updatePriority(w,E):c=a.getNode()}else{var T=ut(n),A=void 0;if(a.isCompleteForChild(y)){l=e.serverCache.getNode();var O=wR(r,n,a.getNode(),l);O!=null?A=a.getNode().getImmediateChild(y).updateChild(T,O):A=a.getNode().getImmediateChild(y)}else A=RE(r,y,e.serverCache);A!=null?c=t.filter.updateChild(a.getNode(),y,A,T,i,s):c=a.getNode()}}return uf(e,c,a.isFullyInitialized()||Fe(n),t.filter.filtersNodes())}function ev(t,e,n,r,i,s,a,c){var l=e.serverCache,h,d=a?t.filter:t.filter.getIndexedFilter();if(Fe(n))h=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){var v=l.getNode().updateChild(n,r);h=d.updateFullNode(l.getNode(),v,null)}else{var g=Me(n);if(!l.isCompleteForPath(n)&&as(n)>1)return e;var y=ut(n),w=l.getNode().getImmediateChild(g),E=w.updateChild(y,r);g===".priority"?h=d.updatePriority(l.getNode(),E):h=d.updateChild(l.getNode(),g,E,y,sL,null)}var T=eL(e,h,l.isFullyInitialized()||Fe(n),d.filtersNodes()),A=new OE(i,T,s);return aL(t,T,n,i,A,c)}function Db(t,e,n,r,i,s,a){var c=e.eventCache,l,h,d=new OE(i,e,s);if(Fe(n))h=t.filter.updateFullNode(e.eventCache.getNode(),r,a),l=uf(e,h,!0,t.filter.filtersNodes());else{var v=Me(n);if(v===".priority")h=t.filter.updatePriority(e.eventCache.getNode(),r),l=uf(e,h,c.isFullyInitialized(),c.isFiltered());else{var g=ut(n),y=c.getNode().getImmediateChild(v),w=void 0;if(Fe(g))w=r;else{var E=d.getCompleteChild(v);E!=null?_E(g)===".priority"&&E.getChild(jx(g)).isEmpty()?w=E:w=E.updateChild(g,r):w=Ne.EMPTY_NODE}if(y.equals(w))l=e;else{var T=t.filter.updateChild(c.getNode(),v,w,g,d,a);l=uf(e,T,c.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function bR(t,e){return t.eventCache.isCompleteForChild(e)}function k9(t,e,n,r,i,s,a){var c=e;return r.foreach(function(l,h){var d=yt(n,l);bR(e,Me(d))&&(c=Db(t,c,d,h,i,s,a))}),r.foreach(function(l,h){var d=yt(n,l);bR(e,Me(d))||(c=Db(t,c,d,h,i,s,a))}),c}function ER(t,e,n){return n.foreach(function(r,i){e=e.updateChild(r,i)}),e}function Pb(t,e,n,r,i,s,a,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var l=e,h;Fe(n)?h=r:h=new Ir(null).setTree(n,r);var d=e.serverCache.getNode();return h.children.inorderTraversal(function(v,g){if(d.hasChild(v)){var y=e.serverCache.getNode().getImmediateChild(v),w=ER(t,y,g);l=ev(t,l,new et(v),w,i,s,a,c)}}),h.children.inorderTraversal(function(v,g){var y=!e.serverCache.isCompleteForChild(v)&&g.value===void 0;if(!d.hasChild(v)&&!y){var w=e.serverCache.getNode().getImmediateChild(v),E=ER(t,w,g);l=ev(t,l,new et(v),E,i,s,a,c)}}),l}function R9(t,e,n,r,i,s,a){if(Zp(i,n)!=null)return e;var c=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Fe(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return ev(t,e,n,l.getNode().getChild(n),i,s,c,a);if(Fe(n)){var h=new Ir(null);return l.getNode().forEachChild(xi,function(v,g){h=h.set(new et(v),g)}),Pb(t,e,n,h,i,s,c,a)}else return e}else{var d=new Ir(null);return r.foreach(function(v,g){var y=yt(n,v);l.isCompleteForPath(y)&&(d=d.set(v,l.getNode().getChild(y)))}),Pb(t,e,n,d,i,s,c,a)}}function O9(t,e,n,r,i){var s=e.serverCache,a=eL(e,s.getNode(),s.isFullyInitialized()||Fe(n),s.isFiltered());return aL(t,a,n,r,sL,i)}function D9(t,e,n,r,i,s){var a;if(Zp(r,n)!=null)return e;var c=new OE(r,e,i),l=e.eventCache.getNode(),h=void 0;if(Fe(n)||Me(n)===".priority"){var d=void 0;if(e.serverCache.isFullyInitialized())d=Jp(r,Ia(e));else{var v=e.serverCache.getNode();Y(v instanceof Ne,"serverChildren would be complete if leaf node"),d=kE(r,v)}d=d,h=t.filter.updateFullNode(l,d,s)}else{var g=Me(n),y=RE(r,g,e.serverCache);y==null&&e.serverCache.isCompleteForChild(g)&&(y=l.getImmediateChild(g)),y!=null?h=t.filter.updateChild(l,g,y,ut(n),c,s):e.eventCache.getNode().hasChild(g)?h=t.filter.updateChild(l,g,Ne.EMPTY_NODE,ut(n),c,s):h=l,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=Jp(r,Ia(e)),a.isLeafNode()&&(h=t.filter.updateFullNode(h,a,s)))}return a=e.serverCache.isFullyInitialized()||Zp(r,Qe())!=null,uf(e,h,a,t.filter.filtersNodes())}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P9=function(){function t(e,n){this.query_=e,this.eventRegistrations_=[];var r=this.query_._queryParams,i=new IE(r.getIndex()),s=KQ(r);this.processor_=S9(s);var a=n.serverCache,c=n.eventCache,l=i.updateFullNode(Ne.EMPTY_NODE,a.getNode(),null),h=s.updateFullNode(Ne.EMPTY_NODE,c.getNode(),null),d=new us(l,a.isFullyInitialized(),i.filtersNodes()),v=new us(h,c.isFullyInitialized(),s.filtersNodes());this.viewCache_=lg(v,d),this.eventGenerator_=new i9(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function x9(t){return t.viewCache_.serverCache.getNode()}function L9(t){return Xp(t.viewCache_)}function M9(t,e){var n=Ia(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Fe(e)&&!n.getImmediateChild(Me(e)).isEmpty())?n.getChild(e):null}function TR(t){return t.eventRegistrations_.length===0}function F9(t,e){t.eventRegistrations_.push(e)}function IR(t,e,n){var r=[];if(n){Y(e==null,"A cancel should cancel all event registrations.");var i=t.query._path;t.eventRegistrations_.forEach(function(l){var h=l.createCancelEvent(n,i);h&&r.push(h)})}if(e){for(var s=[],a=0;a<t.eventRegistrations_.length;++a){var c=t.eventRegistrations_[a];if(!c.matches(e))s.push(c);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(a+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function SR(t,e,n,r){e.type===ai.MERGE&&e.source.queryId!==null&&(Y(Ia(t.viewCache_),"We should always have a full cache before handling merges"),Y(Xp(t.viewCache_),"Missing event cache, even though we have a server cache"));var i=t.viewCache_,s=C9(t.processor_,i,e,n,r);return A9(t.processor_,s.viewCache),Y(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,uL(t,s.changes,s.viewCache.eventCache.getNode(),null)}function U9(t,e){var n=t.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(ft,function(s,a){r.push(ac(s,a))})}return n.isFullyInitialized()&&r.push(Yx(n.getNode())),uL(t,r,n.getNode(),e)}function uL(t,e,n,r){var i=r?[r]:t.eventRegistrations_;return o9(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tv,cL=function(){function t(){this.views=new Map}return t}();function V9(t){Y(!tv,"__referenceConstructor has already been defined"),tv=t}function j9(){return Y(tv,"Reference.ts has not been loaded"),tv}function B9(t){return t.views.size===0}function DE(t,e,n,r){var i,s,a=e.source.queryId;if(a!==null){var c=t.views.get(a);return Y(c!=null,"SyncTree gave us an op for an invalid query."),SR(c,e,n,r)}else{var l=[];try{for(var h=nn(t.views.values()),d=h.next();!d.done;d=h.next()){var c=d.value;l=l.concat(SR(c,e,n,r))}}catch(v){i={error:v}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return l}}function lL(t,e,n,r,i){var s=e._queryIdentifier,a=t.views.get(s);if(!a){var c=Jp(n,i?r:null),l=!1;c?l=!0:r instanceof Ne?(c=kE(n,r),l=!1):(c=Ne.EMPTY_NODE,l=!1);var h=lg(new us(c,l,!1),new us(r,i,!1));return new P9(e,h)}return a}function $9(t,e,n,r,i,s){var a=lL(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),F9(a,n),U9(a,n)}function q9(t,e,n,r){var i,s,a=e._queryIdentifier,c=[],l=[],h=cs(t);if(a==="default")try{for(var d=nn(t.views.entries()),v=d.next();!v.done;v=d.next()){var g=hn(v.value,2),y=g[0],w=g[1];l=l.concat(IR(w,n,r)),TR(w)&&(t.views.delete(y),w.query._queryParams.loadsAllData()||c.push(w.query))}}catch(E){i={error:E}}finally{try{v&&!v.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}else{var w=t.views.get(a);w&&(l=l.concat(IR(w,n,r)),TR(w)&&(t.views.delete(a),w.query._queryParams.loadsAllData()||c.push(w.query)))}return h&&!cs(t)&&c.push(new(j9())(e._repo,e._path)),{removed:c,events:l}}function fL(t){var e,n,r=[];try{for(var i=nn(t.views.values()),s=i.next();!s.done;s=i.next()){var a=s.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Zo(t,e){var n,r,i=null;try{for(var s=nn(t.views.values()),a=s.next();!a.done;a=s.next()){var c=a.value;i=i||M9(c,e)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i}function hL(t,e){var n=e._queryParams;if(n.loadsAllData())return hg(t);var r=e._queryIdentifier;return t.views.get(r)}function dL(t,e){return hL(t,e)!=null}function cs(t){return hg(t)!=null}function hg(t){var e,n;try{for(var r=nn(t.views.values()),i=r.next();!i.done;i=r.next()){var s=i.value;if(s.query._queryParams.loadsAllData())return s}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nv;function H9(t){Y(!nv,"__referenceConstructor has already been defined"),nv=t}function K9(){return Y(nv,"Reference.ts has not been loaded"),nv}var W9=1,AR=function(){function t(e){this.listenProvider_=e,this.syncPointTree_=new Ir(null),this.pendingWriteTree_=b9(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t}();function PE(t,e,n,r,i){return c9(t.pendingWriteTree_,e,n,r,i),i?$c(t,new cg(SE(),e,n)):[]}function G9(t,e,n,r){l9(t.pendingWriteTree_,e,n,r);var i=Ir.fromObject(n);return $c(t,new NE(SE(),e,i))}function Yo(t,e,n){n===void 0&&(n=!1);var r=f9(t.pendingWriteTree_,e),i=h9(t.pendingWriteTree_,e);if(i){var s=new Ir(null);return r.snap!=null?s=s.set(Qe(),!0):Gt(r.children,function(a){s=s.set(new et(a),!0)}),$c(t,new r9(r.path,s,n))}else return[]}function fh(t,e,n){return $c(t,new cg(AE(),e,n))}function z9(t,e,n){var r=Ir.fromObject(n);return $c(t,new NE(AE(),e,r))}function Y9(t,e){return $c(t,new Zx(AE(),e))}function Q9(t,e,n){var r=xE(t,n);if(r){var i=LE(r),s=i.path,a=i.queryId,c=$n(s,e),l=new Zx(CE(a),c);return ME(t,s,l)}else return[]}function xb(t,e,n,r){var i=e._path,s=t.syncPointTree_.get(i),a=[];if(s&&(e._queryIdentifier==="default"||dL(s,e))){var c=q9(s,e,n,r);B9(s)&&(t.syncPointTree_=t.syncPointTree_.remove(i));var l=c.removed;a=c.events;var h=l.findIndex(function(O){return O._queryParams.loadsAllData()})!==-1,d=t.syncPointTree_.findOnPath(i,function(O,P){return cs(P)});if(h&&!d){var v=t.syncPointTree_.subtree(i);if(!v.isEmpty())for(var g=e7(v),y=0;y<g.length;++y){var w=g[y],E=w.query,T=gL(t,w);t.listenProvider_.startListening(lf(E),rv(t,E),T.hashFn,T.onComplete)}}if(!d&&l.length>0&&!r)if(h){var A=null;t.listenProvider_.stopListening(lf(e),A)}else l.forEach(function(O){var P=t.queryToTagMap.get(pg(O));t.listenProvider_.stopListening(lf(O),P)});t7(t,l)}return a}function X9(t,e,n,r){var i=xE(t,r);if(i!=null){var s=LE(i),a=s.path,c=s.queryId,l=$n(a,e),h=new cg(CE(c),l,n);return ME(t,a,h)}else return[]}function J9(t,e,n,r){var i=xE(t,r);if(i){var s=LE(i),a=s.path,c=s.queryId,l=$n(a,e),h=Ir.fromObject(n),d=new NE(CE(c),l,h);return ME(t,a,d)}else return[]}function CR(t,e,n){var r=e._path,i=null,s=!1;t.syncPointTree_.foreachOnPath(r,function(E,T){var A=$n(E,r);i=i||Zo(T,A),s=s||cs(T)});var a=t.syncPointTree_.get(r);a?(s=s||cs(a),i=i||Zo(a,Qe())):(a=new cL,t.syncPointTree_=t.syncPointTree_.set(r,a));var c;if(i!=null)c=!0;else{c=!1,i=Ne.EMPTY_NODE;var l=t.syncPointTree_.subtree(r);l.foreachChild(function(E,T){var A=Zo(T,Qe());A&&(i=i.updateImmediateChild(E,A))})}var h=dL(a,e);if(!h&&!e._queryParams.loadsAllData()){var d=pg(e);Y(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");var v=n7();t.queryToTagMap.set(d,v),t.tagToQueryMap.set(v,d)}var g=fg(t.pendingWriteTree_,r),y=$9(a,e,n,g,i,c);if(!h&&!s){var w=hL(a,e);y=y.concat(r7(t,e,w))}return y}function dg(t,e,n){var r=!0,i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,function(a,c){var l=$n(a,e),h=Zo(c,l);if(h)return h});return rL(i,e,s,n,r)}function Z9(t,e){var n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,function(h,d){var v=$n(h,n);r=r||Zo(d,v)});var i=t.syncPointTree_.get(n);i?r=r||Zo(i,Qe()):(i=new cL,t.syncPointTree_=t.syncPointTree_.set(n,i));var s=r!=null,a=s?new us(r,!0,!1):null,c=fg(t.pendingWriteTree_,e._path),l=lL(i,e,c,s?a.getNode():Ne.EMPTY_NODE,s);return L9(l)}function $c(t,e){return pL(e,t.syncPointTree_,null,fg(t.pendingWriteTree_,Qe()))}function pL(t,e,n,r){if(Fe(t.path))return vL(t,e,n,r);var i=e.get(Qe());n==null&&i!=null&&(n=Zo(i,Qe()));var s=[],a=Me(t.path),c=t.operationForChild(a),l=e.children.get(a);if(l&&c){var h=n?n.getImmediateChild(a):null,d=iL(r,a);s=s.concat(pL(c,l,h,d))}return i&&(s=s.concat(DE(i,t,r,n))),s}function vL(t,e,n,r){var i=e.get(Qe());n==null&&i!=null&&(n=Zo(i,Qe()));var s=[];return e.children.inorderTraversal(function(a,c){var l=n?n.getImmediateChild(a):null,h=iL(r,a),d=t.operationForChild(a);d&&(s=s.concat(vL(d,c,l,h)))}),i&&(s=s.concat(DE(i,t,r,n))),s}function gL(t,e){var n=e.query,r=rv(t,n);return{hashFn:function(){var i=x9(e)||Ne.EMPTY_NODE;return i.hash()},onComplete:function(i){if(i==="ok")return r?Q9(t,n._path,r):Y9(t,n._path);var s=$Y(i,n);return xb(t,n,null,s)}}}function rv(t,e){var n=pg(e);return t.queryToTagMap.get(n)}function pg(t){return t._path.toString()+"$"+t._queryIdentifier}function xE(t,e){return t.tagToQueryMap.get(e)}function LE(t){var e=t.indexOf("$");return Y(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new et(t.substr(0,e))}}function ME(t,e,n){var r=t.syncPointTree_.get(e);Y(r,"Missing sync point for query tag that we're tracking");var i=fg(t.pendingWriteTree_,e);return DE(r,n,i,null)}function e7(t){return t.fold(function(e,n,r){if(n&&cs(n)){var i=hg(n);return[i]}else{var s=[];return n&&(s=fL(n)),Gt(r,function(a,c){s=s.concat(c)}),s}})}function lf(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(K9())(t._repo,t._path):t}function t7(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var i=pg(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function n7(){return W9++}function r7(t,e,n){var r=e._path,i=rv(t,e),s=gL(t,n),a=t.listenProvider_.startListening(lf(e),i,s.hashFn,s.onComplete),c=t.syncPointTree_.subtree(r);if(i)Y(!cs(c.value),"If we're adding a query, it shouldn't be shadowed");else for(var l=c.fold(function(v,g,y){if(!Fe(v)&&g&&cs(g))return[hg(g).query];var w=[];return g&&(w=w.concat(fL(g).map(function(E){return E.query}))),Gt(y,function(E,T){w=w.concat(T)}),w}),h=0;h<l.length;++h){var d=l[h];t.listenProvider_.stopListening(lf(d),rv(t,d))}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i7=function(){function t(e){this.node_=e}return t.prototype.getImmediateChild=function(e){var n=this.node_.getImmediateChild(e);return new t(n)},t.prototype.node=function(){return this.node_},t}(),o7=function(){function t(e,n){this.syncTree_=e,this.path_=n}return t.prototype.getImmediateChild=function(e){var n=yt(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return dg(this.syncTree_,this.path_)},t}(),s7=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},NR=function(t,e,n){if(!t||typeof t!="object")return t;if(Y(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return a7(t[".sv"],e,n);if(typeof t[".sv"]=="object")return u7(t[".sv"],e);Y(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},a7=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Y(!1,"Unexpected server value: "+t)}},u7=function(t,e,n){t.hasOwnProperty("increment")||Y(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;typeof r!="number"&&Y(!1,"Unexpected increment value: "+r);var i=e.node();if(Y(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i,a=s.getValue();return typeof a!="number"?r:a+r},mL=function(t,e,n,r){return UE(e,new o7(n,t),r)},FE=function(t,e,n){return UE(t,new i7(e),n)};function UE(t,e,n){var r=t.getPriority().val(),i=NR(r,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){var a=t,c=NR(a.getValue(),e,n);return c!==a.getValue()||i!==a.getPriority().val()?new oc(c,Et(i)):t}else{var l=t;return s=l,i!==l.getPriority().val()&&(s=s.updatePriority(new oc(i))),l.forEachChild(ft,function(h,d){var v=UE(d,e.getImmediateChild(h),n);v!==d&&(s=s.updateImmediateChild(h,v))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VE=function(){function t(e,n,r){e===void 0&&(e=""),n===void 0&&(n=null),r===void 0&&(r={children:{},childCount:0}),this.name=e,this.parent=n,this.node=r}return t}();function vg(t,e){for(var n=e instanceof et?e:new et(e),r=t,i=Me(n);i!==null;){var s=Ta(r.node.children,i)||{children:{},childCount:0};r=new VE(i,r,s),n=ut(n),i=Me(n)}return r}function ja(t){return t.node.value}function jE(t,e){t.node.value=e,Lb(t)}function yL(t){return t.node.childCount>0}function c7(t){return ja(t)===void 0&&!yL(t)}function gg(t,e){Gt(t.node.children,function(n,r){e(new VE(n,t,r))})}function _L(t,e,n,r){n&&!r&&e(t),gg(t,function(i){_L(i,e,!0,r)}),n&&r&&e(t)}function l7(t,e,n){for(var r=n?t:t.parent;r!==null;){if(e(r))return!0;r=r.parent}return!1}function hh(t){return new et(t.parent===null?t.name:hh(t.parent)+"/"+t.name)}function Lb(t){t.parent!==null&&f7(t.parent,t.name,t)}function f7(t,e,n){var r=c7(n),i=Tr(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Lb(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Lb(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h7=/[\[\].#$\/\u0000-\u001F\u007F]/,d7=/[\[\].#$\u0000-\u001F\u007F]/,vw=10*1024*1024,mg=function(t){return typeof t=="string"&&t.length!==0&&!h7.test(t)},wL=function(t){return typeof t=="string"&&t.length!==0&&!d7.test(t)},p7=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),wL(t)},Df=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!sg(t)||t&&typeof t=="object"&&Tr(t,".sv")},Hi=function(t,e,n,r){r&&e===void 0||dh(rr(t,"value"),e,n)},dh=function(t,e,n){var r=n instanceof et?new EQ(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ks(r));if(typeof e=="function")throw new Error(t+"contains a function "+Ks(r)+" with contents = "+e.toString());if(sg(e))throw new Error(t+"contains "+e.toString()+" "+Ks(r));if(typeof e=="string"&&e.length>vw/3&&og(e)>vw)throw new Error(t+"contains a string greater than "+vw+" utf8 bytes "+Ks(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){var i=!1,s=!1;if(Gt(e,function(a,c){if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!mg(a)))throw new Error(t+" contains an invalid key ("+a+") "+Ks(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);TQ(r,a),dh(t,c,r),IQ(r)}),i&&s)throw new Error(t+' contains ".value" child '+Ks(r)+" in addition to actual children.")}},v7=function(t,e){var n,r;for(n=0;n<e.length;n++){r=e[n];for(var i=kf(r),s=0;s<i.length;s++)if(!(i[s]===".priority"&&s===i.length-1)){if(!mg(i[s]))throw new Error(t+"contains an invalid key ("+i[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(bQ);var a=null;for(n=0;n<e.length;n++){if(r=e[n],a!==null&&Dr(a,r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},bL=function(t,e,n,r){if(!(r&&e===void 0)){var i=rr(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");var s=[];Gt(e,function(a,c){var l=new et(a);if(dh(i,c,yt(n,l)),_E(l)===".priority"&&!Df(c))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),v7(i,s)}},BE=function(t,e,n){if(!(n&&e===void 0)){if(sg(e))throw new Error(rr(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Df(e))throw new Error(rr(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},g7=function(t,e,n){if(!(n&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(rr(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ph=function(t,e,n,r){if(!(r&&n===void 0)&&!mg(n))throw new Error(rr(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Pf=function(t,e,n,r){if(!(r&&n===void 0)&&!wL(n))throw new Error(rr(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},m7=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Pf(t,e,n,r)},Pr=function(t,e){if(Me(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},EL=function(t,e){var n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!mg(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!p7(n))throw new Error(rr(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},y7=function(t,e,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(rr(t,e)+"must be a boolean.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _7=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t}();function yg(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],s=i.getPath();n!==null&&!wE(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function $E(t,e,n){yg(t,n),TL(t,function(r){return wE(r,e)})}function $r(t,e,n){yg(t,n),TL(t,function(r){return Dr(r,e)||Dr(e,r)})}function TL(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];if(i){var s=i.path;e(s)?(w7(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function w7(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(n!==null){t.events[e]=null;var r=n.getEventRunner();ha&&Jt("event: "+n.toString()),jc(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IL="repo_interrupt",b7=25,E7=function(){function t(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new _7,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Qp(),this.transactionQueueTree_=new VE,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function T7(t,e,n){if(t.stats_=mE(t.repoInfo_),t.forceRestClient_||HY())t.server_=new QQ(t.repoInfo_,function(r,i,s,a){kR(t,r,i,s,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(function(){return RR(t,!0)},0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{qt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new da(t.repoInfo_,e,function(r,i,s,a){kR(t,r,i,s,a)},function(r){RR(t,r)},function(r){S7(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(function(r){t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(function(r){t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=QY(t.repoInfo_,function(){return new t9(t.stats_,t.server_)}),t.infoData_=new XQ,t.infoSyncTree_=new AR({startListening:function(r,i,s,a){var c=[],l=t.infoData_.getNode(r._path);return l.isEmpty()||(c=fh(t.infoSyncTree_,r._path,l),setTimeout(function(){a("ok")},0)),c},stopListening:function(){}}),qE(t,"connected",!1),t.serverSyncTree_=new AR({startListening:function(r,i,s,a){return t.server_.listen(r,s,i,function(c,l){var h=a(c,l);$r(t.eventQueue_,r._path,h)}),[]},stopListening:function(r,i){t.server_.unlisten(r,i)}})}function SL(t){var e=t.infoData_.getNode(new et(".info/serverTimeOffset")),n=e.val()||0;return new Date().getTime()+n}function vh(t){return s7({timestamp:SL(t)})}function kR(t,e,n,r,i){t.dataUpdateCount++;var s=new et(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var a=[];if(i)if(r){var c=Hp(n,function(g){return Et(g)});a=J9(t.serverSyncTree_,s,c,i)}else{var l=Et(n);a=X9(t.serverSyncTree_,s,l,i)}else if(r){var h=Hp(n,function(g){return Et(g)});a=z9(t.serverSyncTree_,s,h)}else{var d=Et(n);a=fh(t.serverSyncTree_,s,d)}var v=s;a.length>0&&(v=cc(t,s)),$r(t.eventQueue_,v,a)}function I7(t,e){t.interceptServerDataCallback_=e}function RR(t,e){qE(t,"connected",e),e===!1&&N7(t)}function S7(t,e){Gt(e,function(n,r){qE(t,n,r)})}function qE(t,e,n){var r=new et("/.info/"+e),i=Et(n);t.infoData_.updateSnapshot(r,i);var s=fh(t.infoSyncTree_,r,i);$r(t.eventQueue_,r,s)}function _g(t){return t.nextWriteId_++}function A7(t,e){var n=Z9(t.serverSyncTree_,e);return n!=null?Promise.resolve(n):t.server_.get(e).then(function(r){var i=Et(r).withIndex(e._queryParams.getIndex()),s=fh(t.serverSyncTree_,e._path,i);return $E(t.eventQueue_,e._path,s),Promise.resolve(i)},function(r){return qc(t,"get for query "+qt(e)+" failed: "+r),Promise.reject(new Error(r))})}function HE(t,e,n,r,i){qc(t,"set",{path:e.toString(),value:n,priority:r});var s=vh(t),a=Et(n,r),c=dg(t.serverSyncTree_,e),l=FE(a,c,s),h=_g(t),d=PE(t.serverSyncTree_,e,l,h,!0);yg(t.eventQueue_,d),t.server_.put(e.toString(),a.val(!0),function(g,y){var w=g==="ok";w||pn("set at "+e+" failed: "+g);var E=Yo(t.serverSyncTree_,h,!w);$r(t.eventQueue_,e,E),ls(t,i,g,y)});var v=WE(t,e);cc(t,v),$r(t.eventQueue_,v,[])}function C7(t,e,n,r){qc(t,"update",{path:e.toString(),value:n});var i=!0,s=vh(t),a={};if(Gt(n,function(h,d){i=!1,a[h]=mL(yt(e,h),Et(d),t.serverSyncTree_,s)}),i)Jt("update() called with empty data.  Don't do anything."),ls(t,r,"ok",void 0);else{var c=_g(t),l=G9(t.serverSyncTree_,e,a,c);yg(t.eventQueue_,l),t.server_.merge(e.toString(),n,function(h,d){var v=h==="ok";v||pn("update at "+e+" failed: "+h);var g=Yo(t.serverSyncTree_,c,!v),y=g.length>0?cc(t,e):e;$r(t.eventQueue_,y,g),ls(t,r,h,d)}),Gt(n,function(h){var d=WE(t,yt(e,h));cc(t,d)}),$r(t.eventQueue_,e,[])}}function N7(t){qc(t,"onDisconnectEvents");var e=vh(t),n=Qp();Nb(t.onDisconnect_,Qe(),function(i,s){var a=mL(i,s,t.serverSyncTree_,e);Bc(n,i,a)});var r=[];Nb(n,Qe(),function(i,s){r=r.concat(fh(t.serverSyncTree_,i,s));var a=WE(t,i);cc(t,a)}),t.onDisconnect_=Qp(),$r(t.eventQueue_,Qe(),r)}function k7(t,e,n){t.server_.onDisconnectCancel(e.toString(),function(r,i){r==="ok"&&Cb(t.onDisconnect_,e),ls(t,n,r,i)})}function OR(t,e,n,r){var i=Et(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),function(s,a){s==="ok"&&Bc(t.onDisconnect_,e,i),ls(t,r,s,a)})}function R7(t,e,n,r,i){var s=Et(n,r);t.server_.onDisconnectPut(e.toString(),s.val(!0),function(a,c){a==="ok"&&Bc(t.onDisconnect_,e,s),ls(t,i,a,c)})}function O7(t,e,n,r){if(yb(n)){Jt("onDisconnect().update() called with empty data.  Don't do anything."),ls(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,function(i,s){i==="ok"&&Gt(n,function(a,c){var l=Et(c);Bc(t.onDisconnect_,yt(e,a),l)}),ls(t,r,i,s)})}function D7(t,e,n){var r;Me(e._path)===".info"?r=CR(t.infoSyncTree_,e,n):r=CR(t.serverSyncTree_,e,n),$E(t.eventQueue_,e._path,r)}function Mb(t,e,n){var r;Me(e._path)===".info"?r=xb(t.infoSyncTree_,e,n):r=xb(t.serverSyncTree_,e,n),$E(t.eventQueue_,e._path,r)}function AL(t){t.persistentConnection_&&t.persistentConnection_.interrupt(IL)}function P7(t){t.persistentConnection_&&t.persistentConnection_.resume(IL)}function x7(t,e){if(e===void 0&&(e=!1),!(typeof console>"u")){var n;e?(t.statsListener_||(t.statsListener_=new Jx(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce(function(i,s){return Math.max(s.length,i)},0);Gt(n,function(i,s){for(var a=i,c=i.length;c<r+2;c++)a+=" ";console.log(a+s)})}}function L7(t,e){t.stats_.incrementCounter(e),n9(t.statsReporter_,e)}function qc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),Jt.apply(void 0,xe([r],hn(e)))}function ls(t,e,n,r){e&&jc(function(){if(n==="ok")e(null);else{var i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);var a=new Error(s);a.code=i,e(a)}})}function M7(t,e,n,r,i,s){qc(t,"transaction on "+e);var a={path:e,update:n,onComplete:r,status:null,order:mx(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=KE(t,e,void 0);a.currentInputSnapshot=c;var l=a.update(c.val());if(l===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{dh("transaction failed: Data returned ",l,a.path),a.status=0;var h=vg(t.transactionQueueTree_,e),d=ja(h)||[];d.push(a),jE(h,d);var v=void 0;if(typeof l=="object"&&l!==null&&Tr(l,".priority"))v=Ta(l,".priority"),Y(Df(v),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var g=dg(t.serverSyncTree_,e)||Ne.EMPTY_NODE;v=g.getPriority().val()}var y=vh(t),w=Et(l,v),E=FE(w,c,y);a.currentOutputSnapshotRaw=w,a.currentOutputSnapshotResolved=E,a.currentWriteId=_g(t);var T=PE(t.serverSyncTree_,e,E,a.currentWriteId,a.applyLocally);$r(t.eventQueue_,e,T),wg(t,t.transactionQueueTree_)}}function KE(t,e,n){return dg(t.serverSyncTree_,e,n)||Ne.EMPTY_NODE}function wg(t,e){if(e===void 0&&(e=t.transactionQueueTree_),e||bg(t,e),ja(e)){var n=NL(t,e);Y(n.length>0,"Sending zero length transaction queue");var r=n.every(function(i){return i.status===0});r&&F7(t,hh(e),n)}else yL(e)&&gg(e,function(i){wg(t,i)})}function F7(t,e,n){for(var r=n.map(function(g){return g.currentWriteId}),i=KE(t,e,r),s=i,a=i.hash(),c=0;c<n.length;c++){var l=n[c];Y(l.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=1,l.retryCount++;var h=$n(e,l.path);s=s.updateChild(h,l.currentOutputSnapshotRaw)}var d=s.val(!0),v=e;t.server_.put(v.toString(),d,function(g){qc(t,"transaction put response",{path:v.toString(),status:g});var y=[];if(g==="ok"){for(var w=[],E=function(A){n[A].status=2,y=y.concat(Yo(t.serverSyncTree_,n[A].currentWriteId)),n[A].onComplete&&w.push(function(){return n[A].onComplete(null,!0,n[A].currentOutputSnapshotResolved)}),n[A].unwatcher()},T=0;T<n.length;T++)E(T);bg(t,vg(t.transactionQueueTree_,e)),wg(t,t.transactionQueueTree_),$r(t.eventQueue_,e,y);for(var T=0;T<w.length;T++)jc(w[T])}else{if(g==="datastale")for(var T=0;T<n.length;T++)n[T].status===3?n[T].status=4:n[T].status=0;else{pn("transaction at "+v.toString()+" failed: "+g);for(var T=0;T<n.length;T++)n[T].status=4,n[T].abortReason=g}cc(t,e)}},a)}function cc(t,e){var n=CL(t,e),r=hh(n),i=NL(t,n);return U7(t,i,r),r}function U7(t,e,n){if(e.length!==0){for(var r=[],i=[],s=e.filter(function(h){return h.status===0}),a=s.map(function(h){return h.currentWriteId}),c=function(h){var d=e[h],v=$n(n,d.path),g=!1,y;if(Y(v!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)g=!0,y=d.abortReason,i=i.concat(Yo(t.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=b7)g=!0,y="maxretry",i=i.concat(Yo(t.serverSyncTree_,d.currentWriteId,!0));else{var w=KE(t,d.path,a);d.currentInputSnapshot=w;var E=e[h].update(w.val());if(E!==void 0){dh("transaction failed: Data returned ",E,d.path);var T=Et(E),A=typeof E=="object"&&E!=null&&Tr(E,".priority");A||(T=T.updatePriority(w.getPriority()));var O=d.currentWriteId,P=vh(t),x=FE(T,w,P);d.currentOutputSnapshotRaw=T,d.currentOutputSnapshotResolved=x,d.currentWriteId=_g(t),a.splice(a.indexOf(O),1),i=i.concat(PE(t.serverSyncTree_,d.path,x,d.currentWriteId,d.applyLocally)),i=i.concat(Yo(t.serverSyncTree_,O,!0))}else g=!0,y="nodata",i=i.concat(Yo(t.serverSyncTree_,d.currentWriteId,!0))}$r(t.eventQueue_,n,i),i=[],g&&(e[h].status=2,function(B){setTimeout(B,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(y==="nodata"?r.push(function(){return e[h].onComplete(null,!1,e[h].currentInputSnapshot)}):r.push(function(){return e[h].onComplete(new Error(y),!1,null)})))},l=0;l<e.length;l++)c(l);bg(t,t.transactionQueueTree_);for(var l=0;l<r.length;l++)jc(r[l]);wg(t,t.transactionQueueTree_)}}function CL(t,e){var n,r=t.transactionQueueTree_;for(n=Me(e);n!==null&&ja(r)===void 0;)r=vg(r,n),e=ut(e),n=Me(e);return r}function NL(t,e){var n=[];return kL(t,e,n),n.sort(function(r,i){return r.order-i.order}),n}function kL(t,e,n){var r=ja(e);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);gg(e,function(s){kL(t,s,n)})}function bg(t,e){var n=ja(e);if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,jE(e,n.length>0?n:void 0)}gg(e,function(s){bg(t,s)})}function WE(t,e){var n=hh(CL(t,e)),r=vg(t.transactionQueueTree_,e);return l7(r,function(i){gw(t,i)}),gw(t,r),_L(r,function(i){gw(t,i)}),n}function gw(t,e){var n=ja(e);if(n){for(var r=[],i=[],s=-1,a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(Y(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(Y(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Yo(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?jE(e,void 0):n.length=s+1,$r(t.eventQueue_,hh(e),i);for(var a=0;a<r.length;a++)jc(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V7(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function j7(t){var e,n,r={};t.charAt(0)==="?"&&(t=t.substring(1));try{for(var i=nn(t.split("&")),s=i.next();!s.done;s=i.next()){var a=s.value;if(a.length!==0){var c=a.split("=");c.length===2?r[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):pn("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(l){e={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}var Fb=function(t,e){var n=B7(t),r=n.namespace;n.domain==="firebase.com"&&$i(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&$i("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||FY();var i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new gE(n.host,n.secure,r,e,i,"",r!==n.subdomain),path:new et(n.pathString)}},B7=function(t){var e="",n="",r="",i="",s="",a=!0,c="https",l=443;if(typeof t=="string"){var h=t.indexOf("//");h>=0&&(c=t.substring(0,h-1),t=t.substring(h+2));var d=t.indexOf("/");d===-1&&(d=t.length);var v=t.indexOf("?");v===-1&&(v=t.length),e=t.substring(0,Math.min(d,v)),d<v&&(i=V7(t.substring(d,v)));var g=j7(t.substring(Math.min(t.length,v)));h=e.indexOf(":"),h>=0?(a=c==="https"||c==="wss",l=parseInt(e.substring(h+1),10)):h=e.length;var y=e.slice(0,h);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{var w=e.indexOf(".");r=e.substring(0,w).toLowerCase(),n=e.substring(w+1),s=r}"ns"in g&&(s=g.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:a,scheme:c,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RL=function(){function t(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return t.prototype.getPath=function(){var e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+qt(this.snapshot.exportVal())},t}(),OL=function(){function t(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DL=function(){function t(e,n){this.snapshotCallback=e,this.cancelCallback=n}return t.prototype.onValue=function(e,n){this.snapshotCallback.call(null,e,n)},t.prototype.onCancel=function(e){return Y(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},t}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $7=function(){function t(e,n){this._repo=e,this._path=n}return t.prototype.cancel=function(){var e=new en;return k7(this._repo,this._path,e.wrapCallback(function(){})),e.promise},t.prototype.remove=function(){Pr("OnDisconnect.remove",this._path);var e=new en;return OR(this._repo,this._path,null,e.wrapCallback(function(){})),e.promise},t.prototype.set=function(e){Pr("OnDisconnect.set",this._path),Hi("OnDisconnect.set",e,this._path,!1);var n=new en;return OR(this._repo,this._path,e,n.wrapCallback(function(){})),n.promise},t.prototype.setWithPriority=function(e,n){Pr("OnDisconnect.setWithPriority",this._path),Hi("OnDisconnect.setWithPriority",e,this._path,!1),BE("OnDisconnect.setWithPriority",n,!1);var r=new en;return R7(this._repo,this._path,e,n,r.wrapCallback(function(){})),r.promise},t.prototype.update=function(e){Pr("OnDisconnect.update",this._path),bL("OnDisconnect.update",e,this._path,!1);var n=new en;return O7(this._repo,this._path,e,n.wrapCallback(function(){})),n.promise},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kr=function(){function t(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}return Object.defineProperty(t.prototype,"key",{get:function(){return Fe(this._path)?null:_E(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Wi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var e=gR(this._queryParams),n=dE(e);return n==="{}"?"default":n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return gR(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(e=Pe(e),!(e instanceof t))return!1;var n=this._repo===e._repo,r=wE(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+wQ(this._path)},t}();function Eg(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function gs(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===xi){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){var s=t.getIndexStartName();if(s!==go)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){var a=t.getIndexEndName();if(a!==qi)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===ft){if(e!=null&&!Df(e)||n!=null&&!Df(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Y(t.getIndex()instanceof EE||t.getIndex()===TE,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Tg(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Wi=function(t){re(e,t);function e(n,r){return t.call(this,n,r,new Xx,!1)||this}return Object.defineProperty(e.prototype,"parent",{get:function(){var n=jx(this._path);return n===null?null:new e(this._repo,n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var n=this;n.parent!==null;)n=n.parent;return n},enumerable:!1,configurable:!0}),e}(Kr),Ig=function(){function t(e,n,r){this._node=e,this.ref=n,this._index=r}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new et(e),r=Sa(this.ref,e);return new t(this._node.getChild(n),r,ft)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;if(this._node.isLeafNode())return!1;var r=this._node;return!!r.forEachChild(this._index,function(i,s){return e(new t(s,Sa(n.ref,i),ft))})},t.prototype.hasChild=function(e){var n=new et(e);return!this._node.getChild(n).isEmpty()},t.prototype.hasChildren=function(){return this._node.isLeafNode()?!1:!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function PL(t,e){return t=Pe(t),t._checkNotDeleted("ref"),e!==void 0?Sa(t._root,e):t._root}function DR(t,e){t=Pe(t),t._checkNotDeleted("refFromURL");var n=Fb(e,t._repo.repoInfo_.nodeAdmin);EL("refFromURL",n);var r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&$i("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),PL(t,n.path.toString())}function Sa(t,e){return t=Pe(t),Me(t._path)===null?m7("child","path",e,!1):Pf("child","path",e,!1),new Wi(t._repo,yt(t._path,e))}function q7(t,e){t=Pe(t),Pr("push",t._path),Hi("push",e,t._path,!0);var n=SL(t._repo),r=$Q(n),i=Sa(t,r),s=Sa(t,r),a;return e!=null?a=GE(s,e).then(function(){return s}):a=Promise.resolve(s),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function H7(t){return Pr("remove",t._path),GE(t,null)}function GE(t,e){t=Pe(t),Pr("set",t._path),Hi("set",e,t._path,!1);var n=new en;return HE(t._repo,t._path,e,null,n.wrapCallback(function(){})),n.promise}function K7(t,e){t=Pe(t),Pr("setPriority",t._path),BE("setPriority",e,!1);var n=new en;return HE(t._repo,yt(t._path,".priority"),e,null,n.wrapCallback(function(){})),n.promise}function W7(t,e,n){if(Pr("setWithPriority",t._path),Hi("setWithPriority",e,t._path,!1),BE("setWithPriority",n,!1),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new en;return HE(t._repo,t._path,e,n,r.wrapCallback(function(){})),r.promise}function G7(t,e){bL("update",e,t._path,!1);var n=new en;return C7(t._repo,t._path,e,n.wrapCallback(function(){})),n.promise}function z7(t){return t=Pe(t),A7(t._repo,t).then(function(e){return new Ig(e,new Wi(t._repo,t._path),t._queryParams.getIndex())})}var xL=function(){function t(e){this.callbackContext=e}return t.prototype.respondsTo=function(e){return e==="value"},t.prototype.createEvent=function(e,n){var r=n._queryParams.getIndex();return new RL("value",this,new Ig(e.snapshotNode,new Wi(n._repo,n._path),r))},t.prototype.getEventRunner=function(e){var n=this;return e.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(e.error)}:function(){return n.callbackContext.onValue(e.snapshot,null)}},t.prototype.createCancelEvent=function(e,n){return this.callbackContext.hasCancelCallback?new OL(this,e,n):null},t.prototype.matches=function(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1},t.prototype.hasAnyCallback=function(){return this.callbackContext!==null},t}(),LL=function(){function t(e,n){this.eventType=e,this.callbackContext=n}return t.prototype.respondsTo=function(e){var n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n},t.prototype.createCancelEvent=function(e,n){return this.callbackContext.hasCancelCallback?new OL(this,e,n):null},t.prototype.createEvent=function(e,n){Y(e.childName!=null,"Child events should have a childName.");var r=Sa(new Wi(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new RL(e.type,this,new Ig(e.snapshotNode,r,i),e.prevName)},t.prototype.getEventRunner=function(e){var n=this;return e.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(e.error)}:function(){return n.callbackContext.onValue(e.snapshot,e.prevName)}},t.prototype.matches=function(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function gh(t,e,n,r,i){var s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){var a=n,c=function(d,v){Mb(t._repo,t,h),a(d,v)};c.userCallback=n.userCallback,c.context=n.context,n=c}var l=new DL(n,s||void 0),h=e==="value"?new xL(l):new LL(e,l);return D7(t._repo,t,h),function(){return Mb(t._repo,t,h)}}function Ub(t,e,n,r){return gh(t,"value",e,n,r)}function PR(t,e,n,r){return gh(t,"child_added",e,n,r)}function xR(t,e,n,r){return gh(t,"child_changed",e,n,r)}function LR(t,e,n,r){return gh(t,"child_moved",e,n,r)}function MR(t,e,n,r){return gh(t,"child_removed",e,n,r)}function FR(t,e,n){var r=null,i=n?new DL(n):null;e==="value"?r=new xL(i):e&&(r=new LL(e,i)),Mb(t._repo,t,r)}var pi=function(){function t(){}return t}(),ML=function(t){re(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){Hi("endAt",this._value,n._path,!0);var r=Ab(n._queryParams,this._value,this._key);if(Tg(r),gs(r),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Kr(n._repo,n._path,r,n._orderByCalled)},e}(pi);function Y7(t,e){return ph("endAt","key",e,!0),new ML(t,e)}var Q7=function(t){re(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){Hi("endBefore",this._value,n._path,!1);var r=YQ(n._queryParams,this._value,this._key);if(Tg(r),gs(r),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Kr(n._repo,n._path,r,n._orderByCalled)},e}(pi);function X7(t,e){return ph("endBefore","key",e,!0),new Q7(t,e)}var FL=function(t){re(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){Hi("startAt",this._value,n._path,!0);var r=Sb(n._queryParams,this._value,this._key);if(Tg(r),gs(r),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Kr(n._repo,n._path,r,n._orderByCalled)},e}(pi);function J7(t,e){return t===void 0&&(t=null),ph("startAt","key",e,!0),new FL(t,e)}var Z7=function(t){re(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){Hi("startAfter",this._value,n._path,!1);var r=zQ(n._queryParams,this._value,this._key);if(Tg(r),gs(r),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Kr(n._repo,n._path,r,n._orderByCalled)},e}(pi);function eX(t,e){return ph("startAfter","key",e,!0),new Z7(t,e)}var tX=function(t){re(e,t);function e(n){var r=t.call(this)||this;return r._limit=n,r}return e.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Kr(n._repo,n._path,WQ(n._queryParams,this._limit),n._orderByCalled)},e}(pi);function nX(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new tX(t)}var rX=function(t){re(e,t);function e(n){var r=t.call(this)||this;return r._limit=n,r}return e.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Kr(n._repo,n._path,GQ(n._queryParams,this._limit),n._orderByCalled)},e}(pi);function iX(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new rX(t)}var oX=function(t){re(e,t);function e(n){var r=t.call(this)||this;return r._path=n,r}return e.prototype._apply=function(n){Eg(n,"orderByChild");var r=new et(this._path);if(Fe(r))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var i=new EE(r),s=ug(n._queryParams,i);return gs(s),new Kr(n._repo,n._path,s,!0)},e}(pi);function sX(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Pf("orderByChild","path",t,!1),new oX(t)}var aX=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._apply=function(n){Eg(n,"orderByKey");var r=ug(n._queryParams,xi);return gs(r),new Kr(n._repo,n._path,r,!0)},e}(pi);function uX(){return new aX}var cX=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._apply=function(n){Eg(n,"orderByPriority");var r=ug(n._queryParams,ft);return gs(r),new Kr(n._repo,n._path,r,!0)},e}(pi);function lX(){return new cX}var fX=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._apply=function(n){Eg(n,"orderByValue");var r=ug(n._queryParams,TE);return gs(r),new Kr(n._repo,n._path,r,!0)},e}(pi);function hX(){return new fX}var dX=function(t){re(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){if(Hi("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new ML(this._value,this._key)._apply(new FL(this._value,this._key)._apply(n))},e}(pi);function pX(t,e){return ph("equalTo","key",e,!0),new dX(t,e)}function Jr(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=Pe(t);try{for(var a=nn(r),c=a.next();!c.done;c=a.next()){var l=c.value;s=l._apply(s)}}catch(h){e={error:h}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return s}V9(Wi);H9(Wi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vX="FIREBASE_DATABASE_EMULATOR_HOST",Vb={},UL=!1;function gX(t,e,n,r){t.repoInfo_=new gE(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}function VL(t,e,n,r,i){var s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||$i("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Jt("Using default host for project ",t.options.projectId),s=t.options.projectId+"-default-rtdb.firebaseio.com");var a=Fb(s,i),c=a.repoInfo,l,h=void 0;typeof process<"u"&&(h=DY[vX]),h?(l=!0,s="http://"+h+"?ns="+c.namespace,a=Fb(s,i),c=a.repoInfo):l=!a.repoInfo.secure;var d=i&&l?new af(af.OWNER):new WY(t.name,t.options,e);EL("Invalid Firebase Database URL",a),Fe(a.path)||$i("Database URL must point to the root of a Firebase Database (not including a child path).");var v=yX(c,t,d,new KY(t.name,n));return new wX(v,t)}function mX(t,e){var n=Vb[e];(!n||n[t.key]!==t)&&$i("Database "+e+"("+t.repoInfo_+") has already been deleted."),AL(t),delete n[t.key]}function yX(t,e,n,r){var i=Vb[e.name];i||(i={},Vb[e.name]=i);var s=i[t.toURLString()];return s&&$i("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new E7(t,UL,n,r),i[t.toURLString()]=s,s}function _X(t){UL=t}var wX=function(){function t(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(T7(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Wi(this._repo,Qe())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){return this._rootInternal!==null&&(mX(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},t.prototype._checkNotDeleted=function(e){this._rootInternal===null&&$i("Cannot call "+e+" on a deleted database.")},t}();function bX(t,e,n,r){r===void 0&&(r={}),t=Pe(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&$i("Cannot call useEmulator() after instance has already been initialized.");var i=t._repoInternal,s=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&$i('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new af(af.OWNER);else if(r.mockUserToken){var a=typeof r.mockUserToken=="string"?r.mockUserToken:sE(r.mockUserToken,t.app.options.projectId);s=new af(a)}gX(i,e,n,s)}function EX(t){t=Pe(t),t._checkNotDeleted("goOffline"),AL(t._repo)}function TX(t){t=Pe(t),t._checkNotDeleted("goOnline"),P7(t._repo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IX={".sv":"timestamp"};function SX(){return IX}function AX(t){return{".sv":{increment:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CX=function(){function t(e,n){this.committed=e,this.snapshot=n}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function NX(t,e,n){var r;if(t=Pe(t),Pr("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";var i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,s=new en,a=function(l,h,d){var v=null;l?s.reject(l):(v=new Ig(d,new Wi(t._repo,t._path),ft),s.resolve(new CX(h,v)))},c=Ub(t,function(){});return M7(t._repo,t._path,e,a,c,i),s.promise}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kX=function(){function t(e){this._delegate=e}return t.prototype.cancel=function(e){we("OnDisconnect.cancel",0,1,arguments.length),Xt("OnDisconnect.cancel","onComplete",e,!0);var n=this._delegate.cancel();return e&&n.then(function(){return e(null)},function(r){return e(r)}),n},t.prototype.remove=function(e){we("OnDisconnect.remove",0,1,arguments.length),Xt("OnDisconnect.remove","onComplete",e,!0);var n=this._delegate.remove();return e&&n.then(function(){return e(null)},function(r){return e(r)}),n},t.prototype.set=function(e,n){we("OnDisconnect.set",1,2,arguments.length),Xt("OnDisconnect.set","onComplete",n,!0);var r=this._delegate.set(e);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},t.prototype.setWithPriority=function(e,n,r){we("OnDisconnect.setWithPriority",2,3,arguments.length),Xt("OnDisconnect.setWithPriority","onComplete",r,!0);var i=this._delegate.setWithPriority(e,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},t.prototype.update=function(e,n){if(we("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var r={},i=0;i<e.length;++i)r[""+i]=e[i];e=r,pn("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Xt("OnDisconnect.update","onComplete",n,!0);var s=this._delegate.update(e);return n&&s.then(function(){return n(null)},function(a){return n(a)}),s},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RX=function(){function t(e,n){this.committed=e,this.snapshot=n}return t.prototype.toJSON=function(){return we("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ff=function(){function t(e,n){this._database=e,this._delegate=n}return t.prototype.val=function(){return we("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return we("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return we("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return we("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return we("DataSnapshot.child",0,1,arguments.length),e=String(e),Pf("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(e){return we("DataSnapshot.hasChild",1,1,arguments.length),Pf("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},t.prototype.getPriority=function(){return we("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return we("DataSnapshot.forEach",1,1,arguments.length),Xt("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(function(r){return e(new t(n._database,r))})},t.prototype.hasChildren=function(){return we("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return we("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return we("DataSnapshot.ref",0,0,arguments.length),new na(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),jL=function(){function t(e,n){this.database=e,this._delegate=n}return t.prototype.on=function(e,n,r,i){var s=this,a;we("Query.on",2,4,arguments.length),Xt("Query.on","callback",n,!1);var c=t.getCancelAndContextArgs_("Query.on",r,i),l=function(d,v){n.call(c.context,new ff(s.database,d),v)};l.userCallback=n,l.context=c.context;var h=(a=c.cancel)===null||a===void 0?void 0:a.bind(c.context);switch(e){case"value":return Ub(this._delegate,l,h),n;case"child_added":return PR(this._delegate,l,h),n;case"child_removed":return MR(this._delegate,l,h),n;case"child_changed":return xR(this._delegate,l,h),n;case"child_moved":return LR(this._delegate,l,h),n;default:throw new Error(rr("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(e,n,r){if(we("Query.off",0,3,arguments.length),g7("Query.off",e,!0),Xt("Query.off","callback",n,!0),Xk("Query.off","context",r,!0),n){var i=function(){};i.userCallback=n,i.context=r,FR(this._delegate,e,i)}else FR(this._delegate,e)},t.prototype.get=function(){var e=this;return z7(this._delegate).then(function(n){return new ff(e.database,n)})},t.prototype.once=function(e,n,r,i){var s=this;we("Query.once",1,4,arguments.length),Xt("Query.once","callback",n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),c=new en,l=function(d,v){var g=new ff(s.database,d);n&&n.call(a.context,g,v),c.resolve(g)};l.userCallback=n,l.context=a.context;var h=function(d){a.cancel&&a.cancel.call(a.context,d),c.reject(d)};switch(e){case"value":Ub(this._delegate,l,h,{onlyOnce:!0});break;case"child_added":PR(this._delegate,l,h,{onlyOnce:!0});break;case"child_removed":MR(this._delegate,l,h,{onlyOnce:!0});break;case"child_changed":xR(this._delegate,l,h,{onlyOnce:!0});break;case"child_moved":LR(this._delegate,l,h,{onlyOnce:!0});break;default:throw new Error(rr("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise},t.prototype.limitToFirst=function(e){return we("Query.limitToFirst",1,1,arguments.length),new t(this.database,Jr(this._delegate,nX(e)))},t.prototype.limitToLast=function(e){return we("Query.limitToLast",1,1,arguments.length),new t(this.database,Jr(this._delegate,iX(e)))},t.prototype.orderByChild=function(e){return we("Query.orderByChild",1,1,arguments.length),new t(this.database,Jr(this._delegate,sX(e)))},t.prototype.orderByKey=function(){return we("Query.orderByKey",0,0,arguments.length),new t(this.database,Jr(this._delegate,uX()))},t.prototype.orderByPriority=function(){return we("Query.orderByPriority",0,0,arguments.length),new t(this.database,Jr(this._delegate,lX()))},t.prototype.orderByValue=function(){return we("Query.orderByValue",0,0,arguments.length),new t(this.database,Jr(this._delegate,hX()))},t.prototype.startAt=function(e,n){return e===void 0&&(e=null),we("Query.startAt",0,2,arguments.length),new t(this.database,Jr(this._delegate,J7(e,n)))},t.prototype.startAfter=function(e,n){return e===void 0&&(e=null),we("Query.startAfter",0,2,arguments.length),new t(this.database,Jr(this._delegate,eX(e,n)))},t.prototype.endAt=function(e,n){return e===void 0&&(e=null),we("Query.endAt",0,2,arguments.length),new t(this.database,Jr(this._delegate,Y7(e,n)))},t.prototype.endBefore=function(e,n){return e===void 0&&(e=null),we("Query.endBefore",0,2,arguments.length),new t(this.database,Jr(this._delegate,X7(e,n)))},t.prototype.equalTo=function(e,n){return we("Query.equalTo",1,2,arguments.length),new t(this.database,Jr(this._delegate,pX(e,n)))},t.prototype.toString=function(){return we("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return we("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if(we("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(e,n,r){var i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Xt(e,"cancel",i.cancel,!0),i.context=r,Xk(e,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(rr(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i},Object.defineProperty(t.prototype,"ref",{get:function(){return new na(this.database,new Wi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),na=function(t){re(e,t);function e(n,r){var i=t.call(this,n,new Kr(r._repo,r._path,new Xx,!1))||this;return i.database=n,i._delegate=r,i}return e.prototype.getKey=function(){return we("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(n){return we("Reference.child",1,1,arguments.length),typeof n=="number"&&(n=String(n)),new e(this.database,Sa(this._delegate,n))},e.prototype.getParent=function(){we("Reference.parent",0,0,arguments.length);var n=this._delegate.parent;return n?new e(this.database,n):null},e.prototype.getRoot=function(){return we("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(n,r){we("Reference.set",1,2,arguments.length),Xt("Reference.set","onComplete",r,!0);var i=GE(this._delegate,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},e.prototype.update=function(n,r){if(we("Reference.update",1,2,arguments.length),Array.isArray(n)){for(var i={},s=0;s<n.length;++s)i[""+s]=n[s];n=i,pn("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Pr("Reference.update",this._delegate._path),Xt("Reference.update","onComplete",r,!0);var a=G7(this._delegate,n);return r&&a.then(function(){return r(null)},function(c){return r(c)}),a},e.prototype.setWithPriority=function(n,r,i){we("Reference.setWithPriority",2,3,arguments.length),Xt("Reference.setWithPriority","onComplete",i,!0);var s=W7(this._delegate,n,r);return i&&s.then(function(){return i(null)},function(a){return i(a)}),s},e.prototype.remove=function(n){we("Reference.remove",0,1,arguments.length),Xt("Reference.remove","onComplete",n,!0);var r=H7(this._delegate);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},e.prototype.transaction=function(n,r,i){var s=this;we("Reference.transaction",1,3,arguments.length),Xt("Reference.transaction","transactionUpdate",n,!1),Xt("Reference.transaction","onComplete",r,!0),y7("Reference.transaction","applyLocally",i,!0);var a=NX(this._delegate,n,{applyLocally:i}).then(function(c){return new RX(c.committed,new ff(s.database,c.snapshot))});return r&&a.then(function(c){return r(null,c.committed,c.snapshot)},function(c){return r(c,!1,null)}),a},e.prototype.setPriority=function(n,r){we("Reference.setPriority",1,2,arguments.length),Xt("Reference.setPriority","onComplete",r,!0);var i=K7(this._delegate,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},e.prototype.push=function(n,r){var i=this;we("Reference.push",0,2,arguments.length),Xt("Reference.push","onComplete",r,!0);var s=q7(this._delegate,n),a=s.then(function(l){return new e(i.database,l)});r&&a.then(function(){return r(null)},function(l){return r(l)});var c=new e(this.database,s);return c.then=a.then.bind(a),c.catch=a.catch.bind(a,void 0),c},e.prototype.onDisconnect=function(){return Pr("Reference.onDisconnect",this._delegate._path),new kX(new $7(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(jL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iv=function(){function t(e,n){var r=this;this._delegate=e,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return t.prototype.useEmulator=function(e,n,r){r===void 0&&(r={}),bX(this._delegate,e,n,r)},t.prototype.ref=function(e){if(we("database.ref",0,1,arguments.length),e instanceof na){var n=DR(this._delegate,e.toString());return new na(this,n)}else{var n=PL(this._delegate,e);return new na(this,n)}},t.prototype.refFromURL=function(e){var n="database.refFromURL";we(n,1,1,arguments.length);var r=DR(this._delegate,e);return new na(this,r)},t.prototype.goOffline=function(){return we("database.goOffline",0,0,arguments.length),EX(this._delegate)},t.prototype.goOnline=function(){return we("database.goOnline",0,0,arguments.length),TX(this._delegate)},t.ServerValue={TIMESTAMP:SX(),increment:function(e){return AX(e)}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OX=function(){Ys.forceDisallow(),yE.forceAllow()},DX=function(){yE.forceDisallow()},PX=function(){return Ys.isAvailable()},xX=function(t,e){var n=t._delegate._repo.persistentConnection_;n.securityDebugCallback_=e},LX=function(t,e){x7(t._delegate._repo,e)},MX=function(t,e){L7(t._delegate._repo,e)},FX=function(t){return t._delegate._repo.dataUpdateCount},UX=function(t,e){return I7(t._delegate._repo,e)};function VX(t){var e=t.app,n=t.url,r=t.version,i=t.customAuthImpl,s=t.namespace,a=t.nodeAdmin,c=a===void 0?!1:a;vx(r);var l=new cx("auth-internal",new lx("database-standalone"));return l.setComponent(new kn("auth-internal",function(){return i},"PRIVATE")),{instance:new iv(VL(e,l,void 0,n,c),e),namespace:s}}var jX=Object.freeze({__proto__:null,forceLongPolling:OX,forceWebSockets:DX,isWebSocketsAvailable:PX,setSecurityDebugCallback:xX,stats:LX,statsIncrementCounter:MX,dataUpdateCount:FX,interceptServerData:UX,initStandalone:VX});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BX=da;da.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};da.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var $X=Fx,qX=function(t){var e=da.prototype.put;return da.prototype.put=function(n,r,i,s){s!==void 0&&(s=t()),e.call(this,n,r,i,s)},function(){da.prototype.put=e}},HX=gE,KX=function(t){return t._delegate._queryIdentifier},WX=function(t){_X(t)},GX=Object.freeze({__proto__:null,DataConnection:BX,RealTimeConnection:$X,hijackHash:qX,ConnectionTarget:HX,queryIdentifier:KX,forceRestClient:WX});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zX=iv.ServerValue;function YX(t){vx(t.SDK_VERSION),t.INTERNAL.registerComponent(new kn("database",function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new iv(VL(i,s,a,r),i)},"PUBLIC").setServiceProps({Reference:na,Query:jL,Database:iv,DataSnapshot:ff,enableLogging:_x,INTERNAL:jX,ServerValue:zX,TEST_ACCESS:GX}).setMultipleInstances(!0)),t.registerVersion(PY,xY)}YX(ce);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var jb=function(t,e){return jb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},jb(t,e)};function QX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");jb(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function BL(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var XX=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},oe,zE=zE||{},Ce=XX||self;function ov(){}function Bb(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function mh(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function JX(t){return Object.prototype.hasOwnProperty.call(t,mw)&&t[mw]||(t[mw]=++ZX)}var mw="closure_uid_"+(1e9*Math.random()>>>0),ZX=0;function eJ(t,e,n){return t.call.apply(t.bind,arguments)}function tJ(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function vn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?vn=eJ:vn=tJ,vn.apply(null,arguments)}function tp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function _n(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var a=Array(arguments.length-2),c=2;c<arguments.length;c++)a[c-2]=arguments[c];return e.prototype[i].apply(r,a)}}function ms(){this.s=this.s,this.o=this.o}var nJ=0;ms.prototype.s=!1;ms.prototype.na=function(){!this.s&&(this.s=!0,this.M(),nJ!=0)&&JX(this)};ms.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var $L=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},qL=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=typeof t=="string"?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function rJ(t){e:{for(var e=zJ,n=t.length,r=typeof t=="string"?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function UR(t){return Array.prototype.concat.apply([],arguments)}function YE(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function sv(t){return/^[\s\xa0]*$/.test(t)}var VR=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function jn(t,e){return t.indexOf(e)!=-1}function yw(t,e){return t<e?-1:t>e?1:0}var Bn;e:{var jR=Ce.navigator;if(jR){var BR=jR.userAgent;if(BR){Bn=BR;break e}}Bn=""}function QE(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function HL(t){var e={};for(var n in t)e[n]=t[n];return e}var $R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function KL(t,e){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(var s=0;s<$R.length;s++)n=$R[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function XE(t){return XE[" "](t),t}XE[" "]=ov;function iJ(t){var e=aJ;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var oJ=jn(Bn,"Opera"),lc=jn(Bn,"Trident")||jn(Bn,"MSIE"),WL=jn(Bn,"Edge"),$b=WL||lc,GL=jn(Bn,"Gecko")&&!(jn(Bn.toLowerCase(),"webkit")&&!jn(Bn,"Edge"))&&!(jn(Bn,"Trident")||jn(Bn,"MSIE"))&&!jn(Bn,"Edge"),sJ=jn(Bn.toLowerCase(),"webkit")&&!jn(Bn,"Edge");function zL(){var t=Ce.document;return t?t.documentMode:void 0}var av;e:{var _w="",ww=function(){var t=Bn;if(GL)return/rv:([^\);]+)(\)|;)/.exec(t);if(WL)return/Edge\/([\d\.]+)/.exec(t);if(lc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(sJ)return/WebKit\/(\S+)/.exec(t);if(oJ)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(ww&&(_w=ww?ww[1]:""),lc){var bw=zL();if(bw!=null&&bw>parseFloat(_w)){av=String(bw);break e}}av=_w}var aJ={};function uJ(){return iJ(function(){for(var t=0,e=VR(String(av)).split("."),n=VR("9").split("."),r=Math.max(e.length,n.length),i=0;t==0&&i<r;i++){var s=e[i]||"",a=n[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s[0].length==0&&a[0].length==0)break;t=yw(s[1].length==0?0:parseInt(s[1],10),a[1].length==0?0:parseInt(a[1],10))||yw(s[2].length==0,a[2].length==0)||yw(s[2],a[2]),s=s[3],a=a[3]}while(t==0)}return 0<=t})}var qb;if(Ce.document&&lc){var qR=zL();qb=qR||parseInt(av,10)||void 0}else qb=void 0;var cJ=qb,lJ=function(){if(!Ce.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ce.addEventListener("test",ov,e),Ce.removeEventListener("test",ov,e)}catch{}return t}();function An(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}An.prototype.h=function(){this.defaultPrevented=!0};function xf(t,e){if(An.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(GL){e:{try{XE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:fJ[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&xf.Z.h.call(this)}}_n(xf,An);var fJ={2:"touch",3:"pen",4:"mouse"};xf.prototype.h=function(){xf.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var yh="closure_listenable_"+(1e6*Math.random()|0),hJ=0;function dJ(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++hJ,this.ca=this.fa=!1}function Sg(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Ag(t){this.src=t,this.g={},this.h=0}Ag.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var a=Kb(t,e,r,i);return-1<a?(e=t[a],n||(e.fa=!1)):(e=new dJ(e,this.src,s,!!r,i),e.fa=n,t.push(e)),e};function Hb(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=$L(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Sg(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Kb(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}var JE="closure_lm_"+(1e6*Math.random()|0),Ew={};function YL(t,e,n,r,i){if(r&&r.once)return XL(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)YL(t,e[s],n,r,i);return null}return n=tT(n),t&&t[yh]?t.N(e,n,mh(r)?!!r.capture:!!r,i):QL(t,e,n,!1,r,i)}function QL(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var a=mh(i)?!!i.capture:!!i,c=eT(t);if(c||(t[JE]=c=new Ag(t)),n=c.add(e,n,r,a,s),n.proxy)return n;if(r=pJ(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)lJ||(i=a),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ZL(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function pJ(){function t(n){return e.call(t.src,t.listener,n)}var e=vJ;return t}function XL(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)XL(t,e[s],n,r,i);return null}return n=tT(n),t&&t[yh]?t.O(e,n,mh(r)?!!r.capture:!!r,i):QL(t,e,n,!0,r,i)}function JL(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)JL(t,e[s],n,r,i);else r=mh(r)?!!r.capture:!!r,n=tT(n),t&&t[yh]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Kb(s,n,r,i),-1<n&&(Sg(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=eT(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Kb(e,n,r,i)),(n=-1<t?e[t]:null)&&ZE(n))}function ZE(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[yh])Hb(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ZL(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=eT(e))?(Hb(n,t),n.h==0&&(n.src=null,e[JE]=null)):Sg(t)}}}function ZL(t){return t in Ew?Ew[t]:Ew[t]="on"+t}function vJ(t,e){if(t.ca)t=!0;else{e=new xf(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&ZE(t),t=n.call(r,e)}return t}function eT(t){return t=t[JE],t instanceof Ag?t:null}var Tw="__closure_events_fn_"+(1e9*Math.random()>>>0);function tT(t){return typeof t=="function"?t:(t[Tw]||(t[Tw]=function(e){return t.handleEvent(e)}),t[Tw])}function rn(){ms.call(this),this.i=new Ag(this),this.P=this,this.I=null}_n(rn,ms);rn.prototype[yh]=!0;rn.prototype.removeEventListener=function(t,e,n,r){JL(this,t,e,n,r)};function gn(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new An(e,t);else if(e instanceof An)e.target=e.target||t;else{var i=e;e=new An(r,t),KL(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=e.g=n[s];i=np(a,r,!0,e)&&i}if(a=e.g=t,i=np(a,r,!0,e)&&i,i=np(a,r,!1,e)&&i,n)for(s=0;s<n.length;s++)a=e.g=n[s],i=np(a,r,!1,e)&&i}rn.prototype.M=function(){if(rn.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Sg(n[r]);delete t.g[e],t.h--}}this.I=null};rn.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};rn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function np(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var a=e[s];if(a&&!a.ca&&a.capture==n){var c=a.listener,l=a.ia||a.src;a.fa&&Hb(t.i,a),i=c.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var nT=Ce.JSON.stringify;function gJ(){var t=tM,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var mJ=function(){function t(){this.h=this.g=null}return t.prototype.add=function(e,n){var r=eM.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r},t}(),eM=new(function(){function t(e,n){this.i=e,this.j=n,this.h=0,this.g=null}return t.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},t}())(function(){return new yJ},function(t){return t.reset()}),yJ=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(e,n){this.h=e,this.g=n,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function _J(t){Ce.setTimeout(function(){throw t},0)}function rT(t,e){Wb||wJ(),Gb||(Wb(),Gb=!0),tM.add(t,e)}var Wb;function wJ(){var t=Ce.Promise.resolve(void 0);Wb=function(){t.then(bJ)}}var Gb=!1,tM=new mJ;function bJ(){for(var t;t=gJ();){try{t.h.call(t.g)}catch(n){_J(n)}var e=eM;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Gb=!1}function Cg(t,e){rn.call(this),this.h=t||1,this.g=e||Ce,this.j=vn(this.kb,this),this.l=Date.now()}_n(Cg,rn);oe=Cg.prototype;oe.da=!1;oe.S=null;oe.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),gn(this,"tick"),this.da&&(iT(this),this.start()))}};oe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function iT(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}oe.M=function(){Cg.Z.M.call(this),iT(this),delete this.g};function oT(t,e,n){if(typeof t=="function")n&&(t=vn(t,n));else if(t&&typeof t.handleEvent=="function")t=vn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ce.setTimeout(t,e||0)}function nM(t){t.g=oT(function(){t.g=null,t.i&&(t.i=!1,nM(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}var EJ=function(t){QX(e,t);function e(n,r){var i=t.call(this)||this;return i.m=n,i.j=r,i.h=null,i.i=!1,i.g=null,i}return e.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:nM(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(Ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(ms);function Lf(t){ms.call(this),this.h=t,this.g={}}_n(Lf,ms);var HR=[];function rM(t,e,n,r){Array.isArray(n)||(n&&(HR[0]=n.toString()),n=HR);for(var i=0;i<n.length;i++){var s=YL(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function iM(t){QE(t.g,function(e,n){this.g.hasOwnProperty(n)&&ZE(e)},t),t.g={}}Lf.prototype.M=function(){Lf.Z.M.call(this),iM(this)};Lf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ng(){this.g=!0}Ng.prototype.Aa=function(){this.g=!1};function TJ(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var a="",c=s.split("&"),l=0;l<c.length;l++){var h=c[l].split("=");if(1<h.length){var d=h[0];h=h[1];var v=d.split("_");a=2<=v.length&&v[1]=="type"?a+(d+"="+h+"&"):a+(d+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+a})}function IJ(t,e,n,r,i,s,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+a})}function Lu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+AJ(t,n)+(r?" "+r:"")})}function SJ(t,e){t.info(function(){return"TIMEOUT: "+e})}Ng.prototype.info=function(){};function AJ(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return nT(n)}catch{return e}}var Ba={},KR=null;function kg(){return KR=KR||new rn}Ba.Ma="serverreachability";function oM(t){An.call(this,Ba.Ma,t)}_n(oM,An);function Mf(t){var e=kg();gn(e,new oM(e))}Ba.STAT_EVENT="statevent";function sM(t,e){An.call(this,Ba.STAT_EVENT,t),this.stat=e}_n(sM,An);function qn(t){var e=kg();gn(e,new sM(e,t))}Ba.Na="timingevent";function aM(t,e){An.call(this,Ba.Na,t),this.size=e}_n(aM,An);function _h(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ce.setTimeout(function(){t()},e)}var Rg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},uM={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function sT(){}sT.prototype.h=null;function WR(t){return t.h||(t.h=t.i())}function cM(){}var wh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function aT(){An.call(this,"d")}_n(aT,An);function uT(){An.call(this,"c")}_n(uT,An);var zb;function Og(){}_n(Og,sT);Og.prototype.g=function(){return new XMLHttpRequest};Og.prototype.i=function(){return{}};zb=new Og;function bh(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Lf(this),this.P=CJ,t=$b?125:void 0,this.W=new Cg(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new lM}function lM(){this.i=null,this.g="",this.h=!1}var CJ=45e3,Yb={},uv={};oe=bh.prototype;oe.setTimeout=function(t){this.P=t};function Qb(t,e,n){t.K=1,t.v=Pg(mo(e)),t.s=n,t.U=!0,fM(t,null)}function fM(t,e){t.F=Date.now(),Eh(t),t.A=mo(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),yM(n.h,"t",r),t.C=0,n=t.l.H,t.h=new lM,t.g=UM(t.l,n?e:null,!t.s),0<t.O&&(t.L=new EJ(vn(t.Ia,t,t.g),t.O)),rM(t.V,t.g,"readystatechange",t.gb),e=t.H?HL(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Mf(),TJ(t.j,t.u,t.A,t.m,t.X,t.s)}oe.gb=function(t){t=t.target;var e=this.L;e&&so(t)==3?e.l():this.Ia(t)};oe.Ia=function(t){try{if(t==this.g)e:{var e=so(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(e!=3||$b||this.g&&(this.h.h||this.g.ga()||QR(this.g)))){this.I||e!=4||n==7||(n==8||0>=r?Mf(3):Mf(2)),Dg(this);var i=this.g.ba();this.N=i;t:if(hM(this)){var s=QR(this.g);t="";var a=s.length,c=so(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ra(this),hf(this);var l="";break t}this.h.i=new Ce.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,t+=this.h.i.decode(s[n],{stream:c&&n==a-1});s.splice(0,a),this.h.g+=t,this.C=0,l=this.h.g}else l=this.g.ga();if(this.i=i==200,IJ(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){t:{if(this.g){var h,d=this.g;if((h=d.g?d.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sv(h)){var v=h;break t}}v=null}if(i=v)Lu(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Xb(this,i);else{this.i=!1,this.o=3,qn(12),ra(this),hf(this);break e}}this.U?(dM(this,e,l),$b&&this.i&&e==3&&(rM(this.V,this.W,"tick",this.fb),this.W.start())):(Lu(this.j,this.m,l,null),Xb(this,l)),e==4&&ra(this),this.i&&!this.I&&(e==4?xM(this.l,this):(this.i=!1,Eh(this)))}else i==400&&0<l.indexOf("Unknown SID")?(this.o=3,qn(12)):(this.o=0,qn(13)),ra(this),hf(this)}}}catch{}finally{}};function hM(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function dM(t,e,n){for(var r=!0,i;!t.I&&t.C<n.length;)if(i=NJ(t,n),i==uv){e==4&&(t.o=4,qn(14),r=!1),Lu(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Yb){t.o=4,qn(15),Lu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Lu(t.j,t.m,i,null),Xb(t,i);hM(t)&&i!=uv&&i!=Yb&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,qn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),mT(e),e.L=!0,qn(11))):(Lu(t.j,t.m,n,"[Invalid Chunked Response]"),ra(t),hf(t))}oe.fb=function(){if(this.g){var t=so(this.g),e=this.g.ga();this.C<e.length&&(Dg(this),dM(this,t,e),this.i&&t!=4&&Eh(this))}};function NJ(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?uv:(n=Number(e.substring(n,r)),isNaN(n)?Yb:(r+=1,r+n>e.length?uv:(e=e.substr(r,n),t.C=r+n,e)))}oe.cancel=function(){this.I=!0,ra(this)};function Eh(t){t.Y=Date.now()+t.P,pM(t,t.P)}function pM(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=_h(vn(t.eb,t),e)}function Dg(t){t.B&&(Ce.clearTimeout(t.B),t.B=null)}oe.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(SJ(this.j,this.A),this.K!=2&&(Mf(),qn(17)),ra(this),this.o=2,hf(this)):pM(this,this.Y-t)};function hf(t){t.l.G==0||t.I||xM(t.l,t)}function ra(t){Dg(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,iT(t.W),iM(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Xb(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Jb(n.i,t))){if(n.I=t.N,!t.J&&Jb(n.i,t)&&n.G==3){try{var r=n.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)hv(n),Mg(n);else break e;gT(n),qn(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=_h(vn(n.ab,n),6e3));if(1>=bM(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else ia(n,11)}else if((t.J||n.g==t)&&hv(n),!sv(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var s=i[e];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var a=s[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var c=s[4];c!=null&&(n.za=c,n.h.info("SVER="+n.za));var l=s[5];l!=null&&typeof l=="number"&&0<l&&(r=1.5*l,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var h=t.g;if(h){var d=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(d){var v=r.i;!v.g&&(jn(d,"spdy")||jn(d,"quic")||jn(d,"h2"))&&(v.j=v.l,v.g=new Set,v.h&&(fT(v,v.h),v.h=null))}if(r.D){var g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.sa=g,mt(r.F,r.D,g))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var y=t;if(r.oa=FM(r,r.H?r.la:null,r.W),y.J){EM(r.i,y);var w=y,E=r.K;E&&w.setTimeout(E),w.B&&(Dg(w),Eh(w)),r.g=y}else DM(r);0<n.l.length&&Fg(n)}else s[0]!="stop"&&s[0]!="close"||ia(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?ia(n,7):vT(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}Mf(4)}catch{}}function kJ(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(Bb(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function cT(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Bb(t)||typeof t=="string")qL(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(Bb(t)||typeof t=="string"){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=kJ(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Hc(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Hc)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}oe=Hc.prototype;oe.R=function(){lT(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};oe.T=function(){return lT(this),this.g.concat()};function lT(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Aa(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)r=t.g[e],Aa(i,r)||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}oe.get=function(t,e){return Aa(this.h,t)?this.h[t]:e};oe.set=function(t,e){Aa(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};oe.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};function Aa(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var vM=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function RJ(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ca(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Ca){this.g=e!==void 0?e:t.g,cv(this,t.j),this.s=t.s,lv(this,t.i),fv(this,t.m),this.l=t.l,e=t.h;var n=new Ff;n.i=e.i,e.g&&(n.g=new Hc(e.g),n.h=e.h),GR(this,n),this.o=t.o}else t&&(n=String(t).match(vM))?(this.g=!!e,cv(this,n[1]||"",!0),this.s=df(n[2]||""),lv(this,n[3]||"",!0),fv(this,n[4]),this.l=df(n[5]||"",!0),GR(this,n[6]||"",!0),this.o=df(n[7]||"")):(this.g=!!e,this.h=new Ff(null,this.g))}Ca.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Xl(e,zR,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Xl(e,zR,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(Xl(n,n.charAt(0)=="/"?LJ:xJ,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Xl(n,FJ)),t.join("")};function mo(t){return new Ca(t)}function cv(t,e,n){t.j=n?df(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function lv(t,e,n){t.i=n?df(e,!0):e}function fv(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function GR(t,e,n){e instanceof Ff?(t.h=e,UJ(t.h,t.g)):(n||(e=Xl(e,MJ)),t.h=new Ff(e,t.g))}function mt(t,e,n){t.h.set(e,n)}function Pg(t){return mt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function OJ(t){return t instanceof Ca?mo(t):new Ca(t,void 0)}function DJ(t,e,n,r){var i=new Ca(null,void 0);return t&&cv(i,t),e&&lv(i,e),n&&fv(i,n),r&&(i.l=r),i}function df(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Xl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,PJ),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function PJ(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var zR=/[#\/\?@]/g,xJ=/[#\?:]/g,LJ=/[#\?]/g,MJ=/[#\?@]/g,FJ=/#/g;function Ff(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ys(t){t.g||(t.g=new Hc,t.h=0,t.i&&RJ(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}oe=Ff.prototype;oe.add=function(t,e){ys(this),this.i=null,t=Kc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function gM(t,e){ys(t),e=Kc(t,e),Aa(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,Aa(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&lT(t)))}function mM(t,e){return ys(t),e=Kc(t,e),Aa(t.g.h,e)}oe.forEach=function(t,e){ys(this),this.g.forEach(function(n,r){qL(n,function(i){t.call(e,i,r,this)},this)},this)};oe.T=function(){ys(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n};oe.R=function(t){ys(this);var e=[];if(typeof t=="string")mM(this,t)&&(e=UR(e,this.g.get(Kc(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=UR(e,t[n])}return e};oe.set=function(t,e){return ys(this),this.i=null,t=Kc(this,t),mM(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};oe.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function yM(t,e,n){gM(t,e),0<n.length&&(t.i=null,t.g.set(Kc(t,e),YE(n)),t.h+=n.length)}oe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var a=i;r[s]!==""&&(a+="="+encodeURIComponent(String(r[s]))),t.push(a)}}return this.i=t.join("&")};function Kc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function UJ(t,e){e&&!t.j&&(ys(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(gM(this,r),yM(this,i,n))},t)),t.j=e}var VJ=function(){function t(e,n){this.h=e,this.g=n}return t}();function _M(t){this.l=t||jJ,Ce.PerformanceNavigationTiming?(t=Ce.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ce.g&&Ce.g.Ea&&Ce.g.Ea()&&Ce.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var jJ=10;function wM(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function bM(t){return t.h?1:t.g?t.g.size:0}function Jb(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function fT(t,e){t.g?t.g.add(e):t.h=e}function EM(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}_M.prototype.cancel=function(){var t,e;if(this.i=TM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=BL(this.g.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(s){t={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}};function TM(t){var e,n;if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){var r=t.i;try{for(var i=BL(t.g.values()),s=i.next();!s.done;s=i.next()){var a=s.value;r=r.concat(a.D)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return YE(t.i)}function hT(){}hT.prototype.stringify=function(t){return Ce.JSON.stringify(t,void 0)};hT.prototype.parse=function(t){return Ce.JSON.parse(t,void 0)};function BJ(){this.g=new hT}function $J(t,e,n){var r=n||"";try{cT(t,function(i,s){var a=i;mh(i)&&(a=nT(i)),e.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function qJ(t,e){var n=new Ng;if(Ce.Image){var r=new Image;r.onload=tp(rp,n,r,"TestLoadImage: loaded",!0,e),r.onerror=tp(rp,n,r,"TestLoadImage: error",!1,e),r.onabort=tp(rp,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=tp(rp,n,r,"TestLoadImage: timeout",!1,e),Ce.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function rp(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Th(t){this.l=t.$b||null,this.j=t.ib||!1}_n(Th,sT);Th.prototype.g=function(){return new xg(this.l,this.j)};Th.prototype.i=function(t){return function(){return t}}({});function xg(t,e){rn.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=dT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_n(xg,rn);var dT=0;oe=xg.prototype;oe.open=function(t,e){if(this.readyState!=dT)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Uf(this)};oe.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Ce).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};oe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ih(this)),this.readyState=dT};oe.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Uf(this)),this.g&&(this.readyState=3,Uf(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Ce.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;IM(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function IM(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}oe.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ih(this):Uf(this),this.readyState==3&&IM(this)}};oe.Ua=function(t){this.g&&(this.response=this.responseText=t,Ih(this))};oe.Ta=function(t){this.g&&(this.response=t,Ih(this))};oe.ha=function(){this.g&&Ih(this)};function Ih(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Uf(t)}oe.setRequestHeader=function(t,e){this.v.append(t,e)};oe.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};oe.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Uf(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(xg.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var HJ=Ce.JSON.parse;function Vt(t){rn.call(this),this.headers=new Hc,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=SM,this.K=this.L=!1}_n(Vt,rn);var SM="",KJ=/^https?$/i,WJ=["POST","PUT"];oe=Vt.prototype;oe.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():zb.g(),this.C=this.u?WR(this.u):WR(zb),this.g.onreadystatechange=vn(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){YR(this,s);return}t=n||"";var i=new Hc(this.headers);r&&cT(r,function(s,a){i.set(a,s)}),r=rJ(i.T()),n=Ce.FormData&&t instanceof Ce.FormData,!(0<=$L(WJ,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,a){this.g.setRequestHeader(a,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{NM(this),0<this.B&&((this.K=GJ(this.g))?(this.g.timeout=this.B,this.g.ontimeout=vn(this.pa,this)):this.A=oT(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){YR(this,s)}};function GJ(t){return lc&&uJ()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function zJ(t){return t.toLowerCase()=="content-type"}oe.pa=function(){typeof zE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gn(this,"timeout"),this.abort(8))};function YR(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,AM(t),Lg(t)}function AM(t){t.D||(t.D=!0,gn(t,"complete"),gn(t,"error"))}oe.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,gn(this,"complete"),gn(this,"abort"),Lg(this))};oe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Lg(this,!0)),Vt.Z.M.call(this)};oe.Fa=function(){this.s||(this.F||this.v||this.l?CM(this):this.cb())};oe.cb=function(){CM(this)};function CM(t){if(t.h&&typeof zE<"u"&&(!t.C[1]||so(t)!=4||t.ba()!=2)){if(t.v&&so(t)==4)oT(t.Fa,0,t);else if(gn(t,"readystatechange"),so(t)==4){t.h=!1;try{var e=t.ba();e:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=e===0){var s=String(t.H).match(vM)[1]||null;if(!s&&Ce.self&&Ce.self.location){var a=Ce.self.location.protocol;s=a.substr(0,a.length-1)}i=!KJ.test(s?s.toLowerCase():"")}r=i}if(r)gn(t,"complete"),gn(t,"success");else{t.m=6;try{var c=2<so(t)?t.g.statusText:""}catch{c=""}t.j=c+" ["+t.ba()+"]",AM(t)}}finally{Lg(t)}}}}function Lg(t,e){if(t.g){NM(t);var n=t.g,r=t.C[0]?ov:null;t.g=null,t.C=null,e||gn(t,"ready");try{n.onreadystatechange=r}catch{}}}function NM(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Ce.clearTimeout(t.A),t.A=null)}function so(t){return t.g?t.g.readyState:0}oe.ba=function(){try{return 2<so(this)?this.g.status:-1}catch{return-1}};oe.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};oe.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),HJ(e)}};function QR(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case SM:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}oe.Da=function(){return this.m};oe.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function YJ(t){var e="";return QE(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function pT(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=YJ(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):mt(t,e,n))}function Wl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function kM(t){this.za=0,this.l=[],this.h=new Ng,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Wl("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Wl("baseRetryDelayMs",5e3,t),this.$a=Wl("retryDelaySeedMs",1e4,t),this.Ya=Wl("forwardChannelMaxRetries",2,t),this.ra=Wl("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new _M(t&&t.concurrentRequestLimit),this.Ca=new BJ,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}oe=kM.prototype;oe.ma=8;oe.G=1;function vT(t){if(RM(t),t.G==3){var e=t.V++,n=mo(t.F);mt(n,"SID",t.J),mt(n,"RID",e),mt(n,"TYPE","terminate"),Sh(t,n),e=new bh(t,t.h,e,void 0),e.K=2,e.v=Pg(mo(n)),n=!1,Ce.navigator&&Ce.navigator.sendBeacon&&(n=Ce.navigator.sendBeacon(e.v.toString(),"")),!n&&Ce.Image&&(new Image().src=e.v,n=!0),n||(e.g=UM(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Eh(e)}MM(t)}oe.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function Mg(t){t.g&&(mT(t),t.g.cancel(),t.g=null)}function RM(t){Mg(t),t.u&&(Ce.clearTimeout(t.u),t.u=null),hv(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ce.clearTimeout(t.m),t.m=null)}function Iw(t,e){t.l.push(new VJ(t.Za++,e)),t.G==3&&Fg(t)}function Fg(t){wM(t.i)||t.m||(t.m=!0,rT(t.Ha,t),t.C=0)}function QJ(t,e){return bM(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=_h(vn(t.Ha,t,e),LM(t,t.C)),t.C++,!0)}oe.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new bh(this,this.h,t,void 0),n=this.s;if(this.P&&(n?(n=HL(n),KL(n,this.P)):n=this.P),this.o===null&&(e.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){t:{var s=this.l[i];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=i;break e}if(r===4096||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=OM(this,e,r),i=mo(this.F),mt(i,"RID",t),mt(i,"CVER",22),this.D&&mt(i,"X-HTTP-Session-Id",this.D),Sh(this,i),this.o&&n&&pT(i,this.o,n),fT(this.i,e),this.Ra&&mt(i,"TYPE","init"),this.ja?(mt(i,"$req",r),mt(i,"SID","null"),e.$=!0,Qb(e,i,null)):Qb(e,i,r),this.G=2}}else this.G==3&&(t?XR(this,t):this.l.length==0||wM(this.i)||XR(this))};function XR(t,e){var n;e?n=e.m:n=t.V++;var r=mo(t.F);mt(r,"SID",t.J),mt(r,"RID",n),mt(r,"AID",t.U),Sh(t,r),t.o&&t.s&&pT(r,t.o,t.s),n=new bh(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=OM(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),fT(t.i,n),Qb(n,r,e)}function Sh(t,e){t.j&&cT({},function(n,r){mt(e,r,n)})}function OM(t,e,n){n=Math.min(t.l.length,n);var r=t.j?vn(t.j.Oa,t.j,t):null;e:for(var i=t.l,s=-1;;){var a=["count="+n];s==-1?0<n?(s=i[0].h,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var c=!0,l=0;l<n;l++){var h=i[l].h,d=i[l].g;if(h-=s,0>h)s=Math.max(0,i[l].h-100),c=!1;else try{$J(d,a,"req"+h+"_")}catch{r&&r(d)}}if(c){r=a.join("&");break e}}return t=t.l.splice(0,n),e.D=t,r}function DM(t){t.g||t.u||(t.Y=1,rT(t.Ga,t),t.A=0)}function gT(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=_h(vn(t.Ga,t),LM(t,t.A)),t.A++,!0)}oe.Ga=function(){if(this.u=null,PM(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=_h(vn(this.bb,this),t)}};oe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,qn(10),Mg(this),PM(this))};function mT(t){t.B!=null&&(Ce.clearTimeout(t.B),t.B=null)}function PM(t){t.g=new bh(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=mo(t.oa);mt(e,"RID","rpc"),mt(e,"SID",t.J),mt(e,"CI",t.N?"0":"1"),mt(e,"AID",t.U),Sh(t,e),mt(e,"TYPE","xmlhttp"),t.o&&t.s&&pT(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Pg(mo(e)),n.s=null,n.U=!0,fM(n,t)}oe.ab=function(){this.v!=null&&(this.v=null,Mg(this),gT(this),qn(19))};function hv(t){t.v!=null&&(Ce.clearTimeout(t.v),t.v=null)}function xM(t,e){var n=null;if(t.g==e){hv(t),mT(t),t.g=null;var r=2}else if(Jb(t.i,e))n=e.D,EM(t.i,e),r=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=kg(),gn(r,new aM(r,n)),Fg(t)}else DM(t);else if(i=e.o,i==3||i==0&&0<t.I||!(r==1&&QJ(t,e)||r==2&&gT(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ia(t,5);break;case 4:ia(t,10);break;case 3:ia(t,6);break;default:ia(t,2)}}}function LM(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function ia(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var r=vn(t.jb,t);n||(n=new Ca("//www.google.com/images/cleardot.gif"),Ce.location&&Ce.location.protocol=="http"||cv(n,"https"),Pg(n)),qJ(n.toString(),r)}else qn(2);t.G=0,t.j&&t.j.va(e),MM(t),RM(t)}oe.jb=function(t){t?(this.h.info("Successfully pinged google.com"),qn(2)):(this.h.info("Failed to ping google.com"),qn(1))};function MM(t){t.G=0,t.I=-1,t.j&&((TM(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,YE(t.l),t.l.length=0),t.j.ua())}function FM(t,e,n){var r=OJ(n);if(r.i!="")e&&lv(r,e+"."+r.i),fv(r,r.m);else{var i=Ce.location;r=DJ(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&QE(t.aa,function(s,a){mt(r,a,s)}),e=t.D,n=t.sa,e&&n&&mt(r,e,n),mt(r,"VER",t.ma),Sh(t,r),r}function UM(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new Vt(new Th({ib:!0})):new Vt(t.qa),e.L=t.H,e}function VM(){}oe=VM.prototype;oe.xa=function(){};oe.wa=function(){};oe.va=function(){};oe.ua=function(){};oe.Oa=function(){};function dv(){if(lc&&!(10<=Number(cJ)))throw Error("Environmental error: no available transport.")}dv.prototype.g=function(t,e){return new Sr(t,e)};function Sr(t,e){rn.call(this),this.g=new kM(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!sv(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!sv(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Wc(this)}_n(Sr,rn);Sr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),rT(vn(t.hb,t,e))),qn(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=FM(t,null,t.W),Fg(t)};Sr.prototype.close=function(){vT(this.g)};Sr.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,Iw(this.g,e)}else this.v?(e={},e.__data__=nT(t),Iw(this.g,e)):Iw(this.g,t)};Sr.prototype.M=function(){this.g.j=null,delete this.j,vT(this.g),delete this.g,Sr.Z.M.call(this)};function jM(t){aT.call(this);var e=t.__sm__;if(e){e:{for(var n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}_n(jM,aT);function BM(){uT.call(this),this.status=1}_n(BM,uT);function Wc(t){this.g=t}_n(Wc,VM);Wc.prototype.xa=function(){gn(this.g,"a")};Wc.prototype.wa=function(t){gn(this.g,new jM(t))};Wc.prototype.va=function(t){gn(this.g,new BM)};Wc.prototype.ua=function(){gn(this.g,"b")};dv.prototype.createWebChannel=dv.prototype.g;Sr.prototype.send=Sr.prototype.u;Sr.prototype.open=Sr.prototype.m;Sr.prototype.close=Sr.prototype.close;Rg.NO_ERROR=0;Rg.TIMEOUT=8;Rg.HTTP_ERROR=6;uM.COMPLETE="complete";cM.EventType=wh;wh.OPEN="a";wh.CLOSE="b";wh.ERROR="c";wh.MESSAGE="d";rn.prototype.listen=rn.prototype.N;Vt.prototype.listenOnce=Vt.prototype.O;Vt.prototype.getLastError=Vt.prototype.La;Vt.prototype.getLastErrorCode=Vt.prototype.Da;Vt.prototype.getStatus=Vt.prototype.ba;Vt.prototype.getResponseJson=Vt.prototype.Qa;Vt.prototype.getResponseText=Vt.prototype.ga;Vt.prototype.send=Vt.prototype.ea;var XJ=function(){return new dv},JJ=function(){return kg()},Sw=Rg,ZJ=uM,eZ=Ba,JR={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},tZ=Th,ip=cM,nZ=Vt,rZ={};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gr=function(){function t(e,n){var r=this;this.previousValue=e,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return t.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},t.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},t}();gr.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},K=function(t){function e(n,r){var i=this;return(i=t.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return re(e,t),e}(Error),ci=new Fa("@firebase/firestore");function Zb(){return ci.logLevel}function J(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ci.logLevel<=je.DEBUG){var r=e.map(yT);ci.debug.apply(ci,xe(["Firestore (8.10.1): "+t],r))}}function Ut(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ci.logLevel<=je.ERROR){var r=e.map(yT);ci.error.apply(ci,xe(["Firestore (8.10.1): "+t],r))}}function Vf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ci.logLevel<=je.WARN){var r=e.map(yT);ci.warn.apply(ci,xe(["Firestore (8.10.1): "+t],r))}}function yT(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(t){t===void 0&&(t="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw Ut(e),new Error(e)}function Te(t,e){t||de()}function ne(t,e){return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iZ(t){var e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $M=function(){function t(){}return t.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";r.length<20;)for(var i=iZ(40),s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length));return r},t}();function qe(t,e){return t<e?-1:t>e?1:0}function fc(t,e,n){return t.length===e.length&&t.every(function(r,i){return n(r,e[i])})}function qM(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ir=function(){function t(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new K(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)},t.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Ue=function(){function t(e){this.timestamp=e}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new ir(0,0))},t.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},t.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $a(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function HM(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KM=function(){function t(e,n,r){n===void 0?n=0:n>e.length&&de(),r===void 0?r=e.length-n:r>e.length-n&&de(),this.segments=e,this.offset=n,this.len=r}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return t.comparator(this,e)===0},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(r){n.push(r)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(e){return this.segments[this.offset+e]},t.prototype.isEmpty=function(){return this.length===0},t.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.forEach=function(e){for(var n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(e,n){for(var r=Math.min(e.length,n.length),i=0;i<r;i++){var s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0},t}(),Xe=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return re(e,t),e.prototype.construct=function(n,r,i){return new e(n,r,i)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],s=0,a=n;s<a.length;s++){var c=a[s];if(c.indexOf("//")>=0)throw new K(L.INVALID_ARGUMENT,"Invalid segment ("+c+"). Paths must not contain // in them.");i.push.apply(i,c.split("/").filter(function(l){return l.length>0}))}return new e(i)},e.emptyPath=function(){return new e([])},e}(KM),oZ=/^[_a-zA-Z][_a-zA-Z0-9]*$/,hi=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return re(e,t),e.prototype.construct=function(n,r,i){return new e(n,r,i)},e.isValidIdentifier=function(n){return oZ.test(n)},e.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(n){for(var r=[],i="",s=0,a=function(){if(i.length===0)throw new K(L.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},c=!1;s<n.length;){var l=n[s];if(l==="\\"){if(s+1===n.length)throw new K(L.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var h=n[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new K(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=h,s+=2}else l==="`"?(c=!c,s++):l!=="."||c?(i+=l,s++):(a(),s++)}if(a(),c)throw new K(L.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new e(r)},e.emptyPath=function(){return new e([])},e}(KM),hc=function(){function t(e){this.fields=e,e.sort(hi.comparator)}return t.prototype.covers=function(e){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(e))return!0;return!1},t.prototype.isEqual=function(e){return fc(this.fields,e.fields,function(n,r){return n.isEqual(r)})},t}(),Wn=function(){function t(e){this.binaryString=e}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(e))},t.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},t.prototype.toUint8Array=function(){return function(e){for(var n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(e){return qe(this.binaryString,e.binaryString)},t.prototype.isEqual=function(e){return this.binaryString===e.binaryString},t}();Wn.EMPTY_BYTE_STRING=new Wn("");var sZ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fs(t){if(Te(!!t),typeof t=="string"){var e=0,n=sZ.exec(t);if(Te(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ft(t.seconds),nanos:Ft(t.nanos)}}function Ft(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function dc(t){return typeof t=="string"?Wn.fromBase64String(t):Wn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function WM(t){var e=t.mapValue.fields.__previous_value__;return _T(e)?WM(e):e}function jf(t){var e=fs(t.mapValue.fields.__local_write_time__.timestampValue);return new ir(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(t){return t==null}function pv(t){return t===0&&1/t==-1/0}function GM(t){return typeof t=="number"&&Number.isInteger(t)&&!pv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve=function(){function t(e){this.path=e}return t.fromPath=function(e){return new t(Xe.fromString(e))},t.fromName=function(e){return new t(Xe.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},t.prototype.isEqual=function(e){return e!==null&&Xe.comparator(this.path,e.path)===0},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(e,n){return Xe.comparator(e.path,n.path)},t.isDocumentKey=function(e){return e.length%2==0},t.fromSegments=function(e){return new t(new Xe(e.slice()))},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_T(t)?4:10:de()}function Ki(t,e){var n=Na(t);if(n!==Na(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return jf(t).isEqual(jf(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var s=fs(r.timestampValue),a=fs(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return dc(r.bytesValue).isEqual(dc(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ft(r.geoPointValue.latitude)===Ft(i.geoPointValue.latitude)&&Ft(r.geoPointValue.longitude)===Ft(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ft(r.integerValue)===Ft(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var s=Ft(r.doubleValue),a=Ft(i.doubleValue);return s===a?pv(s)===pv(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return fc(t.arrayValue.values||[],e.arrayValue.values||[],Ki);case 10:return function(r,i){var s=r.mapValue.fields||{},a=i.mapValue.fields||{};if(ZR(s)!==ZR(a))return!1;for(var c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Ki(s[c],a[c])))return!1;return!0}(t,e);default:return de()}}function Bf(t,e){return(t.values||[]).find(function(n){return Ki(n,e)})!==void 0}function pc(t,e){var n=Na(t),r=Na(e);if(n!==r)return qe(n,r);switch(n){case 0:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return function(i,s){var a=Ft(i.integerValue||i.doubleValue),c=Ft(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return e1(t.timestampValue,e.timestampValue);case 4:return e1(jf(t),jf(e));case 5:return qe(t.stringValue,e.stringValue);case 6:return function(i,s){var a=dc(i),c=dc(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){for(var a=i.split("/"),c=s.split("/"),l=0;l<a.length&&l<c.length;l++){var h=qe(a[l],c[l]);if(h!==0)return h}return qe(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){var a=qe(Ft(i.latitude),Ft(s.latitude));return a!==0?a:qe(Ft(i.longitude),Ft(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){for(var a=i.values||[],c=s.values||[],l=0;l<a.length&&l<c.length;++l){var h=pc(a[l],c[l]);if(h)return h}return qe(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){var a=i.fields||{},c=Object.keys(a),l=s.fields||{},h=Object.keys(l);c.sort(),h.sort();for(var d=0;d<c.length&&d<h.length;++d){var v=qe(c[d],h[d]);if(v!==0)return v;var g=pc(a[c[d]],l[h[d]]);if(g!==0)return g}return qe(c.length,h.length)}(t.mapValue,e.mapValue);default:throw de()}}function e1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);var n=fs(t),r=fs(e),i=qe(n.seconds,r.seconds);return i!==0?i:qe(n.nanos,r.nanos)}function wT(t){return e0(t)}function e0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){var i=fs(r);return"time("+i.seconds+","+i.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?dc(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ve.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(r){for(var i="[",s=!0,a=0,c=r.values||[];a<c.length;a++)s?s=!1:i+=",",i+=e0(c[a]);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){for(var i="{",s=!0,a=0,c=Object.keys(r.fields||{}).sort();a<c.length;a++){var l=c[a];s?s=!1:i+=",",i+=l+":"+e0(r.fields[l])}return i+"}"}(t.mapValue):de();var e,n}function vv(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function t0(t){return!!t&&"integerValue"in t}function bT(t){return!!t&&"arrayValue"in t}function t1(t){return!!t&&"nullValue"in t}function n1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ap(t){return!!t&&"mapValue"in t}function pf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return $a(t.mapValue.fields,function(i,s){return e.mapValue.fields[i]=pf(s)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=pf(t.arrayValue.values[r]);return n}return Object.assign({},t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vr=function(){function t(e){this.value=e}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){if(e.isEmpty())return this.value;for(var n=this.value,r=0;r<e.length-1;++r)if(!Ap(n=(n.mapValue.fields||{})[e.get(r)]))return null;return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.set=function(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pf(n)},t.prototype.setAll=function(e){var n=this,r=hi.emptyPath(),i={},s=[];e.forEach(function(c,l){if(!r.isImmediateParentOf(l)){var h=n.getFieldsMap(r);n.applyChanges(h,i,s),i={},s=[],r=l.popLast()}c?i[l.lastSegment()]=pf(c):s.push(l.lastSegment())});var a=this.getFieldsMap(r);this.applyChanges(a,i,s)},t.prototype.delete=function(e){var n=this.field(e.popLast());Ap(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]},t.prototype.isEqual=function(e){return Ki(this.value,e.value)},t.prototype.getFieldsMap=function(e){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<e.length;++r){var i=n.mapValue.fields[e.get(r)];Ap(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields},t.prototype.applyChanges=function(e,n,r){$a(n,function(c,l){return e[c]=l});for(var i=0,s=r;i<s.length;i++){var a=s[i];delete e[a]}},t.prototype.clone=function(){return new t(pf(this.value))},t}();function zM(t){var e=[];return $a(t.fields,function(n,r){var i=new hi([n]);if(Ap(r)){var s=zM(r.mapValue).fields;if(s.length===0)e.push(i);else for(var a=0,c=s;a<c.length;a++){var l=c[a];e.push(i.child(l))}}else e.push(i)}),new hc(e)}var yn=function(){function t(e,n,r,i,s){this.key=e,this.documentType=n,this.version=r,this.data=i,this.documentState=s}return t.newInvalidDocument=function(e){return new t(e,0,Ue.min(),vr.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,vr.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,vr.empty(),2)},t.prototype.convertToFoundDocument=function(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this},t.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=vr.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=vr.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return this.documentType!==0},t.prototype.isFoundDocument=function(){return this.documentType===1},t.prototype.isNoDocument=function(){return this.documentType===2},t.prototype.isUnknownDocument=function(){return this.documentType===3},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),aZ=function(t,e,n,r,i,s,a){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(t,e,n,r,i,s,a){return e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),new aZ(t,e,n,r,i,s,a)}function Ah(t){var e=ne(t);if(e.h===null){var n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+wT(i.value)}(r)}).join(","),n+="|ob:",n+=e.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),qa(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=mv(e.startAt)),e.endAt&&(n+="|ub:",n+=mv(e.endAt)),e.h=n}return e.h}function Ug(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!vZ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],s=e.filters[r],i.op!==s.op||!i.field.isEqual(s.field)||!Ki(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!o1(t.startAt,e.startAt)&&o1(t.endAt,e.endAt)}function gv(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var mr=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).field=n,s.op=r,s.value=i,s}return re(e,t),e.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new uZ(n,r,i):r==="array-contains"?new fZ(n,i):r==="in"?new hZ(n,i):r==="not-in"?new dZ(n,i):r==="array-contains-any"?new pZ(n,i):new e(n,r,i)},e.l=function(n,r,i){return r==="in"?new cZ(n,i):new lZ(n,i)},e.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(pc(r,this.value)):r!==null&&Na(this.value)===Na(r)&&this.m(pc(r,this.value))},e.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return de()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),uZ=function(t){function e(n,r,i){var s=this;return(s=t.call(this,n,r,i)||this).key=ve.fromName(i.referenceValue),s}return re(e,t),e.prototype.matches=function(n){var r=ve.comparator(n.key,this.key);return this.m(r)},e}(mr),cZ=function(t){function e(n,r){var i=this;return(i=t.call(this,n,"in",r)||this).keys=YM("in",r),i}return re(e,t),e.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},e}(mr),lZ=function(t){function e(n,r){var i=this;return(i=t.call(this,n,"not-in",r)||this).keys=YM("not-in",r),i}return re(e,t),e.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},e}(mr);function YM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return ve.fromName(r.referenceValue)})}var fZ=function(t){function e(n,r){return t.call(this,n,"array-contains",r)||this}return re(e,t),e.prototype.matches=function(n){var r=n.data.field(this.field);return bT(r)&&Bf(r.arrayValue,this.value)},e}(mr),hZ=function(t){function e(n,r){return t.call(this,n,"in",r)||this}return re(e,t),e.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&Bf(this.value.arrayValue,r)},e}(mr),dZ=function(t){function e(n,r){return t.call(this,n,"not-in",r)||this}return re(e,t),e.prototype.matches=function(n){if(Bf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!Bf(this.value.arrayValue,r)},e}(mr),pZ=function(t){function e(n,r){return t.call(this,n,"array-contains-any",r)||this}return re(e,t),e.prototype.matches=function(n){var r=this,i=n.data.field(this.field);return!(!bT(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(s){return Bf(r.value.arrayValue,s)})},e}(mr),$f=function(t,e){this.position=t,this.before=e};function mv(t){return(t.before?"b":"a")+":"+t.position.map(function(e){return wT(e)}).join(",")}var $u=function(t,e){e===void 0&&(e="asc"),this.field=t,this.dir=e};function vZ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function i1(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],a=t.position[i];if(r=s.field.isKeyField()?ve.comparator(ve.fromName(a.referenceValue),n.key):pc(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return t.before?r<=0:r<0}function o1(t,e){if(t===null)return e===null;if(e===null||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Ki(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var To=function(t,e,n,r,i,s,a,c){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s="F"),a===void 0&&(a=null),c===void 0&&(c=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=c,this.p=null,this.T=null,this.startAt,this.endAt};function QM(t,e,n,r,i,s,a,c){return new To(t,e,n,r,i,s,a,c)}function Gc(t){return new To(t)}function Cp(t){return!qa(t.limit)&&t.limitType==="F"}function yv(t){return!qa(t.limit)&&t.limitType==="L"}function ET(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function TT(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function IT(t){return t.collectionGroup!==null}function vc(t){var e=ne(t);if(e.p===null){e.p=[];var n=TT(e),r=ET(e);if(n!==null&&r===null)n.isKeyField()||e.p.push(new $u(n)),e.p.push(new $u(hi.keyField(),"asc"));else{for(var i=!1,s=0,a=e.explicitOrderBy;s<a.length;s++){var c=a[s];e.p.push(c),c.field.isKeyField()&&(i=!0)}if(!i){var l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new $u(hi.keyField(),l))}}}return e.p}function qr(t){var e=ne(t);if(!e.T)if(e.limitType==="F")e.T=r1(e.path,e.collectionGroup,vc(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=vc(e);r<i.length;r++){var s=i[r],a=s.dir==="desc"?"asc":"desc";n.push(new $u(s.field,a))}var c=e.endAt?new $f(e.endAt.position,!e.endAt.before):null,l=e.startAt?new $f(e.startAt.position,!e.startAt.before):null;e.T=r1(e.path,e.collectionGroup,n,e.filters,e.limit,c,l)}return e.T}function XM(t,e,n){return new To(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ch(t,e){return Ug(qr(t),qr(e))&&t.limitType===e.limitType}function JM(t){return Ah(qr(t))+"|lt:"+t.limitType}function n0(t){return"Query(target="+function(e){var n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+wT(i.value);var i}).join(", ")+"]"),qa(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+mv(e.startAt)),e.endAt&&(n+=", endAt: "+mv(e.endAt)),"Target("+n+")"}(qr(t))+"; limitType="+t.limitType+")"}function Nh(t,e){return e.isFoundDocument()&&function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ve.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(var i=0,s=n.explicitOrderBy;i<s.length;i++){var a=s[i];if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1}return!0}(t,e)&&function(n,r){for(var i=0,s=n.filters;i<s.length;i++)if(!s[i].matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!i1(n.startAt,vc(n),r))&&(!n.endAt||!i1(n.endAt,vc(n),r))}(t,e)}function ZM(t){return function(e,n){for(var r=!1,i=0,s=vc(t);i<s.length;i++){var a=s[i],c=gZ(a,e,n);if(c!==0)return c;r=r||a.field.isKeyField()}return 0}}function gZ(t,e,n){var r=t.field.isKeyField()?ve.comparator(e.key,n.key):function(i,s,a){var c=s.data.field(i),l=a.data.field(i);return c!==null&&l!==null?pc(c,l):de()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return de()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eF(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pv(e)?"-0":e}}function tF(t){return{integerValue:""+t}}function nF(t,e){return GM(e)?tF(e):eF(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vg=function(){this._=void 0};function mZ(t,e,n){return t instanceof gc?function(r,i){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof ka?iF(t,e):t instanceof Ra?oF(t,e):function(r,i){var s=rF(r,i),a=s1(s)+s1(r.A);return t0(s)&&t0(r.A)?tF(a):eF(r.R,a)}(t,e)}function yZ(t,e,n){return t instanceof ka?iF(t,e):t instanceof Ra?oF(t,e):n}function rF(t,e){return t instanceof mc?t0(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}var gc=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return re(e,t),e}(Vg),ka=function(t){function e(n){var r=this;return(r=t.call(this)||this).elements=n,r}return re(e,t),e}(Vg);function iF(t,e){for(var n=sF(e),r=function(a){n.some(function(c){return Ki(c,a)})||n.push(a)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Ra=function(t){function e(n){var r=this;return(r=t.call(this)||this).elements=n,r}return re(e,t),e}(Vg);function oF(t,e){for(var n=sF(e),r=function(a){n=n.filter(function(c){return!Ki(c,a)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var mc=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).R=n,i.A=r,i}return re(e,t),e}(Vg);function s1(t){return Ft(t.integerValue||t.doubleValue)}function sF(t){return bT(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kh=function(t,e){this.field=t,this.transform=e},_Z=function(t,e){this.version=t,this.transformResults=e},Sn=function(){function t(e,n){this.updateTime=e,this.exists=n}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},t}();function Np(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var jg=function(){};function wZ(t,e,n){t instanceof Rh?function(r,i,s){var a=r.value.clone(),c=c1(r.fieldTransforms,i,s.transformResults);a.setAll(c),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof _s?function(r,i,s){if(Np(r.precondition,i)){var a=c1(r.fieldTransforms,i,s.transformResults),c=i.data;c.setAll(aF(r)),c.setAll(a),i.convertToFoundDocument(s.version,c).setHasCommittedMutations()}else i.convertToUnknownDocument(s.version)}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function r0(t,e,n){t instanceof Rh?function(r,i,s){if(Np(r.precondition,i)){var a=r.value.clone(),c=l1(r.fieldTransforms,s,i);a.setAll(c),i.convertToFoundDocument(u1(i),a).setHasLocalMutations()}}(t,e,n):t instanceof _s?function(r,i,s){if(Np(r.precondition,i)){var a=l1(r.fieldTransforms,s,i),c=i.data;c.setAll(aF(r)),c.setAll(a),i.convertToFoundDocument(u1(i),c).setHasLocalMutations()}}(t,e,n):function(r,i){Np(r.precondition,i)&&i.convertToNoDocument(Ue.min())}(t,e)}function bZ(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],a=e.data.field(s.field),c=rF(s.transform,a||null);c!=null&&(n==null&&(n=vr.empty()),n.set(s.field,c))}return n||null}function a1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&fc(n,r,function(i,s){return function(a,c){return a.field.isEqual(c.field)&&function(l,h){return l instanceof ka&&h instanceof ka||l instanceof Ra&&h instanceof Ra?fc(l.elements,h.elements,Ki):l instanceof mc&&h instanceof mc?Ki(l.A,h.A):l instanceof gc&&h instanceof gc}(a.transform,c.transform)}(i,s)})}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function u1(t){return t.isFoundDocument()?t.version:Ue.min()}var Rh=function(t){function e(n,r,i,s){s===void 0&&(s=[]);var a=this;return(a=t.call(this)||this).key=n,a.value=r,a.precondition=i,a.fieldTransforms=s,a.type=0,a}return re(e,t),e}(jg),_s=function(t){function e(n,r,i,s,a){a===void 0&&(a=[]);var c=this;return(c=t.call(this)||this).key=n,c.data=r,c.fieldMask=i,c.precondition=s,c.fieldTransforms=a,c.type=1,c}return re(e,t),e}(jg);function aF(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function c1(t,e,n){var r=new Map;Te(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],a=s.transform,c=e.data.field(s.field);r.set(s.field,yZ(a,c,n[i]))}return r}function l1(t,e,n){for(var r=new Map,i=0,s=t;i<s.length;i++){var a=s[i],c=a.transform,l=n.data.field(a.field);r.set(a.field,mZ(c,l,e))}return r}var Mt,We,Oh=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return re(e,t),e}(jg),ST=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return re(e,t),e}(jg),EZ=function(t){this.count=t};function uF(t){switch(t){case L.OK:return de();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0;default:return de()}}function cF(t){if(t===void 0)return Ut("GRPC error has no .code"),L.UNKNOWN;switch(t){case Mt.OK:return L.OK;case Mt.CANCELLED:return L.CANCELLED;case Mt.UNKNOWN:return L.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return L.INTERNAL;case Mt.UNAVAILABLE:return L.UNAVAILABLE;case Mt.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Mt.NOT_FOUND:return L.NOT_FOUND;case Mt.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Mt.ABORTED:return L.ABORTED;case Mt.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Mt.DATA_LOSS:return L.DATA_LOSS;default:return de()}}(We=Mt||(Mt={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var On=function(){function t(e,n){this.comparator=e,this.root=n||Ko.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ko.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ko.BLACK,null,null))},t.prototype.get=function(e){for(var n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},t.prototype.indexOf=function(e){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},t.prototype.forEach=function(e){this.inorderTraversal(function(n,r){return e(n,r),!1})},t.prototype.toString=function(){var e=[];return this.inorderTraversal(function(n,r){return e.push(n+":"+r),!1}),"{"+e.join(", ")+"}"},t.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},t.prototype.getIterator=function(){return new op(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(e){return new op(this.root,e,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new op(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(e){return new op(this.root,e,this.comparator,!0)},t}(),op=function(){function t(e,n,r,i){this.isReverse=i,this.nodeStack=[];for(var s=1;!e.isEmpty();)if(s=n?r(e.key,n):1,i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return t.prototype.getNext=function(){var e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(this.nodeStack.length===0)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},t}(),Ko=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,n,r){var i=this,s=r(e,i.key);return(i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},t.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},t.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw de();var e=this.left.check();if(e!==this.right.check())throw de();return e+(this.isRed()?0:1)},t}();Ko.EMPTY=null,Ko.RED=!0,Ko.BLACK=!1,Ko.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw de()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw de()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw de()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw de()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw de()},enumerable:!1,configurable:!0}),t.prototype.copy=function(e,n,r,i,s){return this},t.prototype.insert=function(e,n,r){return new Ko(e,n)},t.prototype.remove=function(e,n){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt=function(){function t(e){this.comparator=e,this.data=new On(this.comparator)}return t.prototype.has=function(e){return this.data.get(e)!==null},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return this.data.indexOf(e)},t.prototype.forEach=function(e){this.data.inorderTraversal(function(n,r){return e(n),!1})},t.prototype.forEachInRange=function(e,n){for(var r=this.data.getIteratorFrom(e[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}},t.prototype.forEachWhile=function(e,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return},t.prototype.firstAfterOrEqual=function(e){var n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null},t.prototype.getIterator=function(){return new f1(this.data.getIterator())},t.prototype.getIteratorFrom=function(e){return new f1(this.data.getIteratorFrom(e))},t.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},t.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(e){var n=this;return n.size<e.size&&(n=e,e=this),e.forEach(function(r){n=n.add(r)}),n},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0},t.prototype.toArray=function(){var e=[];return this.forEach(function(n){e.push(n)}),e},t.prototype.toString=function(){var e=[];return this.forEach(function(n){return e.push(n)}),"SortedSet("+e.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),f1=function(){function t(e){this.iter=e}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),TZ=new On(ve.comparator);function Ur(){return TZ}var IZ=new On(ve.comparator);function i0(){return IZ}var SZ=new On(ve.comparator);function lF(){return SZ}var AZ=new Kt(ve.comparator);function it(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=AZ,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var CZ=new Kt(qe);function Bg(){return CZ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AT=function(){function t(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,CT.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Ue.min(),r,Bg(),Ur(),it())},t}(),CT=function(){function t(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Wn.EMPTY_BYTE_STRING,n,it(),it(),it())},t}(),kp=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},fF=function(t,e){this.targetId=t,this.V=e},hF=function(t,e,n,r){n===void 0&&(n=Wn.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},h1=function(){function t(){this.S=0,this.D=p1(),this.C=Wn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},t.prototype.M=function(){var e=it(),n=it(),r=it();return this.D.forEach(function(i,s){switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:de()}}),new CT(this.C,this.N,e,n,r)},t.prototype.L=function(){this.k=!1,this.D=p1()},t.prototype.B=function(e,n){this.k=!0,this.D=this.D.insert(e,n)},t.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),NZ=function(){function t(e){this.W=e,this.G=new Map,this.H=Ur(),this.J=d1(),this.Y=new Kt(qe)}return t.prototype.X=function(e){for(var n=0,r=e.v;n<r.length;n++){var i=r[n];e.P&&e.P.isFoundDocument()?this.Z(i,e.P):this.tt(i,e.key,e.P)}for(var s=0,a=e.removedTargetIds;s<a.length;s++)i=a[s],this.tt(i,e.key,e.P)},t.prototype.et=function(e){var n=this;this.forEachTarget(e,function(r){var i=n.nt(r);switch(e.state){case 0:n.st(r)&&i.O(e.resumeToken);break;case 1:i.K(),i.F||i.L(),i.O(e.resumeToken);break;case 2:i.K(),i.F||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.O(e.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.O(e.resumeToken));break;default:de()}})},t.prototype.forEachTarget=function(e,n){var r=this;e.targetIds.length>0?e.targetIds.forEach(n):this.G.forEach(function(i,s){r.st(s)&&n(s)})},t.prototype.rt=function(e){var n=e.targetId,r=e.V.count,i=this.ot(n);if(i){var s=i.target;if(gv(s))if(r===0){var a=new ve(s.path);this.tt(n,a,yn.newNoDocument(a,Ue.min()))}else Te(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},t.prototype.ut=function(e){var n=this,r=new Map;this.G.forEach(function(a,c){var l=n.ot(c);if(l){if(a.current&&gv(l.target)){var h=new ve(l.target.path);n.H.get(h)!==null||n.at(c,h)||n.tt(c,h,yn.newNoDocument(h,e))}a.$&&(r.set(c,a.M()),a.L())}});var i=it();this.J.forEach(function(a,c){var l=!0;c.forEachWhile(function(h){var d=n.ot(h);return!d||d.purpose===2||(l=!1,!1)}),l&&(i=i.add(a))});var s=new AT(e,r,this.Y,this.H,i);return this.H=Ur(),this.J=d1(),this.Y=new Kt(qe),s},t.prototype.Z=function(e,n){if(this.st(e)){var r=this.at(e,n.key)?2:0;this.nt(e).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(e))}},t.prototype.tt=function(e,n,r){if(this.st(e)){var i=this.nt(e);this.at(e,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(e)),r&&(this.H=this.H.insert(n,r))}},t.prototype.removeTarget=function(e){this.G.delete(e)},t.prototype.ct=function(e){var n=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size},t.prototype.U=function(e){this.nt(e).U()},t.prototype.nt=function(e){var n=this.G.get(e);return n||(n=new h1,this.G.set(e,n)),n},t.prototype.ht=function(e){var n=this.J.get(e);return n||(n=new Kt(qe),this.J=this.J.insert(e,n)),n},t.prototype.st=function(e){var n=this.ot(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n},t.prototype.ot=function(e){var n=this.G.get(e);return n&&n.F?null:this.W.lt(e)},t.prototype.it=function(e){var n=this;this.G.set(e,new h1),this.W.getRemoteKeysForTarget(e).forEach(function(r){n.tt(e,r,null)})},t.prototype.at=function(e,n){return this.W.getRemoteKeysForTarget(e).has(n)},t}();function d1(){return new On(ve.comparator)}function p1(){return new On(ve.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kZ={asc:"ASCENDING",desc:"DESCENDING"},RZ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OZ=function(t,e){this.databaseId=t,this.I=e};function qf(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function dF(t,e){return t.I?e.toBase64():e.toUint8Array()}function DZ(t,e){return qf(t,e.toTimestamp())}function tn(t){return Te(!!t),Ue.fromTimestamp(function(e){var n=fs(e);return new ir(n.seconds,n.nanos)}(t))}function NT(t,e){return function(n){return new Xe(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function pF(t){var e=Xe.fromString(t);return Te(EF(e)),e}function Hf(t,e){return NT(t.databaseId,e.path)}function Li(t,e){var n=pF(e);if(n.get(1)!==t.databaseId.projectId)throw new K(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(gF(n))}function o0(t,e){return NT(t.databaseId,e)}function vF(t){var e=pF(t);return e.length===4?Xe.emptyPath():gF(e)}function Kf(t){return new Xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gF(t){return Te(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function v1(t,e,n){return{name:Hf(t,e),fields:n.value.mapValue.fields}}function mF(t,e,n){var r=Li(t,e.name),i=tn(e.updateTime),s=new vr({mapValue:{fields:e.fields}}),a=yn.newFoundDocument(r,i,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function _v(t,e){var n;if(e instanceof Rh)n={update:v1(t,e.key,e.value)};else if(e instanceof Oh)n={delete:Hf(t,e.key)};else if(e instanceof _s)n={update:v1(t,e.key,e.data),updateMask:FZ(e.fieldMask)};else{if(!(e instanceof ST))return de();n={verify:Hf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(r){return function(i,s){var a=s.transform;if(a instanceof gc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ka)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ra)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof mc)return{fieldPath:s.field.canonicalString(),increment:a.A};throw de()}(0,r)})),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:DZ(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:de()}(t,e.precondition)),n}function g1(t,e){var n=e.currentDocument?function(h){return h.updateTime!==void 0?Sn.updateTime(tn(h.updateTime)):h.exists!==void 0?Sn.exists(h.exists):Sn.none()}(e.currentDocument):Sn.none(),r=e.updateTransforms?e.updateTransforms.map(function(h){return function(d,v){var g=null;if("setToServerValue"in v)Te(v.setToServerValue==="REQUEST_TIME"),g=new gc;else if("appendMissingElements"in v){var y=v.appendMissingElements.values||[];g=new ka(y)}else if("removeAllFromArray"in v){var w=v.removeAllFromArray.values||[];g=new Ra(w)}else"increment"in v?g=new mc(d,v.increment):de();var E=hi.fromServerFormat(v.fieldPath);return new kh(E,g)}(t,h)}):[];if(e.update){e.update.name;var i=Li(t,e.update.name),s=new vr({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(h){var d=h.fieldPaths||[];return new hc(d.map(function(v){return hi.fromServerFormat(v)}))}(e.updateMask);return new _s(i,s,a,n,r)}return new Rh(i,s,n,r)}if(e.delete){var c=Li(t,e.delete);return new Oh(c,n)}if(e.verify){var l=Li(t,e.verify);return new ST(l,n)}return de()}function yF(t,e){return{documents:[o0(t,e.path)]}}function _F(t,e){var n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=o0(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=o0(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(c){if(c.length!==0){var l=c.map(function(h){return function(d){if(d.op==="=="){if(n1(d.value))return{unaryFilter:{field:Tu(d.field),op:"IS_NAN"}};if(t1(d.value))return{unaryFilter:{field:Tu(d.field),op:"IS_NULL"}}}else if(d.op==="!="){if(n1(d.value))return{unaryFilter:{field:Tu(d.field),op:"IS_NOT_NAN"}};if(t1(d.value))return{unaryFilter:{field:Tu(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tu(d.field),op:xZ(d.op),value:d.value}}}(h)});return l.length===1?l[0]:{compositeFilter:{op:"AND",filters:l}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(c){if(c.length!==0)return c.map(function(l){return function(h){return{field:Tu(h.field),direction:PZ(h.dir)}}(l)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(c,l){return c.I||qa(l)?l:{value:l}}(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=m1(e.startAt)),e.endAt&&(n.structuredQuery.endAt=m1(e.endAt)),n}function wF(t){var e=vF(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Te(r===1);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var a=[];n.where&&(a=bF(n.where));var c=[];n.orderBy&&(c=n.orderBy.map(function(v){return function(g){return new $u(Mu(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(v)}));var l=null;n.limit&&(l=function(v){var g;return qa(g=typeof v=="object"?v.value:v)?null:g}(n.limit));var h=null;n.startAt&&(h=y1(n.startAt));var d=null;return n.endAt&&(d=y1(n.endAt)),QM(e,i,c,a,l,"F",h,d)}function bF(t){return t?t.unaryFilter!==void 0?[MZ(t)]:t.fieldFilter!==void 0?[LZ(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(function(e){return bF(e)}).reduce(function(e,n){return e.concat(n)}):de():[]}function m1(t){return{before:t.before,values:t.position}}function y1(t){var e=!!t.before,n=t.values||[];return new $f(n,e)}function PZ(t){return kZ[t]}function xZ(t){return RZ[t]}function Tu(t){return{fieldPath:t.canonicalString()}}function Mu(t){return hi.fromServerFormat(t.fieldPath)}function LZ(t){return mr.create(Mu(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return de()}}(t.fieldFilter.op),t.fieldFilter.value)}function MZ(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Mu(t.unaryFilter.field);return mr.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Mu(t.unaryFilter.field);return mr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Mu(t.unaryFilter.field);return mr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Mu(t.unaryFilter.field);return mr.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return de()}}function FZ(t){var e=[];return t.fields.forEach(function(n){return e.push(n.canonicalString())}),{fieldPaths:e}}function EF(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=_1(e)),e=UZ(t.get(n),e);return _1(e)}function UZ(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function _1(t){return t+""}function ao(t){var e=t.length;if(Te(e>=2),e===2)return Te(t.charAt(0)===""&&t.charAt(1)===""),Xe.emptyPath();for(var n=e-2,r=[],i="",s=0;s<e;){var a=t.indexOf("",s);switch((a<0||a>n)&&de(),t.charAt(a+1)){case"":var c=t.substring(s,a),l=void 0;i.length===0?l=c:(l=i+=c,i=""),r.push(l);break;case"":i+=t.substring(s,a),i+="\0";break;case"":i+=t.substring(s,a+1);break;default:de()}s=a+2}return new Xe(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VZ=function(t,e){this.seconds=t,this.nanoseconds=e},dr=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};dr.store="owner",dr.key="owner";var es=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};es.store="mutationQueues",es.keyPath="userId";var dt=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};dt.store="mutations",dt.keyPath="batchId",dt.userMutationsIndex="userMutationsIndex",dt.userMutationsKeyPath=["userId","batchId"];var Tn=function(){function t(){}return t.prefixForUser=function(e){return[e]},t.prefixForPath=function(e,n){return[e,li(n)]},t.key=function(e,n,r){return[e,li(n),r]},t}();Tn.store="documentMutations",Tn.PLACEHOLDER=new Tn;var jZ=function(t,e){this.path=t,this.readTime=e},BZ=function(t,e){this.path=t,this.version=e},Ct=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};Ct.store="remoteDocuments",Ct.readTimeIndex="readTimeIndex",Ct.readTimeIndexPath="readTime",Ct.collectionReadTimeIndex="collectionReadTimeIndex",Ct.collectionReadTimeIndexPath=["parentPath","readTime"];var ki=function(t){this.byteSize=t};ki.store="remoteDocumentGlobal",ki.key="remoteDocumentGlobalKey";var nr=function(t,e,n,r,i,s,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=a};nr.store="targets",nr.keyPath="targetId",nr.queryTargetsIndexName="queryTargetsIndex",nr.queryTargetsKeyPath=["canonicalId","targetId"];var dn=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};dn.store="targetDocuments",dn.keyPath=["targetId","path"],dn.documentTargetsIndex="documentTargetsIndex",dn.documentTargetsKeyPath=["path","targetId"];var pr=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};pr.key="targetGlobalKey",pr.store="targetGlobal";var pa=function(t,e){this.collectionId=t,this.parent=e};pa.store="collectionParents",pa.keyPath=["collectionId","parent"];var ho=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};ho.store="clientMetadata",ho.keyPath="clientId";var yc=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};yc.store="bundles",yc.keyPath="bundleId";var _c=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};_c.store="namedQueries",_c.keyPath="name";var $Z=xe(xe([],xe(xe([],xe(xe([],xe(xe([],[es.store,dt.store,Tn.store,Ct.store,nr.store,dr.store,pr.store,dn.store]),[ho.store])),[ki.store])),[pa.store])),[yc.store,_c.store]),TF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",IF=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},t}(),Rn=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},z=function(){function t(e){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return t.prototype.catch=function(e){return this.next(void 0,e)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&de(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(i,s){r.nextCallback=function(a){r.wrapSuccess(e,a).next(i,s)},r.catchCallback=function(a){r.wrapFailure(n,a).next(i,s)}})},t.prototype.toPromise=function(){var e=this;return new Promise(function(n,r){e.next(n,r)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(n,r){n(e)})},t.reject=function(e){return new t(function(n,r){r(e)})},t.waitFor=function(e){return new t(function(n,r){var i=0,s=0,a=!1;e.forEach(function(c){++i,c.next(function(){++s,a&&s===i&&n()},function(l){return r(l)})}),a=!0,s===i&&n()})},t.or=function(e){for(var n=t.resolve(!1),r=function(a){n=n.next(function(c){return c?t.resolve(c):a()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(e,n){var r=this,i=[];return e.forEach(function(s,a){i.push(n.call(r,s,a))}),this.waitFor(i)},t}(),SF=function(){function t(e,n){var r=this;this.action=e,this.transaction=n,this.aborted=!1,this.ft=new Rn,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new vf(e,n.error)):r.ft.resolve()},this.transaction.onerror=function(i){var s=kT(i.target.error);r.ft.reject(new vf(e,s))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new vf(n,s)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(J("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(e){var n=this.transaction.objectStore(e);return new HZ(n)},t}(),wc=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,t._t(Ea())===12.2&&Ut("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return J("SimpleDb","Removing database:",e),Qs(window.indexedDB.deleteDatabase(e)).toPromise()},t.yt=function(){if(typeof indexedDB>"u")return!1;if(t.gt())return!0;var e=Ea(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.gt=function(){var e;return typeof process<"u"&&((e=rZ)===null||e===void 0?void 0:e.Tt)==="YES"},t.It=function(e,n){return e.store(n)},t._t=function(e){var n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},t.Et=function(e){var n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},t.prototype.At=function(e){return N(this,void 0,void 0,function(){var n,r=this;return C(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(J("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var c=indexedDB.open(r.name,r.version);c.onsuccess=function(l){var h=l.target.result;s(h)},c.onblocked=function(){a(new vf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=function(l){var h=l.target.error;h.name==="VersionError"?a(new K(L.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new vf(e,h))},c.onupgradeneeded=function(l){J("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',l.oldVersion);var h=l.target.result;r.wt.Rt(h,c.transaction,l.oldVersion,r.version).next(function(){J("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return r.bt(s)}),this.db)]}})})},t.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(n){return e(n)})},t.prototype.runTransaction=function(e,n,r,i){return N(this,void 0,void 0,function(){var s,a,c,l,h;return C(this,function(d){switch(d.label){case 0:s=n==="readonly",a=0,c=function(){var v,g,y,w,E;return C(this,function(T){switch(T.label){case 0:++a,T.label=1;case 1:return T.trys.push([1,4,,5]),[4,l.At(e)];case 2:return l.db=T.sent(),v=SF.open(l.db,e,s?"readonly":"readwrite",r),g=i(v).catch(function(A){return v.abort(A),z.reject(A)}).toPromise(),y={},g.catch(function(){}),[4,v.dt];case 3:return[2,(y.value=(T.sent(),g),y)];case 4:return w=T.sent(),E=w.name!=="FirebaseError"&&a<3,J("SimpleDb","Transaction failed with error:",w.message,"Retrying:",E),l.close(),E?[3,5]:[2,{value:Promise.reject(w)}];case 5:return[2]}})},l=this,d.label=1;case 1:return[5,c()];case 2:if(typeof(h=d.sent())=="object")return[2,h.value];d.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),qZ=function(){function t(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(e){this.St=e},t.prototype.delete=function(){return Qs(this.Pt.delete())},t}(),vf=function(t){function e(n,r){var i=this;return(i=t.call(this,L.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return re(e,t),e}(K);function Ha(t){return t.name==="IndexedDbTransactionError"}var HZ=function(){function t(e){this.store=e}return t.prototype.put=function(e,n){var r;return n!==void 0?(J("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(J("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Qs(r)},t.prototype.add=function(e){return J("SimpleDb","ADD",this.store.name,e,e),Qs(this.store.add(e))},t.prototype.get=function(e){var n=this;return Qs(this.store.get(e)).next(function(r){return r===void 0&&(r=null),J("SimpleDb","GET",n.store.name,e,r),r})},t.prototype.delete=function(e){return J("SimpleDb","DELETE",this.store.name,e),Qs(this.store.delete(e))},t.prototype.count=function(){return J("SimpleDb","COUNT",this.store.name),Qs(this.store.count())},t.prototype.Nt=function(e,n){var r=this.cursor(this.options(e,n)),i=[];return this.xt(r,function(s,a){i.push(a)}).next(function(){return i})},t.prototype.kt=function(e,n){J("SimpleDb","DELETE ALL",this.store.name);var r=this.options(e,n);r.Ft=!1;var i=this.cursor(r);return this.xt(i,function(s,a,c){return c.delete()})},t.prototype.$t=function(e,n){var r;n?r=e:(r={},n=e);var i=this.cursor(r);return this.xt(i,n)},t.prototype.Ot=function(e){var n=this.cursor({});return new z(function(r,i){n.onerror=function(s){var a=kT(s.target.error);i(a)},n.onsuccess=function(s){var a=s.target.result;a?e(a.primaryKey,a.value).next(function(c){c?a.continue():r()}):r()}})},t.prototype.xt=function(e,n){var r=[];return new z(function(i,s){e.onerror=function(a){s(a.target.error)},e.onsuccess=function(a){var c=a.target.result;if(c){var l=new qZ(c),h=n(c.primaryKey,c.value,l);if(h instanceof z){var d=h.catch(function(v){return l.done(),z.reject(v)});r.push(d)}l.isDone?i():l.Dt===null?c.continue():c.continue(l.Dt)}else i()}}).next(function(){return z.waitFor(r)})},t.prototype.options=function(e,n){var r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}},t.prototype.cursor=function(e){var n="next";if(e.reverse&&(n="prev"),e.index){var r=this.store.index(e.index);return e.Ft?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)},t}();function Qs(t){return new z(function(e,n){t.onsuccess=function(r){var i=r.target.result;e(i)},t.onerror=function(r){var i=kT(r.target.error);n(i)}})}var w1=!1;function kT(t){var e=wc._t(Ea());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new K("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return w1||(w1=!0,setTimeout(function(){throw r},0)),r}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var b1=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return re(e,t),e}(IF);function ur(t,e){var n=ne(t);return wc.It(n.Mt,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RT=function(){function t(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return t.prototype.applyToRemoteDocument=function(e,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(e.key)&&wZ(s,e,r[i])}},t.prototype.applyToLocalView=function(e){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(e.key)&&r0(a,e,this.localWriteTime);for(var i=0,s=this.mutations;i<s.length;i++){var a;(a=s[i]).key.isEqual(e.key)&&r0(a,e,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(e){var n=this;this.mutations.forEach(function(r){var i=e.get(r.key),s=i;n.applyToLocalView(s),i.isValidDocument()||s.convertToNoDocument(Ue.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(e,n){return e.add(n.key)},it())},t.prototype.isEqual=function(e){return this.batchId===e.batchId&&fc(this.mutations,e.mutations,function(n,r){return a1(n,r)})&&fc(this.baseMutations,e.baseMutations,function(n,r){return a1(n,r)})},t}(),KZ=function(){function t(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return t.from=function(e,n,r){Te(e.mutations.length===r.length);for(var i=lF(),s=e.mutations,a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new t(e,n,r,i)},t}(),$g=function(){function t(e,n,r,i,s,a,c){s===void 0&&(s=Ue.min()),a===void 0&&(a=Ue.min()),c===void 0&&(c=Wn.EMPTY_BYTE_STRING),this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),AF=function(t){this.Lt=t};function s0(t,e){if(e.document)return mF(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ve.fromSegments(e.noDocument.path),r=Ec(e.noDocument.readTime),i=yn.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var s=ve.fromSegments(e.unknownDocument.path);return r=Ec(e.unknownDocument.version),yn.newUnknownDocument(s,r)}return de()}function E1(t,e,n){var r=OT(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var s=function(v,g){return{name:Hf(v,g.key),fields:g.data.value.mapValue.fields,updateTime:qf(v,g.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new Ct(null,null,s,a,r,i)}if(e.isNoDocument()){var c=e.key.path.toArray(),l=bc(e.version);return a=e.hasCommittedMutations,new Ct(null,new jZ(c,l),null,a,r,i)}if(e.isUnknownDocument()){var h=e.key.path.toArray(),d=bc(e.version);return new Ct(new BZ(h,d),null,null,!0,r,i)}return de()}function OT(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function CF(t){var e=new ir(t[0],t[1]);return Ue.fromTimestamp(e)}function bc(t){var e=t.toTimestamp();return new VZ(e.seconds,e.nanoseconds)}function Ec(t){var e=new ir(t.seconds,t.nanoseconds);return Ue.fromTimestamp(e)}function Du(t,e){for(var n=(e.baseMutations||[]).map(function(l){return g1(t.Lt,l)}),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&e.mutations[r+1].transform!==void 0){var s=e.mutations[r+1];i.updateTransforms=s.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var a=e.mutations.map(function(l){return g1(t.Lt,l)}),c=ir.fromMillis(e.localWriteTimeMs);return new RT(e.batchId,c,n,a)}function Jl(t){var e,n,r=Ec(t.readTime),i=t.lastLimboFreeSnapshotVersion!==void 0?Ec(t.lastLimboFreeSnapshotVersion):Ue.min();return t.query.documents!==void 0?(Te((n=t.query).documents.length===1),e=qr(Gc(vF(n.documents[0])))):e=function(s){return qr(wF(s))}(t.query),new $g(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Wn.fromBase64String(t.resumeToken))}function NF(t,e){var n,r=bc(e.snapshotVersion),i=bc(e.lastLimboFreeSnapshotVersion);n=gv(e.target)?yF(t.Lt,e.target):_F(t.Lt,e.target);var s=e.resumeToken.toBase64();return new nr(e.targetId,Ah(e.target),r,s,e.sequenceNumber,i,n)}function DT(t){var e=wF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?XM(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WZ=function(){function t(){}return t.prototype.getBundleMetadata=function(e,n){return T1(e).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:Ec(i.createTime),version:i.version};var i})},t.prototype.saveBundleMetadata=function(e,n){return T1(e).put({bundleId:(r=n).id,createTime:bc(tn(r.createTime)),version:r.version});var r},t.prototype.getNamedQuery=function(e,n){return I1(e).get(n).next(function(r){if(r)return{name:(i=r).name,query:DT(i.bundledQuery),readTime:Ec(i.readTime)};var i})},t.prototype.saveNamedQuery=function(e,n){return I1(e).put(function(r){return{name:r.name,readTime:bc(tn(r.readTime)),bundledQuery:r.bundledQuery}}(n))},t}();function T1(t){return ur(t,yc.store)}function I1(t){return ur(t,_c.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GZ=function(){function t(){this.Bt=new PT}return t.prototype.addToCollectionParentIndex=function(e,n){return this.Bt.add(n),z.resolve()},t.prototype.getCollectionParents=function(e,n){return z.resolve(this.Bt.getEntries(n))},t}(),PT=function(){function t(){this.index={}}return t.prototype.add=function(e){var n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Kt(Xe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s},t.prototype.has=function(e){var n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)},t.prototype.getEntries=function(e){return(this.index[e]||new Kt(Xe.comparator)).toArray()},t}(),zZ=function(){function t(){this.qt=new PT}return t.prototype.addToCollectionParentIndex=function(e,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),s=n.popLast();e.addOnCommittedListener(function(){r.qt.add(n)});var a={collectionId:i,parent:li(s)};return S1(e).put(a)}return z.resolve()},t.prototype.getCollectionParents=function(e,n){var r=[],i=IDBKeyRange.bound([n,""],[qM(n),""],!1,!0);return S1(e).Nt(i).next(function(s){for(var a=0,c=s;a<c.length;a++){var l=c[a];if(l.collectionId!==n)break;r.push(ao(l.parent))}return r})},t}();function S1(t){return ur(t,pa.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var A1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Si=function(){function t(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kF(t,e,n){var r=t.store(dt.store),i=t.store(Tn.store),s=[],a=IDBKeyRange.only(n.batchId),c=0,l=r.$t({range:a},function(w,E,T){return c++,T.delete()});s.push(l.next(function(){Te(c===1)}));for(var h=[],d=0,v=n.mutations;d<v.length;d++){var g=v[d],y=Tn.key(e,g.key.path,n.batchId);s.push(i.delete(y)),h.push(g.key)}return z.waitFor(s).next(function(){return h})}function wv(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw de();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Si.DEFAULT_COLLECTION_PERCENTILE=10,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Si.DEFAULT=new Si(41943040,Si.DEFAULT_COLLECTION_PERCENTILE,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Si.DISABLED=new Si(-1,0,0);var YZ=function(){function t(e,n,r,i){this.userId=e,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Kt={}}return t.Qt=function(e,n,r,i){return Te(e.uid!==""),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(e){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vo(e).$t({index:dt.userMutationsIndex,range:r},function(i,s,a){n=!1,a.done()}).next(function(){return n})},t.prototype.addMutationBatch=function(e,n,r,i){var s=this,a=Pu(e),c=Vo(e);return c.add({}).next(function(l){Te(typeof l=="number");for(var h=new RT(l,n,r,i),d=function(A,O,P){var x=P.baseMutations.map(function(M){return _v(A.Lt,M)}),B=P.mutations.map(function(M){return _v(A.Lt,M)});return new dt(O,P.batchId,P.localWriteTime.toMillis(),x,B)}(s.R,s.userId,h),v=[],g=new Kt(function(A,O){return qe(A.canonicalString(),O.canonicalString())}),y=0,w=i;y<w.length;y++){var E=w[y],T=Tn.key(s.userId,E.key.path,l);g=g.add(E.key.path.popLast()),v.push(c.put(d)),v.push(a.put(T,Tn.PLACEHOLDER))}return g.forEach(function(A){v.push(s.Ut.addToCollectionParentIndex(e,A))}),e.addOnCommittedListener(function(){s.Kt[l]=h.keys()}),z.waitFor(v).next(function(){return h})})},t.prototype.lookupMutationBatch=function(e,n){var r=this;return Vo(e).get(n).next(function(i){return i?(Te(i.userId===r.userId),Du(r.R,i)):null})},t.prototype.jt=function(e,n){var r=this;return this.Kt[n]?z.resolve(this.Kt[n]):this.lookupMutationBatch(e,n).next(function(i){if(i){var s=i.keys();return r.Kt[n]=s,s}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var r=this,i=n+1,s=IDBKeyRange.lowerBound([this.userId,i]),a=null;return Vo(e).$t({index:dt.userMutationsIndex,range:s},function(c,l,h){l.userId===r.userId&&(Te(l.batchId>=i),a=Du(r.R,l)),h.done()}).next(function(){return a})},t.prototype.getHighestUnacknowledgedBatchId=function(e){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Vo(e).$t({index:dt.userMutationsIndex,range:n,reverse:!0},function(i,s,a){r=s.batchId,a.done()}).next(function(){return r})},t.prototype.getAllMutationBatches=function(e){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vo(e).Nt(dt.userMutationsIndex,r).next(function(i){return i.map(function(s){return Du(n.R,s)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var r=this,i=Tn.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(i),a=[];return Pu(e).$t({range:s},function(c,l,h){var d=c[0],v=c[1],g=c[2],y=ao(v);if(d===r.userId&&n.path.isEqual(y))return Vo(e).get(g).next(function(w){if(!w)throw de();Te(w.userId===r.userId),a.push(Du(r.R,w))});h.done()}).next(function(){return a})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var r=this,i=new Kt(qe),s=[];return n.forEach(function(a){var c=Tn.prefixForPath(r.userId,a.path),l=IDBKeyRange.lowerBound(c),h=Pu(e).$t({range:l},function(d,v,g){var y=d[0],w=d[1],E=d[2],T=ao(w);y===r.userId&&a.path.isEqual(T)?i=i.add(E):g.done()});s.push(h)}),z.waitFor(s).next(function(){return r.Wt(e,i)})},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var r=this,i=n.path,s=i.length+1,a=Tn.prefixForPath(this.userId,i),c=IDBKeyRange.lowerBound(a),l=new Kt(qe);return Pu(e).$t({range:c},function(h,d,v){var g=h[0],y=h[1],w=h[2],E=ao(y);g===r.userId&&i.isPrefixOf(E)?E.length===s&&(l=l.add(w)):v.done()}).next(function(){return r.Wt(e,l)})},t.prototype.Wt=function(e,n){var r=this,i=[],s=[];return n.forEach(function(a){s.push(Vo(e).get(a).next(function(c){if(c===null)throw de();Te(c.userId===r.userId),i.push(Du(r.R,c))}))}),z.waitFor(s).next(function(){return i})},t.prototype.removeMutationBatch=function(e,n){var r=this;return kF(e.Mt,this.userId,n).next(function(i){return e.addOnCommittedListener(function(){r.Gt(n.batchId)}),z.forEach(i,function(s){return r.referenceDelegate.markPotentiallyOrphaned(e,s)})})},t.prototype.Gt=function(e){delete this.Kt[e]},t.prototype.performConsistencyCheck=function(e){var n=this;return this.checkEmpty(e).next(function(r){if(!r)return z.resolve();var i=IDBKeyRange.lowerBound(Tn.prefixForUser(n.userId)),s=[];return Pu(e).$t({range:i},function(a,c,l){if(a[0]===n.userId){var h=ao(a[1]);s.push(h)}else l.done()}).next(function(){Te(s.length===0)})})},t.prototype.containsKey=function(e,n){return RF(e,this.userId,n)},t.prototype.zt=function(e){var n=this;return OF(e).get(this.userId).next(function(r){return r||new es(n.userId,-1,"")})},t}();function RF(t,e,n){var r=Tn.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),a=!1;return Pu(t).$t({range:s,Ft:!0},function(c,l,h){var d=c[0],v=c[1];c[2],d===e&&v===i&&(a=!0),h.done()}).next(function(){return a})}function Vo(t){return ur(t,dt.store)}function Pu(t){return ur(t,Tn.store)}function OF(t){return ur(t,es.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bv=function(){function t(e){this.Ht=e}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),QZ=function(){function t(e,n){this.referenceDelegate=e,this.R=n}return t.prototype.allocateTargetId=function(e){var n=this;return this.Xt(e).next(function(r){var i=new bv(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(e,r).next(function(){return r.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(n){return Ue.fromTimestamp(new ir(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(n){return n.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(e,n,r){var i=this;return this.Xt(e).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),i.Zt(e,s)})},t.prototype.addTargetData=function(e,n){var r=this;return this.te(e,n).next(function(){return r.Xt(e).next(function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(e,i)})})},t.prototype.updateTargetData=function(e,n){return this.te(e,n)},t.prototype.removeTargetData=function(e,n){var r=this;return this.removeMatchingKeysForTargetId(e,n.targetId).next(function(){return Iu(e).delete(n.targetId)}).next(function(){return r.Xt(e)}).next(function(i){return Te(i.targetCount>0),i.targetCount-=1,r.Zt(e,i)})},t.prototype.removeTargets=function(e,n,r){var i=this,s=0,a=[];return Iu(e).$t(function(c,l){var h=Jl(l);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(s++,a.push(i.removeTargetData(e,h)))}).next(function(){return z.waitFor(a)}).next(function(){return s})},t.prototype.forEachTarget=function(e,n){return Iu(e).$t(function(r,i){var s=Jl(i);n(s)})},t.prototype.Xt=function(e){return C1(e).get(pr.key).next(function(n){return Te(n!==null),n})},t.prototype.Zt=function(e,n){return C1(e).put(pr.key,n)},t.prototype.te=function(e,n){return Iu(e).put(NF(this.R,n))},t.prototype.ee=function(e,n){var r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r},t.prototype.getTargetCount=function(e){return this.Xt(e).next(function(n){return n.targetCount})},t.prototype.getTargetData=function(e,n){var r=Ah(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return Iu(e).$t({range:i,index:nr.queryTargetsIndexName},function(a,c,l){var h=Jl(c);Ug(n,h.target)&&(s=h,l.done())}).next(function(){return s})},t.prototype.addMatchingKeys=function(e,n,r){var i=this,s=[],a=Wo(e);return n.forEach(function(c){var l=li(c.path);s.push(a.put(new dn(r,l))),s.push(i.referenceDelegate.addReference(e,r,c))}),z.waitFor(s)},t.prototype.removeMatchingKeys=function(e,n,r){var i=this,s=Wo(e);return z.forEach(n,function(a){var c=li(a.path);return z.waitFor([s.delete([r,c]),i.referenceDelegate.removeReference(e,r,a)])})},t.prototype.removeMatchingKeysForTargetId=function(e,n){var r=Wo(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},t.prototype.getMatchingKeysForTargetId=function(e,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Wo(e),s=it();return i.$t({range:r,Ft:!0},function(a,c,l){var h=ao(a[1]),d=new ve(h);s=s.add(d)}).next(function(){return s})},t.prototype.containsKey=function(e,n){var r=li(n.path),i=IDBKeyRange.bound([r],[qM(r)],!1,!0),s=0;return Wo(e).$t({index:dn.documentTargetsIndex,Ft:!0,range:i},function(a,c,l){var h=a[0];a[1],h!==0&&(s++,l.done())}).next(function(){return s>0})},t.prototype.lt=function(e,n){return Iu(e).get(n).next(function(r){return r?Jl(r):null})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(t){return ur(t,nr.store)}function C1(t){return ur(t,pr.store)}function Wo(t){return ur(t,dn.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(t){return N(this,void 0,void 0,function(){return C(this,function(e){if(t.code!==L.FAILED_PRECONDITION||t.message!==TF)throw t;return J("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(t,e){var n=t[0],r=t[1],i=e[0],s=e[1],a=qe(n,i);return a===0?qe(r,s):a}var XZ=function(){function t(e){this.ne=e,this.buffer=new Kt(N1),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(e){var n=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();N1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),JZ=function(){function t(e,n){this.garbageCollector=e,this.asyncQueue=n,this.oe=!1,this.ce=null}return t.prototype.start=function(e){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(e)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),t.prototype.ue=function(e){var n=this,r=this.oe?3e5:6e4;J("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return N(n,void 0,void 0,function(){var i;return C(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return Ha(i=s.sent())?(J("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,Ka(i)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return s.sent(),[2]}})})})},t}(),ZZ=function(){function t(e,n){this.ae=e,this.params=n}return t.prototype.calculateTargetCount=function(e,n){return this.ae.he(e).next(function(r){return Math.floor(n/100*r)})},t.prototype.nthSequenceNumber=function(e,n){var r=this;if(n===0)return z.resolve(gr.o);var i=new XZ(n);return this.ae.forEachTarget(e,function(s){return i.re(s.sequenceNumber)}).next(function(){return r.ae.le(e,function(s){return i.re(s)})}).next(function(){return i.maxValue})},t.prototype.removeTargets=function(e,n,r){return this.ae.removeTargets(e,n,r)},t.prototype.removeOrphanedDocuments=function(e,n){return this.ae.removeOrphanedDocuments(e,n)},t.prototype.collect=function(e,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(J("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(A1)):this.getCacheSize(e).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(J("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),A1):r.fe(e,n)})},t.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},t.prototype.fe=function(e,n){var r,i,s,a,c,l,h,d=this,v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(g){return g>d.params.maximumSequenceNumbersToCollect?(J("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+d.params.maximumSequenceNumbersToCollect+" from "+g),i=d.params.maximumSequenceNumbersToCollect):i=g,a=Date.now(),d.nthSequenceNumber(e,i)}).next(function(g){return r=g,c=Date.now(),d.removeTargets(e,r,n)}).next(function(g){return s=g,l=Date.now(),d.removeOrphanedDocuments(e,r)}).next(function(g){return h=Date.now(),Zb()<=je.DEBUG&&J("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-v)+`ms
	Determined least recently used `+i+" in "+(c-a)+`ms
	Removed `+s+" targets in "+(l-c)+`ms
	Removed `+g+" documents in "+(h-l)+`ms
Total Duration: `+(h-v)+"ms"),z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g})})},t}(),e2=function(){function t(e,n){this.db=e,this.garbageCollector=function(r,i){return new ZZ(r,i)}(this,n)}return t.prototype.he=function(e){var n=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(r){return n.next(function(i){return r+i})})},t.prototype.de=function(e){var n=0;return this.le(e,function(r){n++}).next(function(){return n})},t.prototype.forEachTarget=function(e,n){return this.db.getTargetCache().forEachTarget(e,n)},t.prototype.le=function(e,n){return this.we(e,function(r,i){return n(i)})},t.prototype.addReference=function(e,n,r){return sp(e,r)},t.prototype.removeReference=function(e,n,r){return sp(e,r)},t.prototype.removeTargets=function(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)},t.prototype.markPotentiallyOrphaned=function(e,n){return sp(e,n)},t.prototype._e=function(e,n){return function(r,i){var s=!1;return OF(r).Ot(function(a){return RF(r,a,i).next(function(c){return c&&(s=!0),z.resolve(!c)})}).next(function(){return s})}(e,n)},t.prototype.removeOrphanedDocuments=function(e,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],a=0;return this.we(e,function(c,l){if(l<=n){var h=r._e(e,c).next(function(d){if(!d)return a++,i.getEntry(e,c).next(function(){return i.removeEntry(c),Wo(e).delete([0,li(c.path)])})});s.push(h)}}).next(function(){return z.waitFor(s)}).next(function(){return i.apply(e)}).next(function(){return a})},t.prototype.removeTarget=function(e,n){var r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)},t.prototype.updateLimboDocument=function(e,n){return sp(e,n)},t.prototype.we=function(e,n){var r,i=Wo(e),s=gr.o;return i.$t({index:dn.documentTargetsIndex},function(a,c){var l=a[0];a[1];var h=c.path,d=c.sequenceNumber;l===0?(s!==gr.o&&n(new ve(ao(r)),s),s=d,r=h):s=gr.o}).next(function(){s!==gr.o&&n(new ve(ao(r)),s)})},t.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},t}();function sp(t,e){return Wo(t).put(function(n,r){return new dn(0,li(n.path),r)}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zc=function(){function t(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}return t.prototype.get=function(e){var n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0)for(var i=0,s=r;i<s.length;i++){var a=s[i],c=a[0],l=a[1];if(this.equalsFn(c,e))return l}},t.prototype.has=function(e){return this.get(e)!==void 0},t.prototype.set=function(e,n){var r=this.mapKeyFn(e),i=this.inner[r];if(i!==void 0){for(var s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n])}else this.inner[r]=[[e,n]]},t.prototype.delete=function(e){var n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},t.prototype.forEach=function(e){$a(this.inner,function(n,r){for(var i=0,s=r;i<s.length;i++){var a=s[i],c=a[0],l=a[1];e(c,l)}})},t.prototype.isEmpty=function(){return HM(this.inner)},t}(),DF=function(){function t(){this.changes=new zc(function(e){return e.toString()},function(e,n){return e.isEqual(n)}),this.changesApplied=!1}return t.prototype.getReadTime=function(e){var n=this.changes.get(e);return n?n.readTime:Ue.min()},t.prototype.addEntry=function(e,n){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:n})},t.prototype.removeEntry=function(e,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(e,{document:yn.newInvalidDocument(e),readTime:n})},t.prototype.getEntry=function(e,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?z.resolve(r.document):this.getFromCache(e,n)},t.prototype.getEntries=function(e,n){return this.getAllFromCache(e,n)},t.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},t.prototype.assertNotApplied=function(){},t}(),t2=function(){function t(e,n){this.R=e,this.Ut=n}return t.prototype.addEntry=function(e,n,r){return Ho(e).put(ap(n),r)},t.prototype.removeEntry=function(e,n){var r=Ho(e),i=ap(n);return r.delete(i)},t.prototype.updateMetadata=function(e,n){var r=this;return this.getMetadata(e).next(function(i){return i.byteSize+=n,r.me(e,i)})},t.prototype.getEntry=function(e,n){var r=this;return Ho(e).get(ap(n)).next(function(i){return r.ye(n,i)})},t.prototype.ge=function(e,n){var r=this;return Ho(e).get(ap(n)).next(function(i){return{document:r.ye(n,i),size:wv(i)}})},t.prototype.getEntries=function(e,n){var r=this,i=Ur();return this.pe(e,n,function(s,a){var c=r.ye(s,a);i=i.insert(s,c)}).next(function(){return i})},t.prototype.Ee=function(e,n){var r=this,i=Ur(),s=new On(ve.comparator);return this.pe(e,n,function(a,c){var l=r.ye(a,c);i=i.insert(a,l),s=s.insert(a,wv(c))}).next(function(){return{documents:i,Te:s}})},t.prototype.pe=function(e,n,r){if(n.isEmpty())return z.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),a=s.getNext();return Ho(e).$t({range:i},function(c,l,h){for(var d=ve.fromSegments(c);a&&ve.comparator(a,d)<0;)r(a,null),a=s.getNext();a&&a.isEqual(d)&&(r(a,l),a=s.hasNext()?s.getNext():null),a?h.Ct(a.path.toArray()):h.done()}).next(function(){for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(e,n,r){var i=this,s=Ur(),a=n.path.length+1,c={};if(r.isEqual(Ue.min())){var l=n.path.toArray();c.range=IDBKeyRange.lowerBound(l)}else{var h=n.path.toArray(),d=OT(r);c.range=IDBKeyRange.lowerBound([h,d],!0),c.index=Ct.collectionReadTimeIndex}return Ho(e).$t(c,function(v,g,y){if(v.length===a){var w=s0(i.R,g);n.path.isPrefixOf(w.key.path)?Nh(n,w)&&(s=s.insert(w.key,w)):y.done()}}).next(function(){return s})},t.prototype.newChangeBuffer=function(e){return new n2(this,!!e&&e.trackRemovals)},t.prototype.getSize=function(e){return this.getMetadata(e).next(function(n){return n.byteSize})},t.prototype.getMetadata=function(e){return k1(e).get(ki.key).next(function(n){return Te(!!n),n})},t.prototype.me=function(e,n){return k1(e).put(ki.key,n)},t.prototype.ye=function(e,n){if(n){var r=s0(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(Ue.min()))return r}return yn.newInvalidDocument(e)},t}(),n2=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new zc(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),i}return re(e,t),e.prototype.applyChanges=function(n){var r=this,i=[],s=0,a=new Kt(function(c,l){return qe(c.canonicalString(),l.canonicalString())});return this.changes.forEach(function(c,l){var h=r.Ae.get(c);if(l.document.isValidDocument()){var d=E1(r.Ie.R,l.document,r.getReadTime(c));a=a.add(c.path.popLast());var v=wv(d);s+=v-h,i.push(r.Ie.addEntry(n,c,d))}else if(s-=h,r.trackRemovals){var g=E1(r.Ie.R,yn.newNoDocument(c,Ue.min()),r.getReadTime(c));i.push(r.Ie.addEntry(n,c,g))}else i.push(r.Ie.removeEntry(n,c))}),a.forEach(function(c){i.push(r.Ie.Ut.addToCollectionParentIndex(n,c))}),i.push(this.Ie.updateMetadata(n,s)),z.waitFor(i)},e.prototype.getFromCache=function(n,r){var i=this;return this.Ie.ge(n,r).next(function(s){return i.Ae.set(r,s.size),s.document})},e.prototype.getAllFromCache=function(n,r){var i=this;return this.Ie.Ee(n,r).next(function(s){var a=s.documents;return s.Te.forEach(function(c,l){i.Ae.set(c,l)}),a})},e}(DF);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(t){return ur(t,ki.store)}function Ho(t){return ur(t,Ct.store)}function ap(t){return t.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r2=function(){function t(e){this.R=e}return t.prototype.Rt=function(e,n,r,i){var s=this;Te(r<i&&r>=0&&i<=11);var a=new SF("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore(dr.store)}(e),function(l){l.createObjectStore(es.store,{keyPath:es.keyPath}),l.createObjectStore(dt.store,{keyPath:dt.keyPath,autoIncrement:!0}).createIndex(dt.userMutationsIndex,dt.userMutationsKeyPath,{unique:!0}),l.createObjectStore(Tn.store)}(e),R1(e),function(l){l.createObjectStore(Ct.store)}(e));var c=z.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore(dn.store),l.deleteObjectStore(nr.store),l.deleteObjectStore(pr.store)}(e),R1(e)),c=c.next(function(){return function(l){var h=l.store(pr.store),d=new pr(0,0,Ue.min().toTimestamp(),0);return h.put(pr.key,d)}(a)})),r<4&&i>=4&&(r!==0&&(c=c.next(function(){return function(l,h){return h.store(dt.store).Nt().next(function(d){l.deleteObjectStore(dt.store),l.createObjectStore(dt.store,{keyPath:dt.keyPath,autoIncrement:!0}).createIndex(dt.userMutationsIndex,dt.userMutationsKeyPath,{unique:!0});var v=h.store(dt.store),g=d.map(function(y){return v.put(y)});return z.waitFor(g)})}(e,a)})),c=c.next(function(){(function(l){l.createObjectStore(ho.store,{keyPath:ho.keyPath})})(e)})),r<5&&i>=5&&(c=c.next(function(){return s.Re(a)})),r<6&&i>=6&&(c=c.next(function(){return function(l){l.createObjectStore(ki.store)}(e),s.be(a)})),r<7&&i>=7&&(c=c.next(function(){return s.ve(a)})),r<8&&i>=8&&(c=c.next(function(){return s.Pe(e,a)})),r<9&&i>=9&&(c=c.next(function(){(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e),function(l){var h=l.objectStore(Ct.store);h.createIndex(Ct.readTimeIndex,Ct.readTimeIndexPath,{unique:!1}),h.createIndex(Ct.collectionReadTimeIndex,Ct.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(c=c.next(function(){return s.Ve(a)})),r<11&&i>=11&&(c=c.next(function(){(function(l){l.createObjectStore(yc.store,{keyPath:yc.keyPath})})(e),function(l){l.createObjectStore(_c.store,{keyPath:_c.keyPath})}(e)})),c},t.prototype.be=function(e){var n=0;return e.store(Ct.store).$t(function(r,i){n+=wv(i)}).next(function(){var r=new ki(n);return e.store(ki.store).put(ki.key,r)})},t.prototype.Re=function(e){var n=this,r=e.store(es.store),i=e.store(dt.store);return r.Nt().next(function(s){return z.forEach(s,function(a){var c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.Nt(dt.userMutationsIndex,c).next(function(l){return z.forEach(l,function(h){Te(h.userId===a.userId);var d=Du(n.R,h);return kF(e,a.userId,d).next(function(){})})})})})},t.prototype.ve=function(e){var n=e.store(dn.store),r=e.store(Ct.store);return e.store(pr.store).get(pr.key).next(function(i){var s=[];return r.$t(function(a,c){var l=new Xe(a),h=function(d){return[0,li(d)]}(l);s.push(n.get(h).next(function(d){return d?z.resolve():function(v){return n.put(new dn(0,li(v),i.highestListenSequenceNumber))}(l)}))}).next(function(){return z.waitFor(s)})})},t.prototype.Pe=function(e,n){e.createObjectStore(pa.store,{keyPath:pa.keyPath});var r=n.store(pa.store),i=new PT,s=function(a){if(i.add(a)){var c=a.lastSegment(),l=a.popLast();return r.put({collectionId:c,parent:li(l)})}};return n.store(Ct.store).$t({Ft:!0},function(a,c){var l=new Xe(a);return s(l.popLast())}).next(function(){return n.store(Tn.store).$t({Ft:!0},function(a,c){a[0];var l=a[1];a[2];var h=ao(l);return s(h.popLast())})})},t.prototype.Ve=function(e){var n=this,r=e.store(nr.store);return r.$t(function(i,s){var a=Jl(s),c=NF(n.R,a);return r.put(c)})},t}();function R1(t){t.createObjectStore(dn.store,{keyPath:dn.keyPath}).createIndex(dn.documentTargetsIndex,dn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(nr.store,{keyPath:nr.keyPath}).createIndex(nr.queryTargetsIndexName,nr.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(pr.store)}var Aw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",i2=function(){function t(e,n,r,i,s,a,c,l,h,d){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=a,this.document=c,this.De=h,this.Ce=d,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(v){return Promise.resolve()},!t.yt())throw new K(L.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new e2(this,i),this.Le=n+"main",this.R=new AF(l),this.Be=new wc(this.Le,11,new r2(this.R)),this.qe=new QZ(this.referenceDelegate,this.R),this.Ut=new zZ,this.Ue=function(v,g){return new t2(v,g)}(this.R,this.Ut),this.Ke=new WZ,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,d===!1&&Ut("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new K(L.FAILED_PRECONDITION,Aw);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return e.qe.getHighestSequenceNumber(n)})}).then(function(n){e.Ne=new gr(n,e.De)}).then(function(){e.xe=!0}).catch(function(n){return e.Be&&e.Be.close(),Promise.reject(n)})},t.prototype.He=function(e){var n=this;return this.Me=function(r){return N(n,void 0,void 0,function(){return C(this,function(i){return this.started?[2,e(r)]:[2]})})},e(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(e){var n=this;this.Be.vt(function(r){return N(n,void 0,void 0,function(){return C(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,e()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return N(n,void 0,void 0,function(){return C(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return up(n).put(new ho(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(n).next(function(r){r||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(n)}).next(function(r){return e.isPrimary&&!r?e.Xe(n).next(function(){return!1}):!!r&&e.Ze(n).next(function(){return!0})})}).catch(function(n){if(Ha(n))return J("IndexedDbPersistence","Failed to extend owner lease: ",n),e.isPrimary;if(!e.allowTabSynchronization)throw n;return J("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){e.isPrimary!==n&&e.Se.enqueueRetryable(function(){return e.Me(n)}),e.isPrimary=n})},t.prototype.Je=function(e){var n=this;return Gl(e).get(dr.key).next(function(r){return z.resolve(n.tn(r))})},t.prototype.en=function(e){return up(e).delete(this.clientId)},t.prototype.nn=function(){return N(this,void 0,void 0,function(){var e,n,r,i,s=this;return C(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(c){var l=ur(c,ho.store);return l.Nt().next(function(h){var d=s.rn(h,18e5),v=h.filter(function(g){return d.indexOf(g)===-1});return z.forEach(v,function(g){return l.delete(g.clientId)}).next(function(){return v})})}).catch(function(){return[]})]);case 1:if(e=a.sent(),this.Qe)for(n=0,r=e;n<r.length;n++)i=r[n],this.Qe.removeItem(this.on(i.clientId));a.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},t.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},t.prototype.Ye=function(e){var n=this;return this.Ce?z.resolve(!0):Gl(e).get(dr.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new K(L.FAILED_PRECONDITION,Aw);return!1}}return!(!n.networkEnabled||!n.inForeground)||up(e).Nt().next(function(i){return n.rn(i,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,c=!n.inForeground&&s.inForeground,l=n.networkEnabled===s.networkEnabled;if(a||c&&l)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&J("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},t.prototype.shutdown=function(){return N(this,void 0,void 0,function(){var e=this;return C(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[dr.store,ho.store],function(r){var i=new b1(r,gr.o);return e.Xe(i).next(function(){return e.en(i)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(e,n){var r=this;return e.filter(function(i){return r.sn(i.updateTimeMs,n)&&!r.cn(i.clientId)})},t.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(n){return up(n).Nt().next(function(r){return e.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(e){return YZ.Qt(e,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,n,r){var i=this;J("IndexedDbPersistence","Starting transaction:",e);var s,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(e,a,$Z,function(c){return s=new b1(c,i.Ne?i.Ne.next():gr.o),n==="readwrite-primary"?i.Je(s).next(function(l){return!!l||i.Ye(s)}).next(function(l){if(!l)throw Ut("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new K(L.FAILED_PRECONDITION,TF);return r(s)}).next(function(l){return i.Ze(s).next(function(){return l})}):i.dn(s).next(function(){return r(s)})}).then(function(c){return s.raiseOnCommittedEvent(),c})},t.prototype.dn=function(e){var n=this;return Gl(e).get(dr.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new K(L.FAILED_PRECONDITION,Aw)})},t.prototype.Ze=function(e){var n=new dr(this.clientId,this.allowTabSynchronization,Date.now());return Gl(e).put(dr.key,n)},t.yt=function(){return wc.yt()},t.prototype.Xe=function(e){var n=this,r=Gl(e);return r.get(dr.key).next(function(i){return n.tn(i)?(J("IndexedDbPersistence","Releasing primary lease."),r.delete(dr.key)):z.resolve()})},t.prototype.sn=function(e,n){var r=Date.now();return!(e<r-n||e>r&&(Ut("Detected an update time that is in the future: "+e+" > "+r),1))},t.prototype.We=function(){var e=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){e.Se.enqueueAndForget(function(){return e.inForeground=e.document.visibilityState==="visible",e.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var e,n=this;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ke=function(){n.un(),j8()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(e){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(e)))!==null;return J("IndexedDbPersistence","Client '"+e+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return Ut("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Ut("Failed to set zombie client id.",e)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},t.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},t}();function Gl(t){return ur(t,dr.store)}function up(t){return ur(t,ho.store)}function xT(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var o2=function(t,e){this.progress=t,this.wn=e},PF=function(){function t(e,n,r){this.Ue=e,this._n=n,this.Ut=r}return t.prototype.mn=function(e,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,n).next(function(i){return r.yn(e,n,i)})},t.prototype.yn=function(e,n,r){return this.Ue.getEntry(e,n).next(function(i){for(var s=0,a=r;s<a.length;s++)a[s].applyToLocalView(i);return i})},t.prototype.gn=function(e,n){e.forEach(function(r,i){for(var s=0,a=n;s<a.length;s++)a[s].applyToLocalView(i)})},t.prototype.pn=function(e,n){var r=this;return this.Ue.getEntries(e,n).next(function(i){return r.En(e,i).next(function(){return i})})},t.prototype.En=function(e,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,n).next(function(i){return r.gn(n,i)})},t.prototype.getDocumentsMatchingQuery=function(e,n,r){return function(i){return ve.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Tn(e,n.path):IT(n)?this.In(e,n,r):this.An(e,n,r)},t.prototype.Tn=function(e,n){return this.mn(e,new ve(n)).next(function(r){var i=i0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},t.prototype.In=function(e,n,r){var i=this,s=n.collectionGroup,a=i0();return this.Ut.getCollectionParents(e,s).next(function(c){return z.forEach(c,function(l){var h=function(d,v){return new To(v,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return i.An(e,h,r).next(function(d){d.forEach(function(v,g){a=a.insert(v,g)})})}).next(function(){return a})})},t.prototype.An=function(e,n,r){var i,s,a=this;return this.Ue.getDocumentsMatchingQuery(e,n,r).next(function(c){return i=c,a._n.getAllMutationBatchesAffectingQuery(e,n)}).next(function(c){return s=c,a.Rn(e,s,i).next(function(l){i=l;for(var h=0,d=s;h<d.length;h++)for(var v=d[h],g=0,y=v.mutations;g<y.length;g++){var w=y[g],E=w.key,T=i.get(E);T==null&&(T=yn.newInvalidDocument(E),i=i.insert(E,T)),r0(w,T,v.localWriteTime),T.isFoundDocument()||(i=i.remove(E))}})}).next(function(){return i.forEach(function(c,l){Nh(n,l)||(i=i.remove(c))}),i})},t.prototype.Rn=function(e,n,r){for(var i=it(),s=0,a=n;s<a.length;s++)for(var c=0,l=a[s].mutations;c<l.length;c++){var h=l[c];h instanceof _s&&r.get(h.key)===null&&(i=i.add(h.key))}var d=r;return this.Ue.getEntries(e,i).next(function(v){return v.forEach(function(g,y){y.isFoundDocument()&&(d=d.insert(g,y))}),d})},t}(),s2=function(){function t(e,n,r,i){this.targetId=e,this.fromCache=n,this.bn=r,this.vn=i}return t.Pn=function(e,n){for(var r=it(),i=it(),s=0,a=n.docChanges;s<a.length;s++){var c=a[s];switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:i=i.add(c.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),xF=function(){function t(){}return t.prototype.Vn=function(e){this.Sn=e},t.prototype.getDocumentsMatchingQuery=function(e,n,r,i){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(Ue.min())?this.Dn(e,n):this.Sn.pn(e,i).next(function(a){var c=s.Cn(n,a);return(Cp(n)||yv(n))&&s.Nn(n.limitType,c,i,r)?s.Dn(e,n):(Zb()<=je.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),n0(n)),s.Sn.getDocumentsMatchingQuery(e,n,r).next(function(l){return c.forEach(function(h){l=l.insert(h.key,h)}),l}))})},t.prototype.Cn=function(e,n){var r=new Kt(ZM(e));return n.forEach(function(i,s){Nh(e,s)&&(r=r.add(s))}),r},t.prototype.Nn=function(e,n,r,i){if(r.size!==n.size)return!0;var s=e==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)},t.prototype.Dn=function(e,n){return Zb()<=je.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",n0(n)),this.Sn.getDocumentsMatchingQuery(e,n,Ue.min())},t}(),a2=function(){function t(e,n,r,i){this.persistence=e,this.xn=n,this.R=i,this.kn=new On(qe),this.Fn=new zc(function(s){return Ah(s)},Ug),this.$n=Ue.min(),this._n=e.getMutationQueue(r),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new PF(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(e){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return e.collect(r,n.kn)})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LF(t,e,n,r){return new a2(t,e,n,r)}function MF(t,e){return N(this,void 0,void 0,function(){var n,r,i,s;return C(this,function(a){switch(a.label){case 0:return n=ne(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(c){var l;return n._n.getAllMutationBatches(c).next(function(h){return l=h,r=n.persistence.getMutationQueue(e),i=new PF(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(c)}).next(function(h){for(var d=[],v=[],g=it(),y=0,w=l;y<w.length;y++){var E=w[y];d.push(E.batchId);for(var T=0,A=E.mutations;T<A.length;T++){var O=A[T];g=g.add(O.key)}}for(var P=0,x=h;P<x.length;P++){var B=x[P];v.push(B.batchId);for(var M=0,ie=B.mutations;M<ie.length;M++){var Z=ie[M];g=g.add(Z.key)}}return i.pn(c,g).next(function(Ie){return{Ln:Ie,removedBatchIds:d,addedBatchIds:v}})})})];case 1:return s=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function u2(t,e){var n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=e.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(a,c,l,h){var d=l.batch,v=d.keys(),g=z.resolve();return v.forEach(function(y){g=g.next(function(){return h.getEntry(c,y)}).next(function(w){var E=l.docVersions.get(y);Te(E!==null),w.version.compareTo(E)<0&&(d.applyToRemoteDocument(w,l),w.isValidDocument()&&h.addEntry(w,l.commitVersion))})}),g.next(function(){return a._n.removeMutationBatch(c,d)})}(n,r,e,s).next(function(){return s.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,i)})})}function FF(t){var e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return e.qe.getLastRemoteSnapshotVersion(n)})}function c2(t,e){var n=ne(t),r=e.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var c=[];e.targetChanges.forEach(function(d,v){var g=i.get(v);if(g){c.push(n.qe.removeMatchingKeys(s,d.removedDocuments,v).next(function(){return n.qe.addMatchingKeys(s,d.addedDocuments,v)}));var y=d.resumeToken;if(y.approximateByteSize()>0){var w=g.withResumeToken(y,r).withSequenceNumber(s.currentSequenceNumber);i=i.insert(v,w),function(E,T,A){return Te(T.resumeToken.approximateByteSize()>0),E.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8||A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(g,w,d)&&c.push(n.qe.updateTargetData(s,w))}}});var l=Ur();if(e.documentUpdates.forEach(function(d,v){e.resolvedLimboDocuments.has(d)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),c.push(UF(s,a,e.documentUpdates,r,void 0).next(function(d){l=d})),!r.isEqual(Ue.min())){var h=n.qe.getLastRemoteSnapshotVersion(s).next(function(d){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,r)});c.push(h)}return z.waitFor(c).next(function(){return a.apply(s)}).next(function(){return n.Mn.En(s,l)}).next(function(){return l})}).then(function(s){return n.kn=i,s})}function UF(t,e,n,r,i){var s=it();return n.forEach(function(a){return s=s.add(a)}),e.getEntries(t,s).next(function(a){var c=Ur();return n.forEach(function(l,h){var d=a.get(l),v=(i==null?void 0:i.get(l))||r;h.isNoDocument()&&h.version.isEqual(Ue.min())?(e.removeEntry(l,v),c=c.insert(l,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h,v),c=c.insert(l,h)):J("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",h.version)}),c})}function l2(t,e){var n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return e===void 0&&(e=-1),n._n.getNextMutationBatchAfterBatchId(r,e)})}function Tc(t,e){var n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.qe.getTargetData(r,e).next(function(s){return s?(i=s,z.resolve(i)):n.qe.allocateTargetId(r).next(function(a){return i=new $g(e,a,0,r.currentSequenceNumber),n.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.kn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(e,r.targetId)),r})}function Ic(t,e,n){return N(this,void 0,void 0,function(){var r,i,s,a;return C(this,function(c){switch(c.label){case 0:r=ne(t),i=r.kn.get(e),s=n?"readwrite":"readwrite-primary",c.label=1;case 1:return c.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(l){return r.persistence.referenceDelegate.removeTarget(l,i)})];case 2:c.sent(),c.label=3;case 3:return[3,5];case 4:if(!Ha(a=c.sent()))throw a;return J("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(i.target),[2]}})})}function Ev(t,e,n){var r=ne(t),i=Ue.min(),s=it();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(c,l,h){var d=ne(c),v=d.Fn.get(h);return v!==void 0?z.resolve(d.kn.get(v)):d.qe.getTargetData(l,h)}(r,a,qr(e)).next(function(c){if(c)return i=c.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(a,c.targetId).next(function(l){s=l})}).next(function(){return r.xn.getDocumentsMatchingQuery(a,e,n?i:Ue.min(),n?s:it())}).next(function(c){return{documents:c,Bn:s}})})}function VF(t,e){var n=ne(t),r=ne(n.qe),i=n.kn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.lt(s,e).next(function(a){return a?a.target:null})})}function jF(t){var e=ne(t);return e.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,s){var a=ne(r),c=Ur(),l=OT(s),h=Ho(i),d=IDBKeyRange.lowerBound(l,!0);return h.$t({index:Ct.readTimeIndex,range:d},function(v,g){var y=s0(a.R,g);c=c.insert(y.key,y),l=g.readTime}).next(function(){return{wn:c,readTime:CF(l)}})}(e.On,n,e.$n)}).then(function(n){var r=n.wn,i=n.readTime;return e.$n=i,r})}function f2(t){return N(this,void 0,void 0,function(){var e;return C(this,function(n){return[2,(e=ne(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var s=Ho(i),a=Ue.min();return s.$t({index:Ct.readTimeIndex,reverse:!0},function(c,l,h){l.readTime&&(a=CF(l.readTime)),h.done()}).next(function(){return a})}(r)}).then(function(r){e.$n=r})]})})}function h2(t,e,n,r){return N(this,void 0,void 0,function(){var i,s,a,c,l,h,d,v,g,y;return C(this,function(w){switch(w.label){case 0:for(i=ne(t),s=it(),a=Ur(),c=lF(),l=0,h=n;l<h.length;l++)d=h[l],v=e.qn(d.metadata.name),d.document&&(s=s.add(v)),a=a.insert(v,e.Un(d)),c=c.insert(v,e.Kn(d.metadata.readTime));return g=i.On.newChangeBuffer({trackRemovals:!0}),[4,Tc(i,function(E){return qr(Gc(Xe.fromString("__bundle__/docs/"+E)))}(r))];case 1:return y=w.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(E){return UF(E,g,a,Ue.min(),c).next(function(T){return g.apply(E),T}).next(function(T){return i.qe.removeMatchingKeysForTargetId(E,y.targetId).next(function(){return i.qe.addMatchingKeys(E,s,y.targetId)}).next(function(){return i.Mn.En(E,T)}).next(function(){return T})})})]}})})}function d2(t,e,n){return n===void 0&&(n=it()),N(this,void 0,void 0,function(){var r,i;return C(this,function(s){switch(s.label){case 0:return[4,Tc(t,qr(DT(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=ne(t)).persistence.runTransaction("Save named query","readwrite",function(a){var c=tn(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.Ke.saveNamedQuery(a,e);var l=r.withResumeToken(Wn.EMPTY_BYTE_STRING,c);return i.kn=i.kn.insert(l.targetId,l),i.qe.updateTargetData(a,l).next(function(){return i.qe.removeMatchingKeysForTargetId(a,r.targetId)}).next(function(){return i.qe.addMatchingKeys(a,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(a,e)})})]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p2=function(){function t(e){this.R=e,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(e,n){return z.resolve(this.Qn.get(n))},t.prototype.saveBundleMetadata=function(e,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:tn(r.createTime)}),z.resolve()},t.prototype.getNamedQuery=function(e,n){return z.resolve(this.jn.get(n))},t.prototype.saveNamedQuery=function(e,n){return this.jn.set(n.name,function(r){return{name:r.name,query:DT(r.bundledQuery),readTime:tn(r.readTime)}}(n)),z.resolve()},t}(),LT=function(){function t(){this.Wn=new Kt(Qt.Gn),this.zn=new Kt(Qt.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(e,n){var r=new Qt(e,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},t.prototype.Jn=function(e,n){var r=this;e.forEach(function(i){return r.addReference(i,n)})},t.prototype.removeReference=function(e,n){this.Yn(new Qt(e,n))},t.prototype.Xn=function(e,n){var r=this;e.forEach(function(i){return r.removeReference(i,n)})},t.prototype.Zn=function(e){var n=this,r=new ve(new Xe([])),i=new Qt(r,e),s=new Qt(r,e+1),a=[];return this.zn.forEachInRange([i,s],function(c){n.Yn(c),a.push(c.key)}),a},t.prototype.ts=function(){var e=this;this.Wn.forEach(function(n){return e.Yn(n)})},t.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},t.prototype.es=function(e){var n=new ve(new Xe([])),r=new Qt(n,e),i=new Qt(n,e+1),s=it();return this.zn.forEachInRange([r,i],function(a){s=s.add(a.key)}),s},t.prototype.containsKey=function(e){var n=new Qt(e,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)},t}(),Qt=function(){function t(e,n){this.key=e,this.ns=n}return t.Gn=function(e,n){return ve.comparator(e.key,n.key)||qe(e.ns,n.ns)},t.Hn=function(e,n){return qe(e.ns,n.ns)||ve.comparator(e.key,n.key)},t}(),v2=function(){function t(e,n){this.Ut=e,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Kt(Qt.Gn)}return t.prototype.checkEmpty=function(e){return z.resolve(this._n.length===0)},t.prototype.addMutationBatch=function(e,n,r,i){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new RT(s,n,r,i);this._n.push(a);for(var c=0,l=i;c<l.length;c++){var h=l[c];this.rs=this.rs.add(new Qt(h.key,s)),this.Ut.addToCollectionParentIndex(e,h.key.path.popLast())}return z.resolve(a)},t.prototype.lookupMutationBatch=function(e,n){return z.resolve(this.os(n))},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var r=n+1,i=this.cs(r),s=i<0?0:i;return z.resolve(this._n.length>s?this._n[s]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return z.resolve(this._n.length===0?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(e){return z.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var r=this,i=new Qt(n,0),s=new Qt(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([i,s],function(c){var l=r.os(c.ns);a.push(l)}),z.resolve(a)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var r=this,i=new Kt(qe);return n.forEach(function(s){var a=new Qt(s,0),c=new Qt(s,Number.POSITIVE_INFINITY);r.rs.forEachInRange([a,c],function(l){i=i.add(l.ns)})}),z.resolve(this.us(i))},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var r=n.path,i=r.length+1,s=r;ve.isDocumentKey(s)||(s=s.child(""));var a=new Qt(new ve(s),0),c=new Kt(qe);return this.rs.forEachWhile(function(l){var h=l.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(l.ns)),!0)},a),z.resolve(this.us(c))},t.prototype.us=function(e){var n=this,r=[];return e.forEach(function(i){var s=n.os(i);s!==null&&r.push(s)}),r},t.prototype.removeMutationBatch=function(e,n){var r=this;Te(this.hs(n.batchId,"removed")===0),this._n.shift();var i=this.rs;return z.forEach(n.mutations,function(s){var a=new Qt(s.key,n.batchId);return i=i.delete(a),r.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(function(){r.rs=i})},t.prototype.Gt=function(e){},t.prototype.containsKey=function(e,n){var r=new Qt(n,0),i=this.rs.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))},t.prototype.performConsistencyCheck=function(e){return this._n.length,z.resolve()},t.prototype.hs=function(e,n){return this.cs(e)},t.prototype.cs=function(e){return this._n.length===0?0:e-this._n[0].batchId},t.prototype.os=function(e){var n=this.cs(e);return n<0||n>=this._n.length?null:this._n[n]},t}(),g2=function(){function t(e,n){this.Ut=e,this.ls=n,this.docs=new On(ve.comparator),this.size=0}return t.prototype.addEntry=function(e,n,r){var i=n.key,s=this.docs.get(i),a=s?s.size:0,c=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:c,readTime:r}),this.size+=c-a,this.Ut.addToCollectionParentIndex(e,i.path.popLast())},t.prototype.removeEntry=function(e){var n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)},t.prototype.getEntry=function(e,n){var r=this.docs.get(n);return z.resolve(r?r.document.clone():yn.newInvalidDocument(n))},t.prototype.getEntries=function(e,n){var r=this,i=Ur();return n.forEach(function(s){var a=r.docs.get(s);i=i.insert(s,a?a.document.clone():yn.newInvalidDocument(s))}),z.resolve(i)},t.prototype.getDocumentsMatchingQuery=function(e,n,r){for(var i=Ur(),s=new ve(n.path.child("")),a=this.docs.getIteratorFrom(s);a.hasNext();){var c=a.getNext(),l=c.key,h=c.value,d=h.document,v=h.readTime;if(!n.path.isPrefixOf(l.path))break;v.compareTo(r)<=0||Nh(n,d)&&(i=i.insert(d.key,d.clone()))}return z.resolve(i)},t.prototype.fs=function(e,n){return z.forEach(this.docs,function(r){return n(r)})},t.prototype.newChangeBuffer=function(e){return new m2(this)},t.prototype.getSize=function(e){return z.resolve(this.size)},t}(),m2=function(t){function e(n){var r=this;return(r=t.call(this)||this).Ie=n,r}return re(e,t),e.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(s,a){a.document.isValidDocument()?i.push(r.Ie.addEntry(n,a.document,r.getReadTime(s))):r.Ie.removeEntry(s)}),z.waitFor(i)},e.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},e.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},e}(DF),y2=function(){function t(e){this.persistence=e,this.ds=new zc(function(n){return Ah(n)},Ug),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.ws=0,this._s=new LT,this.targetCount=0,this.ys=bv.Jt()}return t.prototype.forEachTarget=function(e,n){return this.ds.forEach(function(r,i){return n(i)}),z.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(e){return z.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(e){return z.resolve(this.ws)},t.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),z.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),z.resolve()},t.prototype.te=function(e){this.ds.set(e.target,e);var n=e.targetId;n>this.highestTargetId&&(this.ys=new bv(n),this.highestTargetId=n),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},t.prototype.addTargetData=function(e,n){return this.te(n),this.targetCount+=1,z.resolve()},t.prototype.updateTargetData=function(e,n){return this.te(n),z.resolve()},t.prototype.removeTargetData=function(e,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,z.resolve()},t.prototype.removeTargets=function(e,n,r){var i=this,s=0,a=[];return this.ds.forEach(function(c,l){l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i.ds.delete(c),a.push(i.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),z.waitFor(a).next(function(){return s})},t.prototype.getTargetCount=function(e){return z.resolve(this.targetCount)},t.prototype.getTargetData=function(e,n){var r=this.ds.get(n)||null;return z.resolve(r)},t.prototype.addMatchingKeys=function(e,n,r){return this._s.Jn(n,r),z.resolve()},t.prototype.removeMatchingKeys=function(e,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(function(a){s.push(i.markPotentiallyOrphaned(e,a))}),z.waitFor(s)},t.prototype.removeMatchingKeysForTargetId=function(e,n){return this._s.Zn(n),z.resolve()},t.prototype.getMatchingKeysForTargetId=function(e,n){var r=this._s.es(n);return z.resolve(r)},t.prototype.containsKey=function(e,n){return z.resolve(this._s.containsKey(n))},t}(),_2=function(){function t(e,n){var r=this;this.gs={},this.Ne=new gr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new y2(this),this.Ut=new GZ,this.Ue=function(i,s){return new g2(i,function(a){return r.referenceDelegate.ps(a)})}(this.Ut),this.R=new AF(n),this.Ke=new p2(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(e){var n=this.gs[e.toKey()];return n||(n=new v2(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=n),n},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,n,r){var i=this;J("MemoryPersistence","Starting transaction:",e);var s=new w2(this.Ne.next());return this.referenceDelegate.Es(),r(s).next(function(a){return i.referenceDelegate.Ts(s).next(function(){return a})}).toPromise().then(function(a){return s.raiseOnCommittedEvent(),a})},t.prototype.Is=function(e,n){return z.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(e,n)}}))},t}(),w2=function(t){function e(n){var r=this;return(r=t.call(this)||this).currentSequenceNumber=n,r}return re(e,t),e}(IF),b2=function(){function t(e){this.persistence=e,this.As=new LT,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw de()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(e,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),z.resolve()},t.prototype.removeReference=function(e,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),z.resolve()},t.prototype.markPotentiallyOrphaned=function(e,n){return this.vs.add(n.toString()),z.resolve()},t.prototype.removeTarget=function(e,n){var r=this;this.As.Zn(n.targetId).forEach(function(s){return r.vs.add(s.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(function(s){s.forEach(function(a){return r.vs.add(a.toString())})}).next(function(){return i.removeTargetData(e,n)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(e){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.vs,function(i){var s=ve.fromPath(i);return n.Ps(e,s).next(function(a){a||r.removeEntry(s)})}).next(function(){return n.Rs=null,r.apply(e)})},t.prototype.updateLimboDocument=function(e,n){var r=this;return this.Ps(e,n).next(function(i){i?r.vs.delete(n.toString()):r.vs.add(n.toString())})},t.prototype.ps=function(e){return 0},t.prototype.Ps=function(e,n){var r=this;return z.or([function(){return z.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(e,n)},function(){return r.persistence.Is(e,n)}])},t}(),cn=function(){function t(e){this.uid=e}return t.prototype.isAuthenticated=function(){return this.uid!=null},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(e){return e.uid===this.uid},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(t,e){return"firestore_clients_"+t+"_"+e}function D1(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Cw(t,e){return"firestore_targets_"+t+"_"+e}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");var P1=function(){function t(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}return t.Vs=function(e,n,r){var i,s=JSON.parse(r),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(i=new K(s.error.code,s.error.message)),a?new t(e,n,s.state,i):(Ut("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),Nw=function(){function t(e,n,r){this.targetId=e,this.state=n,this.error=r}return t.Vs=function(e,n){var r,i=JSON.parse(n),s=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new K(i.error.code,i.error.message)),s?new t(e,i.state,r):(Ut("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),x1=function(){function t(e,n){this.clientId=e,this.activeTargetIds=n}return t.Vs=function(e,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Bg(),a=0;i&&a<r.activeTargetIds.length;++a)i=GM(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new t(e,s):(Ut("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),E2=function(){function t(e,n){this.clientId=e,this.onlineState=n}return t.Vs=function(e){var n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(Ut("SharedClientState","Failed to parse online state: "+e),null)},t}(),a0=function(){function t(){this.activeTargetIds=Bg()}return t.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},t.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},t.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},t}(),kw=function(){function t(e,n,r,i,s){this.window=e,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new On(qe),this.started=!1,this.$s=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=O1(this.persistenceKey,this.Ns),this.Ms=function(c){return"firestore_sequence_number_"+c}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new a0),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(c){return"firestore_online_state_"+c}(this.persistenceKey),this.Ks=function(c){return"firestore_bundle_loaded_"+c}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(e){return!(!e||!e.localStorage)},t.prototype.start=function(){return N(this,void 0,void 0,function(){var e,n,r,i,s,a,c,l,h,d,v,g=this;return C(this,function(y){switch(y.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=y.sent(),n=0,r=e;n<r.length;n++)(i=r[n])!==this.Ns&&(s=this.getItem(O1(this.persistenceKey,i)))&&(a=x1.Vs(i,s))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(c=this.storage.getItem(this.Us))&&(l=this.js(c))&&this.Ws(l),h=0,d=this.$s;h<d.length;h++)v=d[h],this.ks(v);return this.$s=[],this.window.addEventListener("pagehide",function(){return g.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(e){var n=!1;return this.Fs.forEach(function(r,i){i.activeTargetIds.has(e)&&(n=!0)}),n},t.prototype.addPendingMutation=function(e){this.zs(e,"pending")},t.prototype.updateMutationState=function(e,n,r){this.zs(e,n,r),this.Hs(e)},t.prototype.addLocalQueryTarget=function(e){var n="not-current";if(this.isActiveQueryTarget(e)){var r=this.storage.getItem(Cw(this.persistenceKey,e));if(r){var i=Nw.Vs(e,r);i&&(n=i.state)}}return this.Js.Ds(e),this.Qs(),n},t.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},t.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){this.removeItem(Cw(this.persistenceKey,e))},t.prototype.updateQueryState=function(e,n,r){this.Ys(e,n,r)},t.prototype.handleUserChange=function(e,n,r){var i=this;n.forEach(function(s){i.Hs(s)}),this.currentUser=e,r.forEach(function(s){i.addPendingMutation(s)})},t.prototype.setOnlineState=function(e){this.Xs(e)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(e){var n=this.storage.getItem(e);return J("SharedClientState","READ",e,n),n},t.prototype.setItem=function(e,n){J("SharedClientState","SET",e,n),this.storage.setItem(e,n)},t.prototype.removeItem=function(e){J("SharedClientState","REMOVE",e),this.storage.removeItem(e)},t.prototype.ks=function(e){var n=this,r=e;if(r.storageArea===this.storage){if(J("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void Ut("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return N(n,void 0,void 0,function(){var i,s,a,c,l,h;return C(this,function(d){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(s=this.ni(r.key,r.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(a=this.si(r.key,r.newValue)))return[2,this.ii(a)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(c=this.ri(r.key,r.newValue)))return[2,this.oi(c)]}else if(r.key===this.Us){if(r.newValue!==null&&(l=this.js(r.newValue)))return[2,this.Ws(l)]}else if(r.key===this.Ms)(h=function(v){var g=gr.o;if(v!=null)try{var y=JSON.parse(v);Te(typeof y=="number"),g=y}catch(w){Ut("SharedClientState","Failed to read sequence number from WebStorage",w)}return g}(r.newValue))!==gr.o&&this.sequenceNumberHandler(h);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(e,n,r){var i=new P1(this.currentUser,e,n,r),s=D1(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Ss())},t.prototype.Hs=function(e){var n=D1(this.persistenceKey,this.currentUser,e);this.removeItem(n)},t.prototype.Xs=function(e){var n={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(n))},t.prototype.Ys=function(e,n,r){var i=Cw(this.persistenceKey,e),s=new Nw(e,n,r);this.setItem(i,s.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(e){var n=this.Ls.exec(e);return n?n[1]:null},t.prototype.ni=function(e,n){var r=this.ti(e);return x1.Vs(r,n)},t.prototype.si=function(e,n){var r=this.Bs.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return P1.Vs(new cn(s),i,n)},t.prototype.ri=function(e,n){var r=this.qs.exec(e),i=Number(r[1]);return Nw.Vs(i,n)},t.prototype.js=function(e){return E2.Vs(e)},t.prototype.ii=function(e){return N(this,void 0,void 0,function(){return C(this,function(n){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(J("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},t.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},t.prototype.ei=function(e,n){var r=this,i=n?this.Fs.insert(e,n):this.Fs.remove(e),s=this.Gs(this.Fs),a=this.Gs(i),c=[],l=[];return a.forEach(function(h){s.has(h)||c.push(h)}),s.forEach(function(h){a.has(h)||l.push(h)}),this.syncEngine.hi(c,l).then(function(){r.Fs=i})},t.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},t.prototype.Gs=function(e){var n=Bg();return e.forEach(function(r,i){n=n.unionWith(i.activeTargetIds)}),n},t}(),BF=function(){function t(){this.li=new a0,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(e){},t.prototype.updateMutationState=function(e,n,r){},t.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},t.prototype.updateQueryState=function(e,n,r){this.fi[e]=n},t.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},t.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){delete this.fi[e]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.start=function(){return this.li=new a0,Promise.resolve()},t.prototype.handleUserChange=function(e,n,r){},t.prototype.setOnlineState=function(e){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(e){},t.prototype.notifyBundleLoaded=function(){},t}(),T2=function(){function t(){}return t.prototype.di=function(e){},t.prototype.shutdown=function(){},t}(),L1=function(){function t(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return t.prototype.di=function(e){this.gi.push(e)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(0)},t.prototype.yi=function(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(1)},t.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},t}(),I2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},S2=function(){function t(e){this.Ei=e.Ei,this.Ti=e.Ti}return t.prototype.Ii=function(e){this.Ai=e},t.prototype.Ri=function(e){this.bi=e},t.prototype.onMessage=function(e){this.vi=e},t.prototype.close=function(){this.Ti()},t.prototype.send=function(e){this.Ei(e)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(e){this.bi(e)},t.prototype.Si=function(e){this.vi(e)},t}(),A2=function(t){function e(n){var r=this;return(r=t.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return re(e,t),e.prototype.Fi=function(n,r,i,s){return new Promise(function(a,c){var l=new nZ;l.listenOnce(ZJ.COMPLETE,function(){try{switch(l.getLastErrorCode()){case Sw.NO_ERROR:var d=l.getResponseJson();J("Connection","XHR received:",JSON.stringify(d)),a(d);break;case Sw.TIMEOUT:J("Connection",'RPC "'+n+'" timed out'),c(new K(L.DEADLINE_EXCEEDED,"Request time out"));break;case Sw.HTTP_ERROR:var v=l.getStatus();if(J("Connection",'RPC "'+n+'" failed with status:',v,"response text:",l.getResponseText()),v>0){var g=l.getResponseJson().error;if(g&&g.status&&g.message){var y=function(w){var E=w.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(E)>=0?E:L.UNKNOWN}(g.status);c(new K(y,g.message))}else c(new K(L.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new K(L.UNAVAILABLE,"Connection failed."));break;default:de()}}finally{J("Connection",'RPC "'+n+'" completed.')}});var h=JSON.stringify(s);l.send(r,"POST",h,i,15)})},e.prototype.Oi=function(n,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=XJ(),a=JJ(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(c.xmlHttpFactory=new tZ({})),this.ki(c.initMessageHeaders,r),aE()||sx()||F8()||U8()||V8()||uE()||(c.httpHeadersOverwriteParam="$httpHeaders");var l=i.join("");J("Connection","Creating WebChannel: "+l,c);var h=s.createWebChannel(l,c),d=!1,v=!1,g=new S2({Ei:function(w){v?J("Connection","Not sending because WebChannel is closed:",w):(d||(J("Connection","Opening WebChannel transport."),h.open(),d=!0),J("Connection","WebChannel sending:",w),h.send(w))},Ti:function(){return h.close()}}),y=function(w,E,T){w.listen(E,function(A){try{T(A)}catch(O){setTimeout(function(){throw O},0)}})};return y(h,ip.EventType.OPEN,function(){v||J("Connection","WebChannel transport opened.")}),y(h,ip.EventType.CLOSE,function(){v||(v=!0,J("Connection","WebChannel transport closed"),g.Vi())}),y(h,ip.EventType.ERROR,function(w){v||(v=!0,Vf("Connection","WebChannel transport errored:",w),g.Vi(new K(L.UNAVAILABLE,"The operation could not be completed")))}),y(h,ip.EventType.MESSAGE,function(w){var E;if(!v){var T=w.data[0];Te(!!T);var A=T,O=A.error||((E=A[0])===null||E===void 0?void 0:E.error);if(O){J("Connection","WebChannel received error:",O);var P=O.status,x=function(M){var ie=Mt[M];if(ie!==void 0)return cF(ie)}(P),B=O.message;x===void 0&&(x=L.INTERNAL,B="Unknown error status: "+P+" with message "+O.message),v=!0,g.Vi(new K(x,B)),h.close()}else J("Connection","WebChannel received:",T),g.Si(T)}}),y(a,eZ.STAT_EVENT,function(w){w.stat===JR.PROXY?J("Connection","Detected buffering proxy"):w.stat===JR.NOPROXY&&J("Connection","Detected no buffering proxy")}),setTimeout(function(){g.Pi()},0),g},e}(function(){function t(e){this.databaseInfo=e,this.databaseId=e.databaseId;var n=e.ssl?"https":"http";this.Di=n+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(e,n,r,i){var s=this.xi(e,n);J("RestConnection","Sending: ",s,r);var a={};return this.ki(a,i),this.Fi(e,s,a,r).then(function(c){return J("RestConnection","Received: ",c),c},function(c){throw Vf("RestConnection",e+" failed with error: ",c,"url: ",s,"request:",r),c})},t.prototype.$i=function(e,n,r,i){return this.Ni(e,n,r,i)},t.prototype.ki=function(e,n){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(e[r]=n.authHeaders[r])},t.prototype.xi=function(e,n){var r=I2[e];return this.Di+"/v1/"+n+":"+r},t}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $F(){return typeof window<"u"?window:null}function Rp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(t){return new OZ(t,!0)}var MT=function(){function t(e,n,r,i,s){r===void 0&&(r=1e3),i===void 0&&(i=1.5),s===void 0&&(s=6e4),this.Se=e,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(e){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Ki),s=Math.max(0,r-i);s>0&&J("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),qF=function(){function t(e,n,r,i,s,a){this.Se=e,this.zi=r,this.Hi=i,this.Ji=s,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new MT(e,n)}return t.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},t.prototype.er=function(){return this.state===2},t.prototype.start=function(){this.state!==3?this.auth():this.nr()},t.prototype.stop=function(){return N(this,void 0,void 0,function(){return C(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var e=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},t.prototype.cr=function(e){this.ur(),this.stream.send(e)},t.prototype.rr=function(){return N(this,void 0,void 0,function(){return C(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(e,n){return N(this,void 0,void 0,function(){return C(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,e!==3?this.Zi.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(Ut(n.toString()),Ut("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===L.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var e=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){e.Yi===r&&e.lr(i)},function(i){n(function(){var s=new K(L.UNKNOWN,"Fetching auth token failed: "+i.message);return e.dr(s)})})},t.prototype.lr=function(e){var n=this,r=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return n.dr(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},t.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return N(e,void 0,void 0,function(){return C(this,function(n){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(e){return J("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},t.prototype.hr=function(e){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===e?r():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),C2=function(t){function e(n,r,i,s,a){var c=this;return(c=t.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)||this).R=s,c}return re(e,t),e.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},e.prototype.onMessage=function(n){this.Zi.reset();var r=function(s,a){var c;if("targetChange"in a){a.targetChange;var l=function(T){return T==="NO_CHANGE"?0:T==="ADD"?1:T==="REMOVE"?2:T==="CURRENT"?3:T==="RESET"?4:de()}(a.targetChange.targetChangeType||"NO_CHANGE"),h=a.targetChange.targetIds||[],d=function(T,A){return T.I?(Te(A===void 0||typeof A=="string"),Wn.fromBase64String(A||"")):(Te(A===void 0||A instanceof Uint8Array),Wn.fromUint8Array(A||new Uint8Array))}(s,a.targetChange.resumeToken),v=(g=a.targetChange.cause)&&function(T){var A=T.code===void 0?L.UNKNOWN:cF(T.code);return new K(A,T.message||"")}(g);c=new hF(l,h,d,v||null)}else if("documentChange"in a){a.documentChange,(l=a.documentChange).document,l.document.name,l.document.updateTime,h=Li(s,l.document.name),d=tn(l.document.updateTime);var g=new vr({mapValue:{fields:l.document.fields}}),y=(v=yn.newFoundDocument(h,d,g),l.targetIds||[]),w=l.removedTargetIds||[];c=new kp(y,w,v.key,v)}else if("documentDelete"in a)a.documentDelete,(l=a.documentDelete).document,h=Li(s,l.document),d=l.readTime?tn(l.readTime):Ue.min(),g=yn.newNoDocument(h,d),v=l.removedTargetIds||[],c=new kp([],v,g.key,g);else if("documentRemove"in a)a.documentRemove,(l=a.documentRemove).document,h=Li(s,l.document),d=l.removedTargetIds||[],c=new kp([],d,h,null);else{if(!("filter"in a))return de();a.filter;var E=a.filter;E.targetId,l=E.count||0,h=new EZ(l),d=E.targetId,c=new fF(d,h)}return c}(this.R,n),i=function(s){if(!("targetChange"in s))return Ue.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?Ue.min():a.readTime?tn(a.readTime):Ue.min()}(n);return this.listener._r(r,i)},e.prototype.mr=function(n){var r={};r.database=Kf(this.R),r.addTarget=function(s,a){var c,l=a.target;return(c=gv(l)?{documents:yF(s,l)}:{query:_F(s,l)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?c.resumeToken=dF(s,a.resumeToken):a.snapshotVersion.compareTo(Ue.min())>0&&(c.readTime=qf(s,a.snapshotVersion.toTimestamp())),c}(this.R,n);var i=function(s,a){var c=function(l,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return de()}}(0,a.purpose);return c==null?null:{"goog-listen-tags":c}}(this.R,n);i&&(r.labels=i),this.cr(r)},e.prototype.yr=function(n){var r={};r.database=Kf(this.R),r.removeTarget=n,this.cr(r)},e}(qF),N2=function(t){function e(n,r,i,s,a){var c=this;return(c=t.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,a)||this).R=s,c.gr=!1,c}return re(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(n){return this.Hi.Oi("Write",n)},e.prototype.onMessage=function(n){if(Te(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(s,a){return s&&s.length>0?(Te(a!==void 0),s.map(function(c){return function(l,h){var d=l.updateTime?tn(l.updateTime):tn(h);return d.isEqual(Ue.min())&&(d=tn(h)),new _Z(d,l.transformResults||[])}(c,a)})):[]}(n.writeResults,n.commitTime),i=tn(n.commitTime);return this.listener.Tr(i,r)}return Te(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var n={};n.database=Kf(this.R),this.cr(n)},e.prototype.Er=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(s){return _v(r.R,s)})};this.cr(i)},e}(qF),k2=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).credentials=n,s.Hi=r,s.R=i,s.Rr=!1,s}return re(e,t),e.prototype.br=function(){if(this.Rr)throw new K(L.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(n,r,i){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.Ni(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===L.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new K(L.UNKNOWN,a.toString())})},e.prototype.$i=function(n,r,i){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.$i(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===L.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new K(L.UNKNOWN,a.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),R2=function(){function t(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var e=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(e){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},t.prototype.set=function(e){this.kr(),this.vr=0,e==="Online"&&(this.Vr=!1),this.Dr(e)},t.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},t.prototype.Cr=function(e){var n="Could not reach Cloud Firestore backend. "+e+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Ut(n),this.Vr=!1):J("OnlineStateTracker",n)},t.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},t}(),O2=function(t,e,n,r,i){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(a){n.enqueueAndForget(function(){return N(s,void 0,void 0,function(){return C(this,function(c){switch(c.label){case 0:return ws(this)?(J("RemoteStore","Restarting streams for network reachability change."),[4,function(l){return N(this,void 0,void 0,function(){var h;return C(this,function(d){switch(d.label){case 0:return(h=ne(l)).Or.add(4),[4,Yc(h)];case 1:return d.sent(),h.Br.set("Unknown"),h.Or.delete(4),[4,Ph(h)];case 2:return d.sent(),[2]}})})}(this)]):[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})})}),this.Br=new R2(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(t){return N(this,void 0,void 0,function(){var e,n;return C(this,function(r){switch(r.label){case 0:if(!ws(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Yc(t){return N(this,void 0,void 0,function(){var e,n;return C(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function qg(t,e){var n=ne(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),VT(n)?UT(n):Xc(n).er()&&FT(n,e))}function Wf(t,e){var n=ne(t),r=Xc(n);n.$r.delete(e),r.er()&&HF(n,e),n.$r.size===0&&(r.er()?r.ir():ws(n)&&n.Br.set("Unknown"))}function FT(t,e){t.qr.U(e.targetId),Xc(t).mr(e)}function HF(t,e){t.qr.U(e),Xc(t).yr(e)}function UT(t){t.qr=new NZ({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),Xc(t).start(),t.Br.Sr()}function VT(t){return ws(t)&&!Xc(t).tr()&&t.$r.size>0}function ws(t){return ne(t).Or.size===0}function KF(t){t.qr=void 0}function D2(t){return N(this,void 0,void 0,function(){return C(this,function(e){return t.$r.forEach(function(n,r){FT(t,n)}),[2]})})}function P2(t,e){return N(this,void 0,void 0,function(){return C(this,function(n){return KF(t),VT(t)?(t.Br.Nr(e),UT(t)):t.Br.set("Unknown"),[2]})})}function x2(t,e,n){return N(this,void 0,void 0,function(){var r,i,s;return C(this,function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof hF&&e.state===2&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(c,l){return N(this,void 0,void 0,function(){var h,d,v,g;return C(this,function(y){switch(y.label){case 0:h=l.cause,d=0,v=l.targetIds,y.label=1;case 1:return d<v.length?(g=v[d],c.$r.has(g)?[4,c.remoteSyncer.rejectListen(g,h)]:[3,3]):[3,5];case 2:y.sent(),c.$r.delete(g),c.qr.removeTarget(g),y.label=3;case 3:y.label=4;case 4:return d++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),J("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Tv(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof kp?t.qr.X(e):e instanceof fF?t.qr.rt(e):t.qr.et(e),n.isEqual(Ue.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,FF(t.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(c,l){var h=c.qr.ut(l);return h.targetChanges.forEach(function(d,v){if(d.resumeToken.approximateByteSize()>0){var g=c.$r.get(v);g&&c.$r.set(v,g.withResumeToken(d.resumeToken,l))}}),h.targetMismatches.forEach(function(d){var v=c.$r.get(d);if(v){c.$r.set(d,v.withResumeToken(Wn.EMPTY_BYTE_STRING,v.snapshotVersion)),HF(c,d);var g=new $g(v.target,d,1,v.sequenceNumber);FT(c,g)}}),c.remoteSyncer.applyRemoteEvent(h)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return J("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,Tv(t,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function Tv(t,e,n){return N(this,void 0,void 0,function(){var r=this;return C(this,function(i){switch(i.label){case 0:if(!Ha(e))throw e;return t.Or.add(1),[4,Yc(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return FF(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return N(r,void 0,void 0,function(){return C(this,function(s){switch(s.label){case 0:return J("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),t.Or.delete(1),[4,Ph(t)];case 2:return s.sent(),[2]}})})}),[2]}})})}function WF(t,e){return e().catch(function(n){return Tv(t,n,e)})}function Qc(t){return N(this,void 0,void 0,function(){var e,n,r,i,s;return C(this,function(a){switch(a.label){case 0:e=ne(t),n=hs(e),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(c){return ws(c)&&c.Fr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,l2(e.localStore,r)];case 3:return(i=a.sent())===null?(e.Fr.length===0&&n.ir(),[3,7]):(r=i.batchId,function(c,l){c.Fr.push(l);var h=hs(c);h.er()&&h.pr&&h.Er(l.mutations)}(e,i),[3,6]);case 4:return s=a.sent(),[4,Tv(e,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return GF(e)&&zF(e),[2]}})})}function GF(t){return ws(t)&&!hs(t).tr()&&t.Fr.length>0}function zF(t){hs(t).start()}function L2(t){return N(this,void 0,void 0,function(){return C(this,function(e){return hs(t).Ar(),[2]})})}function M2(t){return N(this,void 0,void 0,function(){var e,n,r,i;return C(this,function(s){for(e=hs(t),n=0,r=t.Fr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]})})}function F2(t,e,n){return N(this,void 0,void 0,function(){var r,i;return C(this,function(s){switch(s.label){case 0:return r=t.Fr.shift(),i=KZ.from(r,e,n),[4,WF(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,Qc(t)];case 2:return s.sent(),[2]}})})}function U2(t,e){return N(this,void 0,void 0,function(){return C(this,function(n){switch(n.label){case 0:return e&&hs(t).pr?[4,function(r,i){return N(this,void 0,void 0,function(){var s,a;return C(this,function(c){switch(c.label){case 0:return uF(a=i.code)&&a!==L.ABORTED?(s=r.Fr.shift(),hs(r).sr(),[4,WF(r,function(){return r.remoteSyncer.rejectFailedWrite(s.batchId,i)})]):[3,3];case 1:return c.sent(),[4,Qc(r)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return GF(t)&&zF(t),[2]}})})}function u0(t,e){return N(this,void 0,void 0,function(){var n;return C(this,function(r){switch(r.label){case 0:return n=ne(t),e?(n.Or.delete(2),[4,Ph(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,Yc(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Xc(t){var e=this;return t.Ur||(t.Ur=function(n,r,i){var s=ne(n);return s.br(),new C2(r,s.Hi,s.credentials,s.R,i)}(t.datastore,t.asyncQueue,{Ii:D2.bind(null,t),Ri:P2.bind(null,t),_r:x2.bind(null,t)}),t.Mr.push(function(n){return N(e,void 0,void 0,function(){return C(this,function(r){switch(r.label){case 0:return n?(t.Ur.sr(),VT(t)?UT(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:r.sent(),KF(t),r.label=3;case 3:return[2]}})})})),t.Ur}function hs(t){var e=this;return t.Kr||(t.Kr=function(n,r,i){var s=ne(n);return s.br(),new N2(r,s.Hi,s.credentials,s.R,i)}(t.datastore,t.asyncQueue,{Ii:L2.bind(null,t),Ri:U2.bind(null,t),Ir:M2.bind(null,t),Tr:F2.bind(null,t)}),t.Mr.push(function(n){return N(e,void 0,void 0,function(){return C(this,function(r){switch(r.label){case 0:return n?(t.Kr.sr(),[4,Qc(t)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:r.sent(),t.Fr.length>0&&(J("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),r.label=4;case 4:return[2]}})})})),t.Kr}var V2=function(){function t(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Rn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return t.createAndSchedule=function(e,n,r,i,s){var a=new t(e,n,Date.now()+r,i,s);return a.start(r),a},t.prototype.start=function(e){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},e)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},t.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return e.timerHandle!==null?(e.clearTimeout(),e.op().then(function(n){return e.deferred.resolve(n)})):Promise.resolve()})},t.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Jc(t,e){if(Ut("AsyncQueue",e+": "+t),Ha(t))return new K(L.UNAVAILABLE,e+": "+t);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YF=function(){function t(e){this.comparator=e?function(n,r){return e(n,r)||ve.comparator(n.key,r.key)}:function(n,r){return ve.comparator(n.key,r.key)},this.keyedMap=i0(),this.sortedSet=new On(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(e){return this.keyedMap.get(e)!=null},t.prototype.get=function(e){return this.keyedMap.get(e)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(e){var n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(n,r){return e(n),!1})},t.prototype.add=function(e){var n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))},t.prototype.delete=function(e){var n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var e=[];return this.forEach(function(n){e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),M1=function(){function t(){this.Qr=new On(ve.comparator)}return t.prototype.track=function(e){var n=e.doc.key,r=this.Qr.get(n);r?e.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,e):e.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Qr=this.Qr.remove(n):e.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):de():this.Qr=this.Qr.insert(n,e)},t.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(n,r){e.push(r)}),e},t}(),Iv=function(){function t(e,n,r,i,s,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=l}return t.fromInitialDocuments=function(e,n,r,i){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new t(e,n,YF.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},t}(),j2=function(){this.Wr=void 0,this.listeners=[]},B2=function(){this.queries=new zc(function(t){return JM(t)},Ch),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(t,e){return N(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return C(this,function(h){switch(h.label){case 0:if(n=ne(t),r=e.query,i=!1,(s=n.queries.get(r))||(i=!0,s=new j2),!i)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),a=s,[4,n.onListen(r)];case 2:return a.Wr=h.sent(),[3,4];case 3:return c=h.sent(),l=Jc(c,"Initialization of query '"+n0(e.query)+"' failed"),[2,void e.onError(l)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zr(n.onlineState),s.Wr&&e.Hr(s.Wr)&&$T(n),[2]}})})}function BT(t,e){return N(this,void 0,void 0,function(){var n,r,i,s,a;return C(this,function(c){return n=ne(t),r=e.query,i=!1,(s=n.queries.get(r))&&(a=s.listeners.indexOf(e))>=0&&(s.listeners.splice(a,1),i=s.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function $2(t,e){for(var n=ne(t),r=!1,i=0,s=e;i<s.length;i++){var a=s[i],c=a.query,l=n.queries.get(c);if(l){for(var h=0,d=l.listeners;h<d.length;h++)d[h].Hr(a)&&(r=!0);l.Wr=a}}r&&$T(n)}function q2(t,e,n){var r=ne(t),i=r.queries.get(e);if(i)for(var s=0,a=i.listeners;s<a.length;s++)a[s].onError(n);r.queries.delete(e)}function $T(t){t.Gr.forEach(function(e){e.next()})}var qT=function(){function t(e,n,r){this.query=e,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return t.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=e.docChanges;r<i.length;r++){var s=i[r];s.type!==3&&n.push(s)}e=new Iv(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),a=!0):this.eo(e,this.onlineState)&&(this.no(e),a=!0),this.Xr=e,a},t.prototype.onError=function(e){this.Jr.error(e)},t.prototype.zr=function(e){this.onlineState=e;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),n=!0),n},t.prototype.eo=function(e,n){if(!e.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||e.docs.isEmpty()&&n!=="Offline")},t.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},t.prototype.no=function(e){e=Iv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},t}(),H2=function(){function t(e,n){this.payload=e,this.byteLength=n}return t.prototype.io=function(){return"metadata"in this.payload},t}(),F1=function(){function t(e){this.R=e}return t.prototype.qn=function(e){return Li(this.R,e)},t.prototype.Un=function(e){return e.metadata.exists?mF(this.R,e.document,!1):yn.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},t.prototype.Kn=function(e){return tn(e)},t}(),K2=function(){function t(e,n,r){this.ro=e,this.localStore=n,this.R=r,this.queries=[],this.documents=[],this.progress=QF(e)}return t.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var n=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},t.prototype.co=function(e){for(var n=new Map,r=new F1(this.R),i=0,s=e;i<s.length;i++){var a=s[i];if(a.metadata.queries)for(var c=r.qn(a.metadata.name),l=0,h=a.metadata.queries;l<h.length;l++){var d=h[l],v=(n.get(d)||it()).add(c);n.set(d,v)}}return n},t.prototype.complete=function(){return N(this,void 0,void 0,function(){var e,n,r,i,s;return C(this,function(a){switch(a.label){case 0:return[4,h2(this.localStore,new F1(this.R),this.documents,this.ro.id)];case 1:e=a.sent(),n=this.co(this.documents),r=0,i=this.queries,a.label=2;case 2:return r<i.length?(s=i[r],[4,d2(this.localStore,s,n.get(s.name))]):[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new o2(Object.assign({},this.progress),e))]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QF(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XF=function(t){this.key=t},JF=function(t){this.key=t},ZF=function(){function t(e,n){this.query=e,this.uo=n,this.ao=null,this.current=!1,this.ho=it(),this.mutatedKeys=it(),this.lo=ZM(e),this.fo=new YF(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(e,n){var r=this,i=n?n.mo:new M1,s=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,c=s,l=!1,h=Cp(this.query)&&s.size===this.query.limit?s.last():null,d=yv(this.query)&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(function(g,y){var w=s.get(g),E=Nh(r.query,y)?y:null,T=!!w&&r.mutatedKeys.has(w.key),A=!!E&&(E.hasLocalMutations||r.mutatedKeys.has(E.key)&&E.hasCommittedMutations),O=!1;w&&E?w.data.isEqual(E.data)?T!==A&&(i.track({type:3,doc:E}),O=!0):r.yo(w,E)||(i.track({type:2,doc:E}),O=!0,(h&&r.lo(E,h)>0||d&&r.lo(E,d)<0)&&(l=!0)):!w&&E?(i.track({type:0,doc:E}),O=!0):w&&!E&&(i.track({type:1,doc:w}),O=!0,(h||d)&&(l=!0)),O&&(E?(c=c.add(E),a=A?a.add(g):a.delete(g)):(c=c.delete(g),a=a.delete(g)))}),Cp(this.query)||yv(this.query))for(;c.size>this.query.limit;){var v=Cp(this.query)?c.last():c.first();c=c.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{fo:c,mo:i,Nn:l,mutatedKeys:a}},t.prototype.yo=function(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},t.prototype.applyChanges=function(e,n,r){var i=this,s=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var a=e.mo.jr();a.sort(function(d,v){return function(g,y){var w=function(E){switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de()}};return w(g)-w(y)}(d.type,v.type)||i.lo(d.doc,v.doc)}),this.po(r);var c=n?this.Eo():[],l=this.ho.size===0&&this.current?1:0,h=l!==this.ao;return this.ao=l,a.length!==0||h?{snapshot:new Iv(this.query,e.fo,s,a,e.mutatedKeys,l===0,h,!1),To:c}:{To:c}},t.prototype.zr=function(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new M1,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},t.prototype.po=function(e){var n=this;e&&(e.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),e.modifiedDocuments.forEach(function(r){}),e.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=e.current)},t.prototype.Eo=function(){var e=this;if(!this.current)return[];var n=this.ho;this.ho=it(),this.fo.forEach(function(i){e.Io(i.key)&&(e.ho=e.ho.add(i.key))});var r=[];return n.forEach(function(i){e.ho.has(i)||r.push(new JF(i))}),this.ho.forEach(function(i){n.has(i)||r.push(new XF(i))}),r},t.prototype.Ao=function(e){this.uo=e.Bn,this.ho=it();var n=this._o(e.documents);return this.applyChanges(n,!0)},t.prototype.Ro=function(){return Iv.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},t}(),W2=function(t,e,n){this.query=t,this.targetId=e,this.view=n},G2=function(t){this.key=t,this.bo=!1},z2=function(){function t(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new zc(function(c){return JM(c)},Ch),this.Vo=new Map,this.So=new Set,this.Do=new On(ve.comparator),this.Co=new Map,this.No=new LT,this.xo={},this.ko=new Map,this.Fo=bv.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),t}();function Y2(t,e){return N(this,void 0,void 0,function(){var n,r,i,s,a,c;return C(this,function(l){switch(l.label){case 0:return n=zT(t),(s=n.Po.get(e))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Ro(),[3,4]):[3,1];case 1:return[4,Tc(n.localStore,qr(e))];case 2:return a=l.sent(),c=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,HT(n,e,r,c==="current")];case 3:i=l.sent(),n.isPrimaryClient&&qg(n.remoteStore,a),l.label=4;case 4:return[2,i]}})})}function HT(t,e,n,r){return N(this,void 0,void 0,function(){var i,s,a,c,l,h;return C(this,function(d){switch(d.label){case 0:return t.Oo=function(v,g,y){return function(w,E,T,A){return N(this,void 0,void 0,function(){var O,P,x;return C(this,function(B){switch(B.label){case 0:return O=E.view._o(T),O.Nn?[4,Ev(w.localStore,E.query,!1).then(function(M){var ie=M.documents;return E.view._o(ie,O)})]:[3,2];case 1:O=B.sent(),B.label=2;case 2:return P=A&&A.targetChanges.get(E.targetId),x=E.view.applyChanges(O,w.isPrimaryClient,P),[2,(c0(w,E.targetId,x.To),x.snapshot)]}})})}(t,v,g,y)},[4,Ev(t.localStore,e,!0)];case 1:return i=d.sent(),s=new ZF(e,i.Bn),a=s._o(i.documents),c=CT.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),l=s.applyChanges(a,t.isPrimaryClient,c),c0(t,n,l.To),h=new W2(e,n,s),[2,(t.Po.set(e,h),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),l.snapshot)]}})})}function Q2(t,e){return N(this,void 0,void 0,function(){var n,r,i;return C(this,function(s){switch(s.label){case 0:return n=ne(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(a){return!Ch(a,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Ic(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Wf(n.remoteStore,r.targetId),Sc(n,r.targetId)}).catch(Ka)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Sc(n,r.targetId),[4,Ic(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function X2(t,e,n){return N(this,void 0,void 0,function(){var r,i,s,a;return C(this,function(c){switch(c.label){case 0:r=YT(t),c.label=1;case 1:return c.trys.push([1,5,,6]),[4,function(l,h){var d,v=ne(l),g=ir.now(),y=h.reduce(function(w,E){return w.add(E.key)},it());return v.persistence.runTransaction("Locally write mutations","readwrite",function(w){return v.Mn.pn(w,y).next(function(E){d=E;for(var T=[],A=0,O=h;A<O.length;A++){var P=O[A],x=bZ(P,d.get(P.key));x!=null&&T.push(new _s(P.key,x,zM(x.value.mapValue),Sn.exists(!0)))}return v._n.addMutationBatch(w,g,T,h)})}).then(function(w){return w.applyToLocalDocumentSet(d),{batchId:w.batchId,changes:d}})}(r.localStore,e)];case 2:return i=c.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(l,h,d){var v=l.xo[l.currentUser.toKey()];v||(v=new On(qe)),v=v.insert(h,d),l.xo[l.currentUser.toKey()]=v}(r,i.batchId,n),[4,Io(r,i.changes)];case 3:return c.sent(),[4,Qc(r.remoteStore)];case 4:return c.sent(),[3,6];case 5:return s=c.sent(),a=Jc(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function eU(t,e){return N(this,void 0,void 0,function(){var n,r;return C(this,function(i){switch(i.label){case 0:n=ne(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,c2(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(s,a){var c=n.Co.get(a);c&&(Te(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.bo=!0:s.modifiedDocuments.size>0?Te(c.bo):s.removedDocuments.size>0&&(Te(c.bo),c.bo=!1))}),[4,Io(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Ka(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function U1(t,e,n){var r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.Po.forEach(function(s,a){var c=a.view.zr(e);c.snapshot&&i.push(c.snapshot)}),function(s,a){var c=ne(s);c.onlineState=a;var l=!1;c.queries.forEach(function(h,d){for(var v=0,g=d.listeners;v<g.length;v++)g[v].zr(a)&&(l=!0)}),l&&$T(c)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function J2(t,e,n){return N(this,void 0,void 0,function(){var r,i,s,a,c,l;return C(this,function(h){switch(h.label){case 0:return(r=ne(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(s=i&&i.key)?(a=(a=new On(ve.comparator)).insert(s,yn.newNoDocument(s,Ue.min())),c=it().add(s),l=new AT(Ue.min(),new Map,new Kt(qe),a,c),[4,eU(r,l)]):[3,2];case 1:return h.sent(),r.Do=r.Do.remove(s),r.Co.delete(e),GT(r),[3,4];case 2:return[4,Ic(r.localStore,e,!1).then(function(){return Sc(r,e,n)}).catch(Ka)];case 3:h.sent(),h.label=4;case 4:return[2]}})})}function Z2(t,e){return N(this,void 0,void 0,function(){var n,r,i;return C(this,function(s){switch(s.label){case 0:n=ne(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,u2(n.localStore,e)];case 2:return i=s.sent(),WT(n,r,null),KT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Io(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Ka(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function eee(t,e,n){return N(this,void 0,void 0,function(){var r,i;return C(this,function(s){switch(s.label){case 0:r=ne(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,c){var l=ne(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",function(h){var d;return l._n.lookupMutationBatch(h,c).next(function(v){return Te(v!==null),d=v.keys(),l._n.removeMutationBatch(h,v)}).next(function(){return l._n.performConsistencyCheck(h)}).next(function(){return l.Mn.pn(h,d)})})}(r.localStore,e)];case 2:return i=s.sent(),WT(r,e,n),KT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Io(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Ka(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function tee(t,e){return N(this,void 0,void 0,function(){var n,r,i,s,a;return C(this,function(c){switch(c.label){case 0:ws((n=ne(t)).remoteStore)||J("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,function(l){var h=ne(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(d){return h._n.getHighestUnacknowledgedBatchId(d)})}(n.localStore)];case 2:return(r=c.sent())===-1?[2,void e.resolve()]:((i=n.ko.get(r)||[]).push(e),n.ko.set(r,i),[3,4]);case 3:return s=c.sent(),a=Jc(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function KT(t,e){(t.ko.get(e)||[]).forEach(function(n){n.resolve()}),t.ko.delete(e)}function WT(t,e,n){var r=ne(t),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Sc(t,e,n){n===void 0&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var s=i[r];t.Po.delete(s),n&&t.vo.Mo(s,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(a){t.No.containsKey(a)||tU(t,a)})}function tU(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);n!==null&&(Wf(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),GT(t))}function c0(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof XF?(t.No.addReference(s.key,e),nee(t,s)):s instanceof JF?(J("SyncEngine","Document no longer in limbo: "+s.key),t.No.removeReference(s.key,e),t.No.containsKey(s.key)||tU(t,s.key)):de()}}function nee(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(J("SyncEngine","New document in limbo: "+n),t.So.add(r),GT(t))}function GT(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new ve(Xe.fromString(e)),r=t.Fo.next();t.Co.set(r,new G2(n)),t.Do=t.Do.insert(n,r),qg(t.remoteStore,new $g(qr(Gc(n.path)),r,2,gr.o))}}function Io(t,e,n){return N(this,void 0,void 0,function(){var r,i,s,a;return C(this,function(c){switch(c.label){case 0:return r=ne(t),i=[],s=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(l,h){a.push(r.Oo(h,e,n).then(function(d){if(d){r.isPrimaryClient&&r.sharedClientState.updateQueryState(h.targetId,d.fromCache?"not-current":"current"),i.push(d);var v=s2.Pn(h.targetId,d);s.push(v)}}))}),[4,Promise.all(a)]);case 1:return c.sent(),r.vo._r(i),[4,function(l,h){return N(this,void 0,void 0,function(){var d,v,g,y,w,E,T,A,O;return C(this,function(P){switch(P.label){case 0:d=ne(l),P.label=1;case 1:return P.trys.push([1,3,,4]),[4,d.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(x){return z.forEach(h,function(B){return z.forEach(B.bn,function(M){return d.persistence.referenceDelegate.addReference(x,B.targetId,M)}).next(function(){return z.forEach(B.vn,function(M){return d.persistence.referenceDelegate.removeReference(x,B.targetId,M)})})})})];case 2:return P.sent(),[3,4];case 3:if(!Ha(v=P.sent()))throw v;return J("LocalStore","Failed to update sequence numbers: "+v),[3,4];case 4:for(g=0,y=h;g<y.length;g++)w=y[g],E=w.targetId,w.fromCache||(T=d.kn.get(E),A=T.snapshotVersion,O=T.withLastLimboFreeSnapshotVersion(A),d.kn=d.kn.insert(E,O));return[2]}})})}(r.localStore,s)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function ree(t,e){return N(this,void 0,void 0,function(){var n,r;return C(this,function(i){switch(i.label){case 0:return(n=ne(t)).currentUser.isEqual(e)?[3,3]:(J("SyncEngine","User change. New user:",e.toKey()),[4,MF(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(s,a){s.ko.forEach(function(c){c.forEach(function(l){l.reject(new K(L.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ko.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Io(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function iee(t,e){var n=ne(t),r=n.Co.get(e);if(r&&r.bo)return it().add(r.key);var i=it(),s=n.Vo.get(e);if(!s)return i;for(var a=0,c=s;a<c.length;a++){var l=c[a],h=n.Po.get(l);i=i.unionWith(h.view.wo)}return i}function oee(t,e){return N(this,void 0,void 0,function(){var n,r,i;return C(this,function(s){switch(s.label){case 0:return[4,Ev((n=ne(t)).localStore,e.query,!0)];case 1:return r=s.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&c0(n,e.targetId,i.To),i)]}})})}function see(t){return N(this,void 0,void 0,function(){var e;return C(this,function(n){return[2,jF((e=ne(t)).localStore).then(function(r){return Io(e,r)})]})})}function aee(t,e,n,r){return N(this,void 0,void 0,function(){var i,s;return C(this,function(a){switch(a.label){case 0:return[4,function(c,l){var h=ne(c),d=ne(h._n);return h.persistence.runTransaction("Lookup mutation documents","readonly",function(v){return d.jt(v,l).next(function(g){return g?h.Mn.pn(v,g):z.resolve(null)})})}((i=ne(t)).localStore,e)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Qc(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(WT(i,e,r||null),KT(i,e),function(c,l){ne(ne(c)._n).Gt(l)}(i.localStore,e)):de(),a.label=4;case 4:return[4,Io(i,s)];case 5:return a.sent(),[3,7];case 6:J("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}})})}function uee(t,e){return N(this,void 0,void 0,function(){var n,r,i,s,a,c,l,h;return C(this,function(d){switch(d.label){case 0:return zT(n=ne(t)),YT(n),e!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,V1(n,r.toArray())]);case 1:return i=d.sent(),n.$o=!0,[4,u0(n.remoteStore,!0)];case 2:for(d.sent(),s=0,a=i;s<a.length;s++)c=a[s],qg(n.remoteStore,c);return[3,7];case 3:return e!==!1||n.$o===!1?[3,7]:(l=[],h=Promise.resolve(),n.Vo.forEach(function(v,g){n.sharedClientState.isLocalQueryTarget(g)?l.push(g):h=h.then(function(){return Sc(n,g),Ic(n.localStore,g,!0)}),Wf(n.remoteStore,g)}),[4,h]);case 4:return d.sent(),[4,V1(n,l)];case 5:return d.sent(),function(v){var g=ne(v);g.Co.forEach(function(y,w){Wf(g.remoteStore,w)}),g.No.ts(),g.Co=new Map,g.Do=new On(ve.comparator)}(n),n.$o=!1,[4,u0(n.remoteStore,!1)];case 6:d.sent(),d.label=7;case 7:return[2]}})})}function V1(t,e,n){return N(this,void 0,void 0,function(){var r,i,s,a,c,l,h,d,v,g,y,w,E,T;return C(this,function(A){switch(A.label){case 0:r=ne(t),i=[],s=[],a=0,c=e,A.label=1;case 1:return a<c.length?(l=c[a],h=void 0,(d=r.Vo.get(l))&&d.length!==0?[4,Tc(r.localStore,qr(d[0]))]:[3,7]):[3,13];case 2:h=A.sent(),v=0,g=d,A.label=3;case 3:return v<g.length?(y=g[v],w=r.Po.get(y),[4,oee(r,w)]):[3,6];case 4:(E=A.sent()).snapshot&&s.push(E.snapshot),A.label=5;case 5:return v++,[3,3];case 6:return[3,11];case 7:return[4,VF(r.localStore,l)];case 8:return T=A.sent(),[4,Tc(r.localStore,T)];case 9:return h=A.sent(),[4,HT(r,nU(T),l,!1)];case 10:A.sent(),A.label=11;case 11:i.push(h),A.label=12;case 12:return a++,[3,1];case 13:return[2,(r.vo._r(s),i)]}})})}function nU(t){return QM(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function cee(t){var e=ne(t);return ne(ne(e.localStore).persistence).fn()}function lee(t,e,n,r){return N(this,void 0,void 0,function(){var i,s,a;return C(this,function(c){switch(c.label){case 0:return(i=ne(t)).$o?(J("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,jF(i.localStore)];case 3:return s=c.sent(),a=AT.createSynthesizedRemoteEventForCurrentChange(e,n==="current"),[4,Io(i,s,a)];case 4:return c.sent(),[3,8];case 5:return[4,Ic(i.localStore,e,!0)];case 6:return c.sent(),Sc(i,e,r),[3,8];case 7:de(),c.label=8;case 8:return[2]}})})}function fee(t,e,n){return N(this,void 0,void 0,function(){var r,i,s,a,c,l,h,d,v,g;return C(this,function(y){switch(y.label){case 0:if(!(r=zT(t)).$o)return[3,10];i=0,s=e,y.label=1;case 1:return i<s.length?(a=s[i],r.Vo.has(a)?(J("SyncEngine","Adding an already active target "+a),[3,5]):[4,VF(r.localStore,a)]):[3,6];case 2:return c=y.sent(),[4,Tc(r.localStore,c)];case 3:return l=y.sent(),[4,HT(r,nU(c),l.targetId,!1)];case 4:y.sent(),qg(r.remoteStore,l),y.label=5;case 5:return i++,[3,1];case 6:h=function(w){return C(this,function(E){switch(E.label){case 0:return r.Vo.has(w)?[4,Ic(r.localStore,w,!1).then(function(){Wf(r.remoteStore,w),Sc(r,w)}).catch(Ka)]:[3,2];case 1:E.sent(),E.label=2;case 2:return[2]}})},d=0,v=n,y.label=7;case 7:return d<v.length?(g=v[d],[5,h(g)]):[3,10];case 8:y.sent(),y.label=9;case 9:return d++,[3,7];case 10:return[2]}})})}function zT(t){var e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=eU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iee.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=J2.bind(null,e),e.vo._r=$2.bind(null,e.eventManager),e.vo.Mo=q2.bind(null,e.eventManager),e}function YT(t){var e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Z2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eee.bind(null,e),e}function hee(t,e,n){var r=ne(t);(function(i,s,a){return N(this,void 0,void 0,function(){var c,l,h,d,v,g;return C(this,function(y){switch(y.label){case 0:return y.trys.push([0,14,,15]),[4,s.getMetadata()];case 1:return c=y.sent(),[4,function(w,E){var T=ne(w),A=tn(E.createTime);return T.persistence.runTransaction("hasNewerBundle","readonly",function(O){return T.Ke.getBundleMetadata(O,E.id)}).then(function(O){return!!O&&O.createTime.compareTo(A)>=0})}(i.localStore,c)];case 2:return y.sent()?[4,s.close()]:[3,4];case 3:return[2,(y.sent(),void a._completeWith(function(w){return{taskState:"Success",documentsLoaded:w.totalDocuments,bytesLoaded:w.totalBytes,totalDocuments:w.totalDocuments,totalBytes:w.totalBytes}}(c)))];case 4:return a._updateProgress(QF(c)),l=new K2(c,i.localStore,s.R),[4,s.Lo()];case 5:h=y.sent(),y.label=6;case 6:return h?[4,l.oo(h)]:[3,10];case 7:return(d=y.sent())&&a._updateProgress(d),[4,s.Lo()];case 8:h=y.sent(),y.label=9;case 9:return[3,6];case 10:return[4,l.complete()];case 11:return v=y.sent(),[4,Io(i,v.wn,void 0)];case 12:return y.sent(),[4,function(w,E){var T=ne(w);return T.persistence.runTransaction("Save bundle","readwrite",function(A){return T.Ke.saveBundleMetadata(A,E)})}(i.localStore,c)];case 13:return y.sent(),a._completeWith(v.progress),[3,15];case 14:return Vf("SyncEngine","Loading bundle failed with "+(g=y.sent())),a._failWith(g),[3,15];case 15:return[2]}})})})(r,e,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var rU=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(e){return N(this,void 0,void 0,function(){return C(this,function(n){switch(n.label){case 0:return this.R=Dh(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},t.prototype.Uo=function(e){return null},t.prototype.Ko=function(e){return LF(this.persistence,new xF,e.initialUser,this.R)},t.prototype.qo=function(e){return new _2(b2.bs,this.R)},t.prototype.Bo=function(e){return new BF},t.prototype.terminate=function(){return N(this,void 0,void 0,function(){return C(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},t}(),iU=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).Qo=n,s.cacheSizeBytes=r,s.forceOwnership=i,s.synchronizeTabs=!1,s}return re(e,t),e.prototype.initialize=function(n){return N(this,void 0,void 0,function(){var r=this;return C(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return i.sent(),[4,f2(this.localStore)];case 2:return i.sent(),[4,this.Qo.initialize(this,n)];case 3:return i.sent(),[4,YT(this.Qo.syncEngine)];case 4:return i.sent(),[4,Qc(this.Qo.remoteStore)];case 5:return i.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return i.sent(),[2]}})})},e.prototype.Ko=function(n){return LF(this.persistence,new xF,n.initialUser,this.R)},e.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new JZ(r,n.asyncQueue)},e.prototype.qo=function(n){var r=xT(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?Si.withCacheSize(this.cacheSizeBytes):Si.DEFAULT;return new i2(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,$F(),Rp(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(n){return new BF},e}(rU),dee=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r,!1)||this).Qo=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return re(e,t),e.prototype.initialize=function(n){return N(this,void 0,void 0,function(){var r,i=this;return C(this,function(s){switch(s.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof kw?(this.sharedClientState.syncEngine={ui:aee.bind(null,r),ai:lee.bind(null,r),hi:fee.bind(null,r),fn:cee.bind(null,r),ci:see.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(a){return N(i,void 0,void 0,function(){return C(this,function(c){switch(c.label){case 0:return[4,uee(this.Qo.syncEngine,a)];case 1:return c.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},e.prototype.Bo=function(n){var r=$F();if(!kw.yt(r))throw new K(L.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=xT(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new kw(r,n.asyncQueue,i,n.clientId,n.initialUser)},e}(iU),l0=function(){function t(){}return t.prototype.initialize=function(e,n){return N(this,void 0,void 0,function(){var r=this;return C(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return U1(r.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=ree.bind(null,this.syncEngine),[4,u0(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(e){return new B2},t.prototype.createDatastore=function(e){var n,r=Dh(e.databaseInfo.databaseId),i=(n=e.databaseInfo,new A2(n));return function(s,a,c){return new k2(s,a,c)}(e.credentials,i,r)},t.prototype.createRemoteStore=function(e){var n,r,i,s,a,c=this;return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=function(l){return U1(c.syncEngine,l,0)},a=L1.yt()?new L1:new T2,new O2(n,r,i,s,a)},t.prototype.createSyncEngine=function(e,n){return function(r,i,s,a,c,l,h){var d=new z2(r,i,s,a,c,l);return h&&(d.$o=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)},t.prototype.terminate=function(){return function(e){return N(this,void 0,void 0,function(){var n;return C(this,function(r){switch(r.label){case 0:return n=ne(e),J("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Yc(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(t,e){e===void 0&&(e=10240);var n=0;return{read:function(){return N(this,void 0,void 0,function(){var r;return C(this,function(i){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]})})},cancel:function(){return N(this,void 0,void 0,function(){return C(this,function(r){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hg=function(){function t(e){this.observer=e,this.muted=!1}return t.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},t.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(e,n){var r=this;this.muted||setTimeout(function(){r.muted||e(n)},0)},t}(),pee=function(){function t(e,n){var r=this;this.Go=e,this.R=n,this.metadata=new Rn,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(i){i&&i.io()?r.metadata.resolve(i.payload.metadata):r.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(i==null?void 0:i.payload)))},function(i){return r.metadata.reject(i)})}return t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return N(this,void 0,void 0,function(){return C(this,function(e){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return N(this,void 0,void 0,function(){return C(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return N(this,void 0,void 0,function(){var e,n,r,i;return C(this,function(s){switch(s.label){case 0:return[4,this.Jo()];case 1:return(e=s.sent())===null?[2,null]:(n=this.zo.decode(e),r=Number(n),isNaN(r)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(r)]);case 2:return i=s.sent(),[2,new H2(JSON.parse(i),e.length+r)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(e){return e===123})},t.prototype.Jo=function(){return N(this,void 0,void 0,function(){var e,n;return C(this,function(r){switch(r.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),n)])}})})},t.prototype.Xo=function(e){return N(this,void 0,void 0,function(){var n;return C(this,function(r){switch(r.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:r.sent()&&this.Yo("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),n)]}})})},t.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},t.prototype.tc=function(){return N(this,void 0,void 0,function(){var e,n;return C(this,function(r){switch(r.label){case 0:return[4,this.Go.read()];case 1:return(e=r.sent()).done||((n=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n),[2,e.done]}})})},t}(),vee=function(){function t(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(e){return N(this,void 0,void 0,function(){var n,r=this;return C(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new K(L.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return N(this,void 0,void 0,function(){var c,l,h,d,v,g;return C(this,function(y){switch(y.label){case 0:return c=ne(s),l=Kf(c.R)+"/documents",h={documents:a.map(function(w){return Hf(c.R,w)})},[4,c.$i("BatchGetDocuments",l,h)];case 1:return d=y.sent(),v=new Map,d.forEach(function(w){var E=function(T,A){return"found"in A?function(O,P){Te(!!P.found),P.found.name,P.found.updateTime;var x=Li(O,P.found.name),B=tn(P.found.updateTime),M=new vr({mapValue:{fields:P.found.fields}});return yn.newFoundDocument(x,B,M)}(T,A):"missing"in A?function(O,P){Te(!!P.missing),Te(!!P.readTime);var x=Li(O,P.missing),B=tn(P.readTime);return yn.newNoDocument(x,B)}(T,A):de()}(c.R,w);v.set(E.key.toString(),E)}),g=[],[2,(a.forEach(function(w){var E=v.get(w.toString());Te(!!E),g.push(E)}),g)]}})})}(this.datastore,e)];case 1:return[2,((n=i.sent()).forEach(function(s){return r.recordVersion(s)}),n)]}})})},t.prototype.set=function(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.update=function(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())},t.prototype.delete=function(e){this.write(new Oh(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.commit=function(){return N(this,void 0,void 0,function(){var e,n=this;return C(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(i){e.delete(i.key.toString())}),e.forEach(function(i,s){var a=ve.fromPath(s);n.mutations.push(new ST(a,n.precondition(a)))}),[4,function(i,s){return N(this,void 0,void 0,function(){var a,c,l;return C(this,function(h){switch(h.label){case 0:return a=ne(i),c=Kf(a.R)+"/documents",l={writes:s.map(function(d){return _v(a.R,d)})},[4,a.Ni("Commit",c,l)];case 1:return h.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(e){var n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw de();n=Ue.min()}var r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new K(L.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)},t.prototype.precondition=function(e){var n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?Sn.updateTime(n):Sn.none()},t.prototype.preconditionForUpdate=function(e){var n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ue.min()))throw new K(L.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Sn.updateTime(n)}return Sn.exists(!0)},t.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},t.prototype.ensureCommitNotCalled=function(){},t}(),gee=function(){function t(e,n,r,i){this.asyncQueue=e,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new MT(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var e=this;this.Zi.ji(function(){return N(e,void 0,void 0,function(){var n,r,i=this;return C(this,function(s){return n=new vee(this.datastore),(r=this.sc(n))&&r.then(function(a){i.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){i.deferred.resolve(a)}).catch(function(c){i.ic(c)})})}).catch(function(a){i.ic(a)}),[2]})})})},t.prototype.sc=function(e){try{var n=this.updateFunction(e);return!qa(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},t.prototype.ic=function(e){var n=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(e)},t.prototype.rc=function(e){if(e.name==="FirebaseError"){var n=e.code;return n==="aborted"||n==="failed-precondition"||!uF(n)}return!1},t}(),mee=function(){function t(e,n,r){var i=this;this.credentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=cn.UNAUTHENTICATED,this.clientId=$M.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return N(i,void 0,void 0,function(){return C(this,function(a){switch(a.label){case 0:return J("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return a.sent(),this.user=s,[2]}})})})}return t.prototype.getConfiguration=function(){return N(this,void 0,void 0,function(){return C(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new K(L.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var n=new Rn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return N(e,void 0,void 0,function(){var r,i;return C(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=s.sent(),i=Jc(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(t,e){return N(this,void 0,void 0,function(){var n,r,i=this;return C(this,function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),J("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.initialUser,t.setCredentialChangeListener(function(a){return N(i,void 0,void 0,function(){return C(this,function(c){switch(c.label){case 0:return r.isEqual(a)?[3,2]:[4,MF(e.localStore,a)];case 1:c.sent(),r=a,c.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function sU(t,e){return N(this,void 0,void 0,function(){var n,r;return C(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,QT(t)];case 1:return n=i.sent(),J("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(s){return function(a,c){return N(this,void 0,void 0,function(){var l,h;return C(this,function(d){switch(d.label){case 0:return(l=ne(a)).asyncQueue.verifyOperationInProgress(),J("RemoteStore","RemoteStore received new credentials"),h=ws(l),l.Or.add(3),[4,Yc(l)];case 1:return d.sent(),h&&l.Br.set("Unknown"),[4,l.remoteSyncer.handleCredentialChange(c)];case 2:return d.sent(),l.Or.delete(3),[4,Ph(l)];case 3:return d.sent(),[2]}})})}(e.remoteStore,s)}),t.onlineComponents=e,[2]}})})}function QT(t){return N(this,void 0,void 0,function(){return C(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(J("FirestoreClient","Using default OfflineComponentProvider"),[4,oU(t,new rU)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Kg(t){return N(this,void 0,void 0,function(){return C(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(J("FirestoreClient","Using default OnlineComponentProvider"),[4,sU(t,new l0)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function B1(t){return QT(t).then(function(e){return e.persistence})}function XT(t){return QT(t).then(function(e){return e.localStore})}function $1(t){return Kg(t).then(function(e){return e.remoteStore})}function JT(t){return Kg(t).then(function(e){return e.syncEngine})}function Ac(t){return N(this,void 0,void 0,function(){var e,n;return C(this,function(r){switch(r.label){case 0:return[4,Kg(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Y2.bind(null,e.syncEngine),n.onUnlisten=Q2.bind(null,e.syncEngine),n)]}})})}function q1(t,e,n){var r=this;n===void 0&&(n={});var i=new Rn;return t.asyncQueue.enqueueAndForget(function(){return N(r,void 0,void 0,function(){var s;return C(this,function(a){switch(a.label){case 0:return s=function(c,l,h,d,v){var g=new Hg({next:function(w){l.enqueueAndForget(function(){return BT(c,y)});var E=w.docs.has(h);!E&&w.fromCache?v.reject(new K(L.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&w.fromCache&&d&&d.source==="server"?v.reject(new K(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(w)},error:function(w){return v.reject(w)}}),y=new qT(Gc(h.path),g,{includeMetadataChanges:!0,so:!0});return jT(c,y)},[4,Ac(t)];case 1:return[2,s.apply(void 0,[a.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function H1(t,e,n){var r=this;n===void 0&&(n={});var i=new Rn;return t.asyncQueue.enqueueAndForget(function(){return N(r,void 0,void 0,function(){var s;return C(this,function(a){switch(a.label){case 0:return s=function(c,l,h,d,v){var g=new Hg({next:function(w){l.enqueueAndForget(function(){return BT(c,y)}),w.fromCache&&d.source==="server"?v.reject(new K(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(w)},error:function(w){return v.reject(w)}}),y=new qT(h,g,{includeMetadataChanges:!0,so:!0});return jT(c,y)},[4,Ac(t)];case 1:return[2,s.apply(void 0,[a.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var yee=function(t,e,n,r,i,s,a,c){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=c},Sv=function(){function t(e,n){this.projectId=e,this.database=n||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),K1=new Map,aU=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},W1=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){this.changeListener=n,e.enqueueRetryable(function(){return n(cn.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),_ee=function(){function t(e){this.token=e,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){var r=this;this.changeListener=n,e.enqueueRetryable(function(){return n(r.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),wee=function(){function t(e){var n=this;this.currentUser=cn.UNAUTHENTICATED,this.oc=new Rn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(i){J("FirebaseCredentialsProvider","Auth detected"),n.auth=i,n.auth.addAuthTokenListener(n.uc)};e.onInit(function(i){return r(i)}),setTimeout(function(){if(!n.auth){var i=e.getImmediate({optional:!0});i?r(i):(J("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return t.prototype.getToken=function(){var e=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return e.cc!==n?(J("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):i?(Te(typeof i.accessToken=="string"),new aU(i.accessToken,e.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(e,n){var r=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return N(r,void 0,void 0,function(){return C(this,function(i){switch(i.label){case 0:return[4,this.oc.promise];case 1:return i.sent(),[4,n(this.currentUser)];case 2:return i.sent(),this.changeListener=n,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string"),new cn(e)},t}(),bee=function(){function t(e,n,r){this.hc=e,this.lc=n,this.fc=r,this.type="FirstParty",this.user=cn.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(e.Authorization=n),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),t}(),Eee=function(){function t(e,n,r){this.hc=e,this.lc=n,this.fc=r}return t.prototype.getToken=function(){return Promise.resolve(new bee(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(e,n){e.enqueueRetryable(function(){return n(cn.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(t,e,n){if(!n)throw new K(L.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function eI(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new K(L.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function uU(t,e,n,r){if(e===!0&&r===!0)throw new K(L.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function G1(t){if(!ve.isDocumentKey(t))throw new K(L.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function z1(t){if(ve.isDocumentKey(t))throw new K(L.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Wg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";var e=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return typeof t=="function"?"a function":de()}function Ye(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Wg(t);throw new K(L.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Y1(t,e){if(e<=0)throw new K(L.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q1=function(){function t(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new K(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new K(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,uU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},t}(),Gf=function(){function t(e,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Q1({}),this._settingsFrozen=!1,e instanceof Sv?(this._databaseId=e,this._credentials=new W1):(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new K(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sv(r.options.projectId)}(e),this._credentials=new wee(n))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new K(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(e){if(this._settingsFrozen)throw new K(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Q1(e),e.credentials!==void 0&&(this._credentials=function(n){if(!n)return new W1;switch(n.type){case"gapi":var r=n.client;return Te(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Eee(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new K(L.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return e=this,(n=K1.get(e))&&(J("ComponentProvider","Removing Datastore"),K1.delete(e),n.terminate()),Promise.resolve();var e,n},t}(),Tt=function(){function t(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new ts(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),or=function(){function t(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),ts=function(t){function e(n,r,i){var s=this;return(s=t.call(this,n,r,Gc(i))||this)._path=i,s.type="collection",s}return re(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Tt(this.firestore,null,new ve(n))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(n){return new e(this.firestore,n,this._path)},e}(or);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Pe(t),ZT("collection","path",e),t instanceof Gf)return z1(n=Xe.fromString.apply(Xe,xe([e],r))),new ts(t,null,n);if(!(t instanceof Tt||t instanceof ts))throw new K(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return z1(n=Xe.fromString.apply(Xe,xe([t.path],r)).child(Xe.fromString(e))),new ts(t.firestore,null,n)}function Op(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Pe(t),arguments.length===1&&(e=$M.u()),ZT("doc","path",e),t instanceof Gf)return G1(n=Xe.fromString.apply(Xe,xe([e],r))),new Tt(t,null,new ve(n));if(!(t instanceof Tt||t instanceof ts))throw new K(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return G1(n=t._path.child(Xe.fromString.apply(Xe,xe([e],r)))),new Tt(t.firestore,t instanceof ts?t.converter:null,new ve(n))}function lU(t,e){return t=Pe(t),e=Pe(e),(t instanceof Tt||t instanceof ts)&&(e instanceof Tt||e instanceof ts)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function fU(t,e){return t=Pe(t),e=Pe(e),t instanceof or&&e instanceof or&&t.firestore===e.firestore&&Ch(t._query,e._query)&&t.converter===e.converter}var Tee=function(){function t(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new MT(this,"async_queue_retry"),this.Ic=function(){var r=Rp();r&&J("AsyncQueue","Visibility state changed to "+r.visibilityState),e.Zi.Gi()};var n=Rp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(e){this.enqueue(e)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},t.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var n=Rp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(e){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new Rn;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},t.prototype.enqueueRetryable=function(e){var n=this;this.enqueueAndForget(function(){return n.wc.push(e),n.bc()})},t.prototype.bc=function(){return N(this,void 0,void 0,function(){var e,n=this;return C(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Ha(e=r.sent()))throw e;return J("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},t.prototype.Rc=function(e){var n=this,r=this.dc.then(function(){return n.gc=!0,e().catch(function(i){throw n.yc=i,n.gc=!1,Ut("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i)),i}).then(function(i){return n.gc=!1,i})});return this.dc=r,r},t.prototype.enqueueAfterDelay=function(e,n,r){var i=this;this.Ac(),this.Tc.indexOf(e)>-1&&(n=0);var s=V2.createAndSchedule(this,e,n,r,function(a){return i.vc(a)});return this.mc.push(s),s},t.prototype.Ac=function(){this.yc&&de()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return N(this,void 0,void 0,function(){var e;return C(this,function(n){switch(n.label){case 0:return[4,e=this.dc];case 1:n.sent(),n.label=2;case 2:if(e!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},t.prototype.Vc=function(e){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===e)return!0;return!1},t.prototype.Sc=function(e){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,c){return a.targetTimeMs-c.targetTimeMs});for(var r=0,i=n.mc;r<i.length;r++){var s=i[r];if(s.skipDelay(),e!=="all"&&s.timerId===e)break}return n.Pc()})},t.prototype.Dc=function(e){this.Tc.push(e)},t.prototype.vc=function(e){var n=this.mc.indexOf(e);this.mc.splice(n,1)},t}();function Cc(t){return function(e,n){if(typeof e!="object"||e===null)return!1;for(var r=e,i=0,s=["next","error","complete"];i<s.length;i++){var a=s[i];if(a in r&&typeof r[a]=="function")return!0}return!1}(t)}var Iee=function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Rn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(e,n,r){this._progressObserver={next:e,error:n,complete:r}},t.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},t.prototype.then=function(e,n){return this._taskCompletionResolver.promise.then(e,n)},t.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},t.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},t.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},t}(),See=-1,Dt=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this).type="firestore",i._queue=new Tee,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return re(e,t),e.prototype._terminate=function(){return this._firestoreClient||hU(this),this._firestoreClient.terminate()},e}(Gf);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(t){return t._firestoreClient||hU(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function hU(t){var e,n=t._freezeSettings(),r=function(i,s,a,c){return new yee(i,s,a,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new mee(t._credentials,t._queue,r)}function X1(t,e,n){var r=this,i=new Rn;return t.asyncQueue.enqueue(function(){return N(r,void 0,void 0,function(){var s;return C(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,oU(t,n)];case 1:return a.sent(),[4,sU(t,e)];case 2:return a.sent(),i.resolve(),[3,4];case 3:if(!function(c){return c.name==="FirebaseError"?c.code===L.FAILED_PRECONDITION||c.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||c.code===22||c.code===20||c.code===11}(s=a.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function J1(t){if(t._initialized||t._terminated)throw new K(L.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mi=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=0;r<e.length;++r)if(e[r].length===0)throw new K(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hi(e)}return t.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},t}(),Oa=function(){function t(e){this._byteString=e}return t.fromBase64String=function(e){try{return new t(Wn.fromBase64String(e))}catch(n){throw new K(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(Wn.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},t}(),Wa=function(t){this._methodName=t},Gg=function(){function t(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(e){return qe(this._lat,e._lat)||qe(this._long,e._long)},t}(),Aee=/^__.*__$/,Cee=function(){function t(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}return t.prototype.toMutation=function(e,n){return this.fieldMask!==null?new _s(e,this.data,this.fieldMask,n,this.fieldTransforms):new Rh(e,this.data,n,this.fieldTransforms)},t}(),dU=function(){function t(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}return t.prototype.toMutation=function(e,n){return new _s(e,this.data,this.fieldMask,n,this.fieldTransforms)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de()}}var vU=function(){function t(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(e){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xc({path:r,Fc:!1});return i.$c(e),i},t.prototype.Oc=function(e){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xc({path:r,Fc:!1});return i.Cc(),i},t.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(e){return Av(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(e){return this.fieldMask.find(function(n){return e.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return e.isPrefixOf(n.field)})!==void 0},t.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},t.prototype.$c=function(e){if(e.length===0)throw this.Lc("Document fields must not be empty");if(pU(this.Nc)&&Aee.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),Nee=function(){function t(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.R=r||Dh(e)}return t.prototype.Uc=function(e,n,r,i){return i===void 0&&(i=!1),new vU({Nc:e,methodName:n,qc:r,path:hi.emptyPath(),Fc:!1,Bc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Ga(t){var e=t._freezeSettings(),n=Dh(t._databaseId);return new Nee(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zg(t,e,n,r,i,s){s===void 0&&(s={});var a=t.Uc(s.merge||s.mergeFields?2:0,e,n,i);iI("Data must be an object, but it was:",a,r);var c,l,h=yU(r,a);if(s.merge)c=new hc(a.fieldMask),l=a.fieldTransforms;else if(s.mergeFields){for(var d=[],v=0,g=s.mergeFields;v<g.length;v++){var y=f0(e,g[v],n);if(!a.contains(y))throw new K(L.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");wU(d,y)||d.push(y)}c=new hc(d),l=a.fieldTransforms.filter(function(w){return c.covers(w.field)})}else c=null,l=a.fieldTransforms;return new Cee(new vr(h),c,l)}var tI=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return re(e,t),e.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},e.prototype.isEqual=function(n){return n instanceof e},e}(Wa);function gU(t,e,n){return new vU({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var kee=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return re(e,t),e.prototype._toFieldTransform=function(n){return new kh(n.path,new gc)},e.prototype.isEqual=function(n){return n instanceof e},e}(Wa),Ree=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).Kc=r,i}return re(e,t),e.prototype._toFieldTransform=function(n){var r=gU(this,n,!0),i=this.Kc.map(function(a){return za(a,r)}),s=new ka(i);return new kh(n.path,s)},e.prototype.isEqual=function(n){return this===n},e}(Wa),Oee=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).Kc=r,i}return re(e,t),e.prototype._toFieldTransform=function(n){var r=gU(this,n,!0),i=this.Kc.map(function(a){return za(a,r)}),s=new Ra(i);return new kh(n.path,s)},e.prototype.isEqual=function(n){return this===n},e}(Wa),Dee=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).Qc=r,i}return re(e,t),e.prototype._toFieldTransform=function(n){var r=new mc(n.R,nF(n.R,this.Qc));return new kh(n.path,r)},e.prototype.isEqual=function(n){return this===n},e}(Wa);function nI(t,e,n,r){var i=t.Uc(1,e,n);iI("Data must be an object, but it was:",i,r);var s=[],a=vr.empty();$a(r,function(l,h){var d=oI(e,l,n);h=Pe(h);var v=i.Oc(d);if(h instanceof tI)s.push(d);else{var g=za(h,v);g!=null&&(s.push(d),a.set(d,g))}});var c=new hc(s);return new dU(a,c,i.fieldTransforms)}function rI(t,e,n,r,i,s){var a=t.Uc(1,e,n),c=[f0(e,r,n)],l=[i];if(s.length%2!=0)throw new K(L.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<s.length;h+=2)c.push(f0(e,s[h])),l.push(s[h+1]);for(var d=[],v=vr.empty(),g=c.length-1;g>=0;--g)if(!wU(d,c[g])){var y=c[g],w=l[g];w=Pe(w);var E=a.Oc(y);if(w instanceof tI)d.push(y);else{var T=za(w,E);T!=null&&(d.push(y),v.set(y,T))}}var A=new hc(d);return new dU(v,A,a.fieldTransforms)}function mU(t,e,n,r){return r===void 0&&(r=!1),za(n,t.Uc(r?4:3,e))}function za(t,e){if(_U(t=Pe(t)))return iI("Unsupported field value:",e,t),yU(t,e);if(t instanceof Wa)return function(n,r){if(!pU(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&e.Nc!==4)throw e.Lc("Nested arrays are not supported");return function(n,r){for(var i=[],s=0,a=0,c=n;a<c.length;a++){var l=za(c[a],r.Mc(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Pe(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return nF(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=ir.fromDate(n);return{timestampValue:qf(r.R,i)}}if(n instanceof ir)return i=new ir(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:qf(r.R,i)};if(n instanceof Gg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Oa)return{bytesValue:dF(r.R,n._byteString)};if(n instanceof Tt){i=r.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(i))throw r.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:NT(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+Wg(n))}(t,e)}function yU(t,e){var n={};return HM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$a(t,function(r,i){var s=za(i,e.kc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function _U(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ir||t instanceof Gg||t instanceof Oa||t instanceof Tt||t instanceof Wa)}function iI(t,e,n){if(!_U(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=Wg(n);throw r==="an object"?e.Lc(t+" a custom object"):e.Lc(t+" "+r)}}function f0(t,e,n){if((e=Pe(e))instanceof Mi)return e._internalPath;if(typeof e=="string")return oI(t,e);throw Av("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Pee=new RegExp("[~\\*/\\[\\]]");function oI(t,e,n){if(e.search(Pee)>=0)throw Av("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return new(Mi.bind.apply(Mi,xe([void 0],e.split("."))))()._internalPath}catch{throw Av("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Av(t,e,n,r,i){var s=r&&!r.isEmpty(),a=i!==void 0,c="Function "+e+"() called with invalid data";n&&(c+=" (via `toFirestore()`)");var l="";return(s||a)&&(l+=" (found",s&&(l+=" in field "+r),a&&(l+=" in document "+i),l+=")"),new K(L.INVALID_ARGUMENT,(c+=". ")+t+l)}function wU(t,e){return t.some(function(n){return n.isEqual(e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zf=function(){function t(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Tt(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return this._document!==null},t.prototype.data=function(){if(this._document){if(this._converter){var e=new xee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(e){if(this._document){var n=this._document.data.field(Cv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}},t}(),xee=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return re(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(zf);function Cv(t,e){return typeof e=="string"?oI(t,e):e instanceof Mi?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oa=function(){function t(e,n){this.hasPendingWrites=e,this.fromCache=n}return t.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},t}(),po=function(t){function e(n,r,i,s,a,c){var l=this;return(l=t.call(this,n,r,i,s,c)||this)._firestore=n,l._firestoreImpl=n,l.metadata=a,l}return re(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new gf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},e.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(Cv("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},e}(zf),gf=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return re(e,t),e.prototype.data=function(n){return n===void 0&&(n={}),t.prototype.data.call(this,n)},e}(po),Go=function(){function t(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new oa(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(t.prototype,"docs",{get:function(){var e=[];return this.forEach(function(n){return e.push(n)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e,n){var r=this;this._snapshot.docs.forEach(function(i){e.call(n,new gf(r._firestore,r._userDataWriter,i.key,i,new oa(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},t.prototype.docChanges=function(e){e===void 0&&(e={});var n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var s=0;return r._snapshot.docChanges.map(function(c){return{type:"added",doc:new gf(r._firestore,r._userDataWriter,c.doc.key,c.doc,new oa(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}})}var a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(c){return i||c.type!==3}).map(function(c){var l=new gf(r._firestore,r._userDataWriter,c.doc.key,c.doc,new oa(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),h=-1,d=-1;return c.type!==0&&(h=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(d=(a=a.add(c.doc)).indexOf(c.doc.key)),{type:Lee(c.type),doc:l,oldIndex:h,newIndex:d}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},t}();function Lee(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de()}}function bU(t,e){return t instanceof po&&e instanceof po?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Go&&e instanceof Go&&t._firestore===e._firestore&&fU(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EU(t){if(yv(t)&&t.explicitOrderBy.length===0)throw new K(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var xh=function(){};function jo(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s._apply(t)}return t}var Mee=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).jc=n,s.Wc=r,s.Gc=i,s.type="where",s}return re(e,t),e.prototype._apply=function(n){var r=Ga(n.firestore),i=function(s,a,c,l,h,d,v){var g;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new K(L.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+d+"' queries on FieldPath.documentId().");if(d==="in"||d==="not-in"){rO(v,d);for(var y=[],w=0,E=v;w<E.length;w++){var T=E[w];y.push(nO(l,s,T))}g={arrayValue:{values:y}}}else g=nO(l,s,v)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||rO(v,d),g=mU(c,"where",v,d==="in"||d==="not-in");var A=mr.create(h,d,g);return function(O,P){if(P.g()){var x=TT(O);if(x!==null&&!x.isEqual(P.field))throw new K(L.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+x.toString()+"' and '"+P.field.toString()+"'");var B=ET(O);B!==null&&IU(O,P.field,B)}var M=function(ie,Z){for(var Ie=0,R=ie.filters;Ie<R.length;Ie++){var Je=R[Ie];if(Z.indexOf(Je.op)>=0)return Je.op}return null}(O,function(ie){switch(ie){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(P.op));if(M!==null)throw M===P.op?new K(L.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+P.op.toString()+"' filter."):new K(L.INVALID_ARGUMENT,"Invalid query. You cannot use '"+P.op.toString()+"' filters with '"+M.toString()+"' filters.")}(s,A),A}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new or(n.firestore,n.converter,function(s,a){var c=s.filters.concat([a]);return new To(s.path,s.collectionGroup,s.explicitOrderBy.slice(),c,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,i))},e}(xh),Fee=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).jc=n,i.zc=r,i.type="orderBy",i}return re(e,t),e.prototype._apply=function(n){var r=function(i,s,a){if(i.startAt!==null)throw new K(L.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new K(L.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var c=new $u(s,a);return function(l,h){if(ET(l)===null){var d=TT(l);d!==null&&IU(l,d,h.field)}}(i,c),c}(n._query,this.jc,this.zc);return new or(n.firestore,n.converter,function(i,s){var a=i.explicitOrderBy.concat([s]);return new To(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,r))},e}(xh),Z1=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).type=n,s.Hc=r,s.Jc=i,s}return re(e,t),e.prototype._apply=function(n){return new or(n.firestore,n.converter,XM(n._query,this.Hc,this.Jc))},e}(xh),eO=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).type=n,s.Yc=r,s.Xc=i,s}return re(e,t),e.prototype._apply=function(n){var r=TU(n,this.type,this.Yc,this.Xc);return new or(n.firestore,n.converter,function(i,s){return new To(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(n._query,r))},e}(xh),tO=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).type=n,s.Yc=r,s.Xc=i,s}return re(e,t),e.prototype._apply=function(n){var r=TU(n,this.type,this.Yc,this.Xc);return new or(n.firestore,n.converter,function(i,s){return new To(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(n._query,r))},e}(xh);function TU(t,e,n,r){if(n[0]=Pe(n[0]),n[0]instanceof zf)return function(s,a,c,l,h){if(!l)throw new K(L.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+c+"().");for(var d=[],v=0,g=vc(s);v<g.length;v++){var y=g[v];if(y.field.isKeyField())d.push(vv(a,l.key));else{var w=l.data.field(y.field);if(_T(w))throw new K(L.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){var E=y.field.canonicalString();throw new K(L.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+E+"' (used as the orderBy) does not exist.")}d.push(w)}}return new $f(d,h)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Ga(t.firestore);return function(s,a,c,l,h,d){var v=s.explicitOrderBy;if(h.length>v.length)throw new K(L.INVALID_ARGUMENT,"Too many arguments provided to "+l+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var g=[],y=0;y<h.length;y++){var w=h[y];if(v[y].field.isKeyField()){if(typeof w!="string")throw new K(L.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+l+"(), but got a "+typeof w);if(!IT(s)&&w.indexOf("/")!==-1)throw new K(L.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+l+"() must be a plain document ID, but '"+w+"' contains a slash.");var E=s.path.child(Xe.fromString(w));if(!ve.isDocumentKey(E))throw new K(L.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+l+"() must result in a valid document path, but '"+E+"' is not because it contains an odd number of segments.");var T=new ve(E);g.push(vv(a,T))}else{var A=mU(c,l,w);g.push(A)}}return new $f(g,d)}(t._query,t.firestore._databaseId,i,e,n,r)}function nO(t,e,n){if(typeof(n=Pe(n))=="string"){if(n==="")throw new K(L.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!IT(e)&&n.indexOf("/")!==-1)throw new K(L.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Xe.fromString(n));if(!ve.isDocumentKey(r))throw new K(L.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return vv(t,new ve(r))}if(n instanceof Tt)return vv(t,n._key);throw new K(L.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Wg(n)+".")}function rO(t,e){if(!Array.isArray(t)||t.length===0)throw new K(L.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new K(L.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function IU(t,e,n){if(!n.isEqual(e))throw new K(L.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sI=function(){function t(){}return t.prototype.convertValue=function(e,n){switch(n===void 0&&(n="none"),Na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(dc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw de()}},t.prototype.convertObject=function(e,n){var r=this,i={};return $a(e.fields,function(s,a){i[s]=r.convertValue(a,n)}),i},t.prototype.convertGeoPoint=function(e){return new Gg(Ft(e.latitude),Ft(e.longitude))},t.prototype.convertArray=function(e,n){var r=this;return(e.values||[]).map(function(i){return r.convertValue(i,n)})},t.prototype.convertServerTimestamp=function(e,n){switch(n){case"previous":var r=WM(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(jf(e));default:return null}},t.prototype.convertTimestamp=function(e){var n=fs(e);return new ir(n.seconds,n.nanos)},t.prototype.convertDocumentKey=function(e,n){var r=Xe.fromString(e);Te(EF(r));var i=new Sv(r.get(1),r.get(3)),s=new ve(r.popFirst(5));return i.isEqual(n)||Ut("Document "+s+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Uee=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return re(e,t),e.prototype.convertBytes=function(n){return new Oa(n)},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Tt(this.firestore,null,r)},e}(sI),Vee=function(){function t(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ga(e)}return t.prototype.set=function(e,n,r){this._verifyNotCommitted();var i=zo(e,this._firestore),s=Yg(i.converter,n,r),a=zg(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,Sn.none())),this},t.prototype.update=function(e,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];this._verifyNotCommitted();var a,c=zo(e,this._firestore);return a=typeof(n=Pe(n))=="string"||n instanceof Mi?rI(this._dataReader,"WriteBatch.update",c._key,n,r,i):nI(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(a.toMutation(c._key,Sn.exists(!0))),this},t.prototype.delete=function(e){this._verifyNotCommitted();var n=zo(e,this._firestore);return this._mutations=this._mutations.concat(new Oh(n._key,Sn.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new K(L.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(t,e){if((t=Pe(t)).firestore!==e)throw new K(L.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var va=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return re(e,t),e.prototype.convertBytes=function(n){return new Oa(n)},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Tt(this.firestore,null,r)},e}(sI);function iO(t,e,n){t=Ye(t,Tt);var r=Ye(t.firestore,Dt),i=Yg(t.converter,e,n);return Lh(r,[zg(Ga(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Sn.none())])}function oO(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Ye(t,Tt);var s=Ye(t.firestore,Dt),a=Ga(s);return Lh(s,[(typeof(e=Pe(e))=="string"||e instanceof Mi?rI(a,"updateDoc",t._key,e,n,r):nI(a,"updateDoc",t._key,e)).toMutation(t._key,Sn.exists(!0))])}function SU(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t=Pe(t);var a={includeMetadataChanges:!1},c=0;typeof i[c]!="object"||Cc(i[c])||(a=i[c],c++);var l,h,d,v={includeMetadataChanges:a.includeMetadataChanges};if(Cc(i[c])){var g=i[c];i[c]=(e=g.next)===null||e===void 0?void 0:e.bind(g),i[c+1]=(n=g.error)===null||n===void 0?void 0:n.bind(g),i[c+2]=(r=g.complete)===null||r===void 0?void 0:r.bind(g)}if(t instanceof Tt)h=Ye(t.firestore,Dt),d=Gc(t._key.path),l={next:function(E){i[c]&&i[c](h0(h,t,E))},error:i[c+1],complete:i[c+2]};else{var y=Ye(t,or);h=Ye(y.firestore,Dt),d=y._query;var w=new va(h);l={next:function(E){i[c]&&i[c](new Go(h,w,y,E))},error:i[c+1],complete:i[c+2]},EU(t._query)}return function(E,T,A,O){var P=this,x=new Hg(O),B=new qT(T,x,A);return E.asyncQueue.enqueueAndForget(function(){return N(P,void 0,void 0,function(){var M;return C(this,function(ie){switch(ie.label){case 0:return M=jT,[4,Ac(E)];case 1:return[2,M.apply(void 0,[ie.sent(),B])]}})})}),function(){x.Wo(),E.asyncQueue.enqueueAndForget(function(){return N(P,void 0,void 0,function(){var M;return C(this,function(ie){switch(ie.label){case 0:return M=BT,[4,Ac(E)];case 1:return[2,M.apply(void 0,[ie.sent(),B])]}})})})}}(Zt(h),d,v,l)}function Lh(t,e){return function(n,r){var i=this,s=new Rn;return n.asyncQueue.enqueueAndForget(function(){return N(i,void 0,void 0,function(){var a;return C(this,function(c){switch(c.label){case 0:return a=X2,[4,JT(n)];case 1:return[2,a.apply(void 0,[c.sent(),r,s])]}})})}),s.promise}(Zt(t),e)}function h0(t,e,n){var r=n.docs.get(e._key),i=new va(t);return new po(t,i,e._key,r,new oa(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jee=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this)._firestore=n,i}return re(e,t),e.prototype.get=function(n){var r=this,i=zo(n,this._firestore),s=new va(this._firestore);return t.prototype.get.call(this,n).then(function(a){return new po(r._firestore,s,i._key,a._document,new oa(!1,!1),i.converter)})},e}(function(){function t(e,n){this._firestore=e,this._transaction=n,this._dataReader=Ga(e)}return t.prototype.get=function(e){var n=this,r=zo(e,this._firestore),i=new Uee(this._firestore);return this._transaction.lookup([r._key]).then(function(s){if(!s||s.length!==1)return de();var a=s[0];if(a.isFoundDocument())return new zf(n._firestore,i,a.key,a,r.converter);if(a.isNoDocument())return new zf(n._firestore,i,r._key,null,r.converter);throw de()})},t.prototype.set=function(e,n,r){var i=zo(e,this._firestore),s=Yg(i.converter,n,r),a=zg(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,a),this},t.prototype.update=function(e,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var a,c=zo(e,this._firestore);return a=typeof(n=Pe(n))=="string"||n instanceof Mi?rI(this._dataReader,"Transaction.update",c._key,n,r,i):nI(this._dataReader,"Transaction.update",c._key,n),this._transaction.update(c._key,a),this},t.prototype.delete=function(e){var n=zo(e,this._firestore);return this._transaction.delete(n._key),this},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(){if(typeof Uint8Array>"u")throw new K(L.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function aO(){if(typeof atob>"u")throw new K(L.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var AU=function(){function t(e){this._delegate=e}return t.fromBase64String=function(e){return aO(),new t(Oa.fromBase64String(e))},t.fromUint8Array=function(e){return sO(),new t(Oa.fromUint8Array(e))},t.prototype.toBase64=function(){return aO(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return sO(),this._delegate.toUint8Array()},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Bee=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(e,n){return function(r,i){J1(r=Ye(r,Dt));var s=Zt(r),a=r._freezeSettings(),c=new l0;return X1(s,c,new iU(c,a.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(e._delegate,{forceOwnership:n})},t.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(n){J1(n=Ye(n,Dt));var r=Zt(n),i=n._freezeSettings(),s=new l0;return X1(r,s,new dee(s,i.cacheSizeBytes))}(e._delegate)},t.prototype.clearIndexedDbPersistence=function(e){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new K(L.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new Rn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return N(r,void 0,void 0,function(){var s;return C(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(c){return N(this,void 0,void 0,function(){var l;return C(this,function(h){switch(h.label){case 0:return wc.yt()?(l=c+"main",[4,wc.delete(l)]):[2,Promise.resolve()];case 1:return h.sent(),[2]}})})}(xT(n._databaseId,n._persistenceKey))];case 1:return a.sent(),i.resolve(),[3,3];case 2:return s=a.sent(),i.reject(s),[3,3];case 3:return[2]}})})}),i.promise}(e._delegate)},t}(),aI=function(){function t(e,n,r){var i=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return i.terminate()}},e instanceof Sv||(this.tu=e)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(e){var n=this._delegate._getSettings();e.merge||n.host===e.host||Vf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)},t.prototype.useEmulator=function(e,n,r){r===void 0&&(r={}),function(i,s,a,c){var l;c===void 0&&(c={});var h=(i=Ye(i,Gf))._getSettings();if(h.host!=="firestore.googleapis.com"&&h.host!==s&&Vf("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},h),{host:s+":"+a,ssl:!1})),c.mockUserToken){var d,v;if(typeof c.mockUserToken=="string")d=c.mockUserToken,v=cn.MOCK_USER;else{d=sE(c.mockUserToken,(l=i._app)===null||l===void 0?void 0:l.options.projectId);var g=c.mockUserToken.sub||c.mockUserToken.user_id;if(!g)throw new K(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new cn(g)}i._credentials=new _ee(new aU(d,v))}}(this._delegate,e,n,r)},t.prototype.enableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return N(n,void 0,void 0,function(){var r,i;return C(this,function(s){switch(s.label){case 0:return[4,B1(e)];case 1:return r=s.sent(),[4,$1(e)];case 2:return i=s.sent(),[2,(r.setNetworkEnabled(!0),function(a){var c=ne(a);return c.Or.delete(0),Ph(c)}(i))]}})})})}(Zt(Ye(this._delegate,Dt)))},t.prototype.disableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return N(n,void 0,void 0,function(){var r,i;return C(this,function(s){switch(s.label){case 0:return[4,B1(e)];case 1:return r=s.sent(),[4,$1(e)];case 2:return i=s.sent(),[2,(r.setNetworkEnabled(!1),function(a){return N(this,void 0,void 0,function(){var c;return C(this,function(l){switch(l.label){case 0:return(c=ne(a)).Or.add(0),[4,Yc(c)];case 1:return l.sent(),c.Br.set("Offline"),[2]}})})}(i))]}})})})}(Zt(Ye(this._delegate,Dt)))},t.prototype.enablePersistence=function(e){var n=!1,r=!1;return e&&uU("synchronizeTabs",n=!!e.synchronizeTabs,"experimentalForceOwningTab",r=!!e.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(e){var n=this,r=new Rn;return e.asyncQueue.enqueueAndForget(function(){return N(n,void 0,void 0,function(){var i;return C(this,function(s){switch(s.label){case 0:return i=tee,[4,JT(e)];case 1:return[2,i.apply(void 0,[s.sent(),r])]}})})}),r.promise}(Zt(Ye(this._delegate,Dt)))},t.prototype.onSnapshotsInSync=function(e){return function(n,r){return function(i,s){var a=this,c=new Hg(s);return i.asyncQueue.enqueueAndForget(function(){return N(a,void 0,void 0,function(){var l;return C(this,function(h){switch(h.label){case 0:return l=function(d,v){ne(d).Gr.add(v),v.next()},[4,Ac(i)];case 1:return[2,l.apply(void 0,[h.sent(),c])]}})})}),function(){c.Wo(),i.asyncQueue.enqueueAndForget(function(){return N(a,void 0,void 0,function(){var l;return C(this,function(h){switch(h.label){case 0:return l=function(d,v){ne(d).Gr.delete(v)},[4,Ac(i)];case 1:return[2,l.apply(void 0,[h.sent(),c])]}})})})}}(Zt(n=Ye(n,Dt)),Cc(r)?r:{next:r})}(this._delegate,e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new K(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new Nv(this,cU(this._delegate,e))}catch(n){throw Un(n,"collection()","Firestore.collection()")}},t.prototype.doc=function(e){try{return new ga(this,Op(this._delegate,e))}catch(n){throw Un(n,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(e){try{return new Mh(this,function(n,r){if(n=Ye(n,Gf),ZT("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new K(L.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new or(n,null,function(i){return new To(Xe.emptyPath(),i)}(r))}(this._delegate,e))}catch(n){throw Un(n,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(e){var n=this;return function(r,i){return function(s,a){var c=this,l=new Rn;return s.asyncQueue.enqueueAndForget(function(){return N(c,void 0,void 0,function(){var h;return C(this,function(d){switch(d.label){case 0:return[4,function(v){return Kg(v).then(function(g){return g.datastore})}(s)];case 1:return h=d.sent(),new gee(s.asyncQueue,h,a,l).run(),[2]}})})}),l.promise}(Zt(r),function(s){return i(new jee(r,s))})}(this._delegate,function(r){return e(new CU(n,r))})},t.prototype.batch=function(){var e=this;return Zt(this._delegate),new NU(new Vee(this._delegate,function(n){return Lh(e._delegate,n)}))},t.prototype.loadBundle=function(e){throw new K(L.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(e){throw new K(L.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Qg=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return re(e,t),e.prototype.convertBytes=function(n){return new AU(new Oa(n))},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return ga.eu(r,this.firestore,null)},e}(sI);function $ee(t){var e;e=t,ci.setLogLevel(e)}var CU=function(){function t(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Qg(e)}return t.prototype.get=function(e){var n=this,r=sa(e);return this._delegate.get(r).then(function(i){return new Yf(n._firestore,new po(n._firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,r.converter))})},t.prototype.set=function(e,n,r){var i=sa(e);return r?(eI("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},t.prototype.update=function(e,n,r){for(var i,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var c=sa(e);return arguments.length===2?this._delegate.update(c,n):(i=this._delegate).update.apply(i,xe([c,n,r],s)),this},t.prototype.delete=function(e){var n=sa(e);return this._delegate.delete(n),this},t}(),NU=function(){function t(e){this._delegate=e}return t.prototype.set=function(e,n,r){var i=sa(e);return r?(eI("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},t.prototype.update=function(e,n,r){for(var i,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var c=sa(e);return arguments.length===2?this._delegate.update(c,n):(i=this._delegate).update.apply(i,xe([c,n,r],s)),this},t.prototype.delete=function(e){var n=sa(e);return this._delegate.delete(n),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Xg=function(){function t(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}return t.prototype.fromFirestore=function(e,n){var r=new gf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Qf(this._firestore,r),n??{})},t.prototype.toFirestore=function(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var s=i.get(n);return s||(s=new t(e,new Qg(e),n),i.set(n,s)),s},t}();Xg.su=new WeakMap;var ga=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Qg(e)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new K(L.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Tt(n._delegate,r,new ve(e)))},t.eu=function(e,n,r){return new t(n,new Tt(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Nv(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new Nv(this.firestore,cU(this._delegate,e))}catch(n){throw Un(n,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(e){return(e=Pe(e))instanceof Tt&&lU(this._delegate,e)},t.prototype.set=function(e,n){n=eI("DocumentReference.set",n);try{return n?iO(this._delegate,e,n):iO(this._delegate,e)}catch(r){throw Un(r,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?oO(this._delegate,e):oO.apply(void 0,xe([this._delegate,e,n],r))}catch(s){throw Un(s,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Lh(Ye((e=this._delegate).firestore,Dt),[new Oh(e._key,Sn.none())]);var e},t.prototype.onSnapshot=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=kU(n),s=RU(n,function(a){return new Yf(e.firestore,new po(e.firestore._delegate,e._userDataWriter,a._key,a._document,a.metadata,e._delegate.converter))});return SU(this._delegate,i,s)},t.prototype.get=function(e){var n=this;return((e==null?void 0:e.source)==="cache"?function(r){r=Ye(r,Tt);var i=Ye(r.firestore,Dt),s=Zt(i),a=new va(i);return function(c,l){var h=this,d=new Rn;return c.asyncQueue.enqueueAndForget(function(){return N(h,void 0,void 0,function(){var v;return C(this,function(g){switch(g.label){case 0:return v=function(y,w,E){return N(this,void 0,void 0,function(){var T,A;return C(this,function(O){switch(O.label){case 0:return O.trys.push([0,2,,3]),[4,function(P,x){var B=ne(P);return B.persistence.runTransaction("read document","readonly",function(M){return B.Mn.mn(M,x)})}(y,w)];case 1:return(A=O.sent()).isFoundDocument()?E.resolve(A):A.isNoDocument()?E.resolve(null):E.reject(new K(L.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return T=O.sent(),A=Jc(T,"Failed to get document '"+w+" from cache"),E.reject(A),[3,3];case 3:return[2]}})})},[4,XT(c)];case 1:return[2,v.apply(void 0,[g.sent(),l,d])]}})})}),d.promise}(s,r._key).then(function(c){return new po(i,a,r._key,c,new oa(c!==null&&c.hasLocalMutations,!0),r.converter)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(r){r=Ye(r,Tt);var i=Ye(r.firestore,Dt);return q1(Zt(i),r._key,{source:"server"}).then(function(s){return h0(i,r,s)})}(this._delegate):function(r){r=Ye(r,Tt);var i=Ye(r.firestore,Dt);return q1(Zt(i),r._key).then(function(s){return h0(i,r,s)})}(this._delegate)).then(function(r){return new Yf(n.firestore,new po(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Xg.nu(this.firestore,e)):this._delegate.withConverter(null))},t}();function Un(t,e,n){return t.message=t.message.replace(e,n),t}function kU(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(typeof r=="object"&&!Cc(r))return r}return{}}function RU(t,e){var n,r,i;return{next:function(s){i.next&&i.next(e(s))},error:(n=(i=Cc(t[0])?t[0]:Cc(t[1])?t[1]:typeof t[0]=="function"?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var Yf=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"ref",{get:function(){return new ga(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(e){return this._delegate.data(e)},t.prototype.get=function(e,n){return this._delegate.get(e,n)},t.prototype.isEqual=function(e){return bU(this._delegate,e._delegate)},t}(),Qf=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return re(e,t),e.prototype.data=function(n){return this._delegate.data(n)},e}(Yf),Mh=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Qg(e)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,jo(this._delegate,function(i,s,a){var c=s,l=Cv("where",i);return new Mee(l,c,a)}(e,n,r)))}catch(i){throw Un(i,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,jo(this._delegate,function(r,i){i===void 0&&(i="asc");var s=i,a=Cv("orderBy",r);return new Fee(a,s)}(e,n)))}catch(r){throw Un(r,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,jo(this._delegate,function(n){return Y1("limit",n),new Z1("limit",n,"F")}(e)))}catch(n){throw Un(n,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,jo(this._delegate,function(n){return Y1("limitToLast",n),new Z1("limitToLast",n,"L")}(e)))}catch(n){throw Un(n,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,jo(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new eO("startAt",r,!0)}).apply(void 0,e)))}catch(r){throw Un(r,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,jo(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new eO("startAfter",r,!1)}).apply(void 0,e)))}catch(r){throw Un(r,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,jo(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new tO("endBefore",r,!0)}).apply(void 0,e)))}catch(r){throw Un(r,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,jo(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new tO("endAt",r,!1)}).apply(void 0,e)))}catch(r){throw Un(r,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(e){return fU(this._delegate,e._delegate)},t.prototype.get=function(e){var n=this;return((e==null?void 0:e.source)==="cache"?function(r){r=Ye(r,or);var i=Ye(r.firestore,Dt),s=Zt(i),a=new va(i);return function(c,l){var h=this,d=new Rn;return c.asyncQueue.enqueueAndForget(function(){return N(h,void 0,void 0,function(){var v;return C(this,function(g){switch(g.label){case 0:return v=function(y,w,E){return N(this,void 0,void 0,function(){var T,A,O,P,x;return C(this,function(B){switch(B.label){case 0:return B.trys.push([0,2,,3]),[4,Ev(y,w,!0)];case 1:return x=B.sent(),T=new ZF(w,x.Bn),A=T._o(x.documents),O=T.applyChanges(A,!1),E.resolve(O.snapshot),[3,3];case 2:return P=B.sent(),x=Jc(P,"Failed to execute query '"+w+" against cache"),E.reject(x),[3,3];case 3:return[2]}})})},[4,XT(c)];case 1:return[2,v.apply(void 0,[g.sent(),l,d])]}})})}),d.promise}(s,r._query).then(function(c){return new Go(i,a,r,c)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(r){r=Ye(r,or);var i=Ye(r.firestore,Dt),s=Zt(i),a=new va(i);return H1(s,r._query,{source:"server"}).then(function(c){return new Go(i,a,r,c)})}(this._delegate):function(r){r=Ye(r,or);var i=Ye(r.firestore,Dt),s=Zt(i),a=new va(i);return EU(r._query),H1(s,r._query).then(function(c){return new Go(i,a,r,c)})}(this._delegate)).then(function(r){return new d0(n.firestore,new Go(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},t.prototype.onSnapshot=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=kU(n),s=RU(n,function(a){return new d0(e.firestore,new Go(e.firestore._delegate,e._userDataWriter,e._delegate,a._snapshot))});return SU(this._delegate,i,s)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Xg.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(),qee=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Qf(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),d0=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"query",{get:function(){return new Mh(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(n){return new Qf(e._firestore,n)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(e){var n=this;return this._delegate.docChanges(e).map(function(r){return new qee(n._firestore,r)})},t.prototype.forEach=function(e,n){var r=this;this._delegate.forEach(function(i){e.call(n,new Qf(r._firestore,i))})},t.prototype.isEqual=function(e){return bU(this._delegate,e._delegate)},t}(),Nv=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this).firestore=n,i._delegate=r,i}return re(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new ga(this.firestore,n):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(n){try{return new ga(this.firestore,n===void 0?Op(this._delegate):Op(this._delegate,n))}catch(r){throw Un(r,"doc()","CollectionReference.doc()")}},e.prototype.add=function(n){var r=this;return function(i,s){var a=Ye(i.firestore,Dt),c=Op(i),l=Yg(i.converter,s);return Lh(a,[zg(Ga(i.firestore),"addDoc",c._key,l,i.converter!==null,{}).toMutation(c._key,Sn.exists(!1))]).then(function(){return c})}(this._delegate,n).then(function(i){return new ga(r.firestore,i)})},e.prototype.isEqual=function(n){return lU(this._delegate,n._delegate)},e.prototype.withConverter=function(n){return new e(this.firestore,n?this._delegate.withConverter(Xg.nu(this.firestore,n)):this._delegate.withConverter(null))},e}(Mh);function sa(t){return Ye(t,Tt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hee=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._delegate=new(Mi.bind.apply(Mi,xe([void 0],e)))}return t.documentId=function(){return new t(hi.keyField().canonicalString())},t.prototype.isEqual=function(e){return(e=Pe(e))instanceof Mi&&this._delegate._internalPath.isEqual(e._internalPath)},t}(),Kee=function(){function t(e){this._delegate=e}return t.serverTimestamp=function(){var e=new kee("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new tI("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new Ree("arrayUnion",i)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new Oee("arrayRemove",i)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(r){return new Dee("increment",r)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wee(t){return function(e,n){var r=Zt(e=Ye(e,Dt)),i=new Iee;return function(s,a,c,l){var h=this,d=function(v,g){return function(y,w){return new pee(y,w)}(function(y,w){if(y instanceof Uint8Array)return j1(y,w);if(y instanceof ArrayBuffer)return j1(new Uint8Array(y),w);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(typeof v=="string"?new TextEncoder().encode(v):v),g)}(c,Dh(a));s.asyncQueue.enqueueAndForget(function(){return N(h,void 0,void 0,function(){var v;return C(this,function(g){switch(g.label){case 0:return v=hee,[4,JT(s)];case 1:return v.apply(void 0,[g.sent(),d,l]),[2]}})})})}(r,e._databaseId,n,i),i}(this._delegate,t)}function Gee(t){var e,n,r=this;return(e=this._delegate,n=t,function(i,s){var a=this;return i.asyncQueue.enqueue(function(){return N(a,void 0,void 0,function(){var c;return C(this,function(l){switch(l.label){case 0:return c=function(h,d){var v=ne(h);return v.persistence.runTransaction("Get named query","readonly",function(g){return v.Ke.getNamedQuery(g,d)})},[4,XT(i)];case 1:return[2,c.apply(void 0,[l.sent(),s])]}})})})}(Zt(e=Ye(e,Dt)),n).then(function(i){return i?new or(e,null,i.query):null})).then(function(i){return i?new Mh(r,i):null})}var zee={Firestore:aI,GeoPoint:Gg,Timestamp:ir,Blob:AU,Transaction:CU,WriteBatch:NU,DocumentReference:ga,DocumentSnapshot:Yf,Query:Mh,QueryDocumentSnapshot:Qf,QuerySnapshot:d0,CollectionReference:Nv,FieldPath:Hee,FieldValue:Kee,setLogLevel:$ee,CACHE_SIZE_UNLIMITED:See};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yee(t){(function(e,n){e.INTERNAL.registerComponent(new kn("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},zee)))})(t,function(e,n){return new aI(e,new Dt(e,n),new Bee)}),t.registerVersion("@firebase/firestore","2.4.1")}Yee(ce);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qee(t){t.prototype.loadBundle=Wee,t.prototype.namedQuery=Gee}Qee(aI);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uO={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},qu=function(t){re(e,t);function e(n,r,i){var s=t.call(this,r)||this;return Object.setPrototypeOf(s,e.prototype),s.code=n,s.details=i,s}return e}(Error);function Xee(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Jee(t,e,n){var r=Xee(t),i=r,s=void 0;try{var a=e&&e.error;if(a){var c=a.status;if(typeof c=="string"){if(!uO[c])return new qu("internal","internal");r=uO[c],i=c}var l=a.message;typeof l=="string"&&(i=l),s=a.details,s!==void 0&&(s=n.decode(s))}}catch{}return r==="ok"?null:new qu(r,i,s)}var Zee=function(){function t(e,n){var r=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(function(i){return r.auth=i},function(){}),this.messaging||n.get().then(function(i){return r.messaging=i},function(){})}return t.prototype.getAuthToken=function(){return N(this,void 0,void 0,function(){var e;return C(this,function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return e=n.sent(),e?[2,e.accessToken]:[2,void 0];case 3:return n.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getInstanceIdToken=function(){return N(this,void 0,void 0,function(){return C(this,function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||Notification.permission!=="granted")return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getContext=function(){return N(this,void 0,void 0,function(){var e,n;return C(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return e=r.sent(),[4,this.getInstanceIdToken()];case 2:return n=r.sent(),[2,{authToken:e,instanceIdToken:n}]}})})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ete="type.googleapis.com/google.protobuf.Int64Value",tte="type.googleapis.com/google.protobuf.UInt64Value";function cO(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var nte=function(){function t(){}return t.prototype.encode=function(e){var n=this;if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(function(r){return n.encode(r)});if(typeof e=="function"||typeof e=="object")return cO(e,function(r){return n.encode(r)});throw new Error("Data cannot be encoded in JSON: "+e)},t.prototype.decode=function(e){var n=this;if(e==null)return e;if(e["@type"])switch(e["@type"]){case ete:case tte:{var r=Number(e.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+e);return r}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(function(i){return n.decode(i)}):typeof e=="function"||typeof e=="object"?cO(e,function(i){return n.decode(i)}):e},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rte(t){var e,n=new Promise(function(r,i){e=setTimeout(function(){i(new qu("deadline-exceeded","deadline-exceeded"))},t)});return{timer:e,promise:n}}var lO=function(){function t(e,n,r,i,s,a){var c=this;s===void 0&&(s="us-central1"),this.app_=e,this.appCheckProvider=i,this.fetchImpl=a,this.serializer=new nte,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(c.deleteService())}},this.contextProvider=new Zee(n,r),this.cancelAllRequests=new Promise(function(h){c.deleteService=function(){return h()}});try{var l=new URL(s);this.customDomain=l.origin,this.region="us-central1"}catch{this.customDomain=null,this.region=s}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(e){var n=this.app_.options.projectId;if(this.emulatorOrigin!==null){var r=this.emulatorOrigin;return r+"/"+n+"/"+this.region+"/"+e}return this.customDomain!==null?this.customDomain+"/"+e:"https://"+this.region+"-"+n+".cloudfunctions.net/"+e},t.prototype.useEmulator=function(e,n){this.emulatorOrigin="http://"+e+":"+n},t.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},t.prototype.httpsCallable=function(e,n){var r=this;return function(i){return r.call(e,i,n||{})}},t.prototype.postJSON=function(e,n,r){return N(this,void 0,void 0,function(){var i,s,a;return C(this,function(c){switch(c.label){case 0:return r["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:i=c.sent(),i!==null&&(r["X-Firebase-AppCheck"]=i),c.label=2;case 2:return c.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(n),headers:r})];case 3:return s=c.sent(),[3,5];case 4:return c.sent(),[2,{status:0,json:null}];case 5:a=null,c.label=6;case 6:return c.trys.push([6,8,,9]),[4,s.json()];case 7:return a=c.sent(),[3,9];case 8:return c.sent(),[3,9];case 9:return[2,{status:s.status,json:a}]}})})},t.prototype.getAppCheckToken=function(){return N(this,void 0,void 0,function(){var e,n;return C(this,function(r){switch(r.label){case 0:return e=this.appCheckProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},t.prototype.call=function(e,n,r){return N(this,void 0,void 0,function(){var i,s,a,c,l,h,d,v,g,y,w,E;return C(this,function(T){switch(T.label){case 0:return i=this._url(e),n=this.serializer.encode(n),s={data:n},a={},[4,this.contextProvider.getContext()];case 1:return c=T.sent(),c.authToken&&(a.Authorization="Bearer "+c.authToken),c.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=c.instanceIdToken),l=r.timeout||7e4,h=rte(l),d=h.timer,v=h.promise,[4,Promise.race([fO(d,this.postJSON(i,s,a)),v,fO(d,this.cancelAllRequests)])];case 2:if(g=T.sent(),!g)throw new qu("cancelled","Firebase Functions instance was deleted.");if(y=Jee(g.status,g.json,this.serializer),y)throw y;if(!g.json)throw new qu("internal","Response is not valid JSON object.");if(w=g.json.data,typeof w>"u"&&(w=g.json.result),typeof w>"u")throw new qu("internal","Response is missing data field.");return E=this.serializer.decode(w),[2,{data:E}]}})})},t}();function fO(t,e){return N(this,void 0,void 0,function(){var n;return C(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ite="functions";function ote(t,e){var n={Functions:lO};function r(i,s){var a=s.instanceIdentifier,c=i.getProvider("app").getImmediate(),l=i.getProvider("auth-internal"),h=i.getProvider("app-check-internal"),d=i.getProvider("messaging");return new lO(c,l,d,h,a,e)}t.INTERNAL.registerComponent(new kn(ite,r,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}var ste="@firebase/functions",ate="0.6.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ote(ce,fetch.bind(self));ce.registerVersion(ste,ate);function ute(t){return Array.prototype.slice.call(t)}function OU(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function Jg(t,e,n){var r,i=new Promise(function(s,a){r=t[e].apply(t,n),OU(r).then(s,a)});return i.request=r,i}function cte(t,e,n){var r=Jg(t,e,n);return r.then(function(i){if(i)return new Xf(i,r.request)})}function Zc(t,e,n){n.forEach(function(r){Object.defineProperty(t.prototype,r,{get:function(){return this[e][r]},set:function(i){this[e][r]=i}})})}function uI(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return Jg(this[e],i,arguments)})})}function Zg(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return this[e][i].apply(this[e],arguments)})})}function DU(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return cte(this[e],i,arguments)})})}function Ya(t){this._index=t}Zc(Ya,"_index",["name","keyPath","multiEntry","unique"]);uI(Ya,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);DU(Ya,"_index",IDBIndex,["openCursor","openKeyCursor"]);function Xf(t,e){this._cursor=t,this._request=e}Zc(Xf,"_cursor",["direction","key","primaryKey","value"]);uI(Xf,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(Xf.prototype[t]=function(){var e=this,n=arguments;return Promise.resolve().then(function(){return e._cursor[t].apply(e._cursor,n),OU(e._request).then(function(r){if(r)return new Xf(r,e._request)})})})});function Gi(t){this._store=t}Gi.prototype.createIndex=function(){return new Ya(this._store.createIndex.apply(this._store,arguments))};Gi.prototype.index=function(){return new Ya(this._store.index.apply(this._store,arguments))};Zc(Gi,"_store",["name","keyPath","indexNames","autoIncrement"]);uI(Gi,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);DU(Gi,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);Zg(Gi,"_store",IDBObjectStore,["deleteIndex"]);function Fh(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}Fh.prototype.objectStore=function(){return new Gi(this._tx.objectStore.apply(this._tx,arguments))};Zc(Fh,"_tx",["objectStoreNames","mode"]);Zg(Fh,"_tx",IDBTransaction,["abort"]);function em(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new Fh(n)}em.prototype.createObjectStore=function(){return new Gi(this._db.createObjectStore.apply(this._db,arguments))};Zc(em,"_db",["name","version","objectStoreNames"]);Zg(em,"_db",IDBDatabase,["deleteObjectStore","close"]);function tm(t){this._db=t}tm.prototype.transaction=function(){return new Fh(this._db.transaction.apply(this._db,arguments))};Zc(tm,"_db",["name","version","objectStoreNames"]);Zg(tm,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(t){[Gi,Ya].forEach(function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var n=ute(arguments),r=n[n.length-1],i=this._store||this._index,s=i[t].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})});[Ya,Gi].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(e,n){var r=this,i=[];return new Promise(function(s){r.iterateCursor(e,function(a){if(!a){s(i);return}if(i.push(a.value),n!==void 0&&i.length==n){s(i);return}a.continue()})})})});function cI(t,e,n){var r=Jg(indexedDB,"open",[t,e]),i=r.request;return i&&(i.onupgradeneeded=function(s){n&&n(new em(i.result,s.oldVersion,i.transaction))}),r.then(function(s){return new tm(s)})}function Rw(t){return Jg(indexedDB,"deleteDatabase",[t])}var lte="@firebase/installations",PU="0.4.32";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xU=1e4,LU="w:"+PU,MU="FIS_v2",fte="https://firebaseinstallations.googleapis.com/v1",hte=60*60*1e3,dte="installations",pte="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bo,vte=(Bo={},Bo["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Bo["not-registered"]="Firebase Installation is not registered.",Bo["installation-not-found"]="Firebase Installation not found.",Bo["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Bo["app-offline"]="Could not process request. Application offline.",Bo["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Bo),yo=new Eo(dte,pte,vte);function FU(t){return t instanceof Vc&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(t){var e=t.projectId;return fte+"/projects/"+e+"/installations"}function UU(t){return{token:t.token,requestStatus:2,expiresIn:gte(t.expiresIn),creationTime:Date.now()}}function fI(t,e){return N(this,void 0,void 0,function(){var n,r;return C(this,function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,yo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function VU(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function jU(t,e){var n=e.refreshToken,r=VU(t);return r.append("Authorization",mte(n)),r}function hI(t){return N(this,void 0,void 0,function(){var e;return C(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return e=n.sent(),e.status>=500&&e.status<600?[2,t()]:[2,e]}})})}function gte(t){return Number(t.replace("s","000"))}function mte(t){return MU+" "+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yte(t,e){var n=e.fid;return N(this,void 0,void 0,function(){var r,i,s,a,c,l,h;return C(this,function(d){switch(d.label){case 0:return r=lI(t),i=VU(t),s={fid:n,authVersion:MU,appId:t.appId,sdkVersion:LU},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,hI(function(){return fetch(r,a)})];case 1:return c=d.sent(),c.ok?[4,c.json()]:[3,3];case 2:return l=d.sent(),h={fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:UU(l.authToken)},[2,h];case 3:return[4,fI("Create Installation",c)];case 4:throw d.sent()}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BU(t){return new Promise(function(e){setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _te(t){var e=btoa(String.fromCharCode.apply(String,xe([],hn(t))));return e.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wte=/^[cdef][\w-]{21}$/,p0="";function bte(){try{var t=new Uint8Array(17),e=self.crypto||self.msCrypto;e.getRandomValues(t),t[0]=112+t[0]%16;var n=Ete(t);return wte.test(n)?n:p0}catch{return p0}}function Ete(t){var e=_te(t);return e.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(t){return t.appName+"!"+t.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nc=new Map;function $U(t,e){var n=el(t);qU(n,e),Ste(n,e)}function Tte(t,e){HU();var n=el(t),r=Nc.get(n);r||(r=new Set,Nc.set(n,r)),r.add(e)}function Ite(t,e){var n=el(t),r=Nc.get(n);r&&(r.delete(e),r.size===0&&Nc.delete(n),KU())}function qU(t,e){var n,r,i=Nc.get(t);if(i)try{for(var s=nn(i),a=s.next();!a.done;a=s.next()){var c=a.value;c(e)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}function Ste(t,e){var n=HU();n&&n.postMessage({key:t,fid:e}),KU()}var aa=null;function HU(){return!aa&&"BroadcastChannel"in self&&(aa=new BroadcastChannel("[Firebase] FID Change"),aa.onmessage=function(t){qU(t.data.key,t.data.fid)}),aa}function KU(){Nc.size===0&&aa&&(aa.close(),aa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ate="firebase-installations-database",Cte=1,Da="firebase-installations-store",Ow=null;function dI(){return Ow||(Ow=cI(Ate,Cte,function(t){switch(t.oldVersion){case 0:t.createObjectStore(Da)}})),Ow}function kv(t,e){return N(this,void 0,void 0,function(){var n,r,i,s,a;return C(this,function(c){switch(c.label){case 0:return n=el(t),[4,dI()];case 1:return r=c.sent(),i=r.transaction(Da,"readwrite"),s=i.objectStore(Da),[4,s.get(n)];case 2:return a=c.sent(),[4,s.put(e,n)];case 3:return c.sent(),[4,i.complete];case 4:return c.sent(),(!a||a.fid!==e.fid)&&$U(t,e.fid),[2,e]}})})}function pI(t){return N(this,void 0,void 0,function(){var e,n,r;return C(this,function(i){switch(i.label){case 0:return e=el(t),[4,dI()];case 1:return n=i.sent(),r=n.transaction(Da,"readwrite"),[4,r.objectStore(Da).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function Uh(t,e){return N(this,void 0,void 0,function(){var n,r,i,s,a,c;return C(this,function(l){switch(l.label){case 0:return n=el(t),[4,dI()];case 1:return r=l.sent(),i=r.transaction(Da,"readwrite"),s=i.objectStore(Da),[4,s.get(n)];case 2:return a=l.sent(),c=e(a),c!==void 0?[3,4]:[4,s.delete(n)];case 3:return l.sent(),[3,6];case 4:return[4,s.put(c,n)];case 5:l.sent(),l.label=6;case 6:return[4,i.complete];case 7:return l.sent(),c&&(!a||a.fid!==c.fid)&&$U(t,c.fid),[2,c]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(t){return N(this,void 0,void 0,function(){var e,n,r;return C(this,function(i){switch(i.label){case 0:return[4,Uh(t,function(s){var a=Nte(s),c=kte(t,a);return e=c.registrationPromise,c.installationEntry})];case 1:return n=i.sent(),n.fid!==p0?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function Nte(t){var e=t||{fid:bte(),registrationStatus:0};return WU(e)}function kte(t,e){if(e.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(yo.create("app-offline"));return{installationEntry:e,registrationPromise:n}}var r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=Rte(t,r);return{installationEntry:r,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Ote(t)}:{installationEntry:e}}function Rte(t,e){return N(this,void 0,void 0,function(){var n,r;return C(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,yte(t,e)];case 1:return n=i.sent(),[2,kv(t,n)];case 2:return r=i.sent(),FU(r)&&r.customData.serverCode===409?[4,pI(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,kv(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}function Ote(t){return N(this,void 0,void 0,function(){var e,n,r,i;return C(this,function(s){switch(s.label){case 0:return[4,hO(t)];case 1:e=s.sent(),s.label=2;case 2:return e.registrationStatus!==1?[3,5]:[4,BU(100)];case 3:return s.sent(),[4,hO(t)];case 4:return e=s.sent(),[3,2];case 5:return e.registrationStatus!==0?[3,7]:[4,vI(t)];case 6:return n=s.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,e]}})})}function hO(t){return Uh(t,function(e){if(!e)throw yo.create("installation-not-found");return WU(e)})}function WU(t){return Dte(t)?{fid:t.fid,registrationStatus:0}:t}function Dte(t){return t.registrationStatus===1&&t.registrationTime+xU<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pte(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return N(this,void 0,void 0,function(){var i,s,a,c,l,h,d,v;return C(this,function(g){switch(g.label){case 0:return i=xte(n,e),s=jU(n,e),a=r.getImmediate({optional:!0}),a&&s.append("x-firebase-client",a.getPlatformInfoString()),c={installation:{sdkVersion:LU}},l={method:"POST",headers:s,body:JSON.stringify(c)},[4,hI(function(){return fetch(i,l)})];case 1:return h=g.sent(),h.ok?[4,h.json()]:[3,3];case 2:return d=g.sent(),v=UU(d),[2,v];case 3:return[4,fI("Generate Auth Token",h)];case 4:throw g.sent()}})})}function xte(t,e){var n=e.fid;return lI(t)+"/"+n+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(t,e){return e===void 0&&(e=!1),N(this,void 0,void 0,function(){var n,r,i,s;return C(this,function(a){switch(a.label){case 0:return[4,Uh(t.appConfig,function(c){if(!GU(c))throw yo.create("not-registered");var l=c.authToken;if(!e&&Fte(l))return c;if(l.requestStatus===1)return n=Lte(t,e),c;if(!navigator.onLine)throw yo.create("app-offline");var h=Vte(c);return n=Mte(t,h),h})];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return s=a.sent(),[3,4];case 3:s=r.authToken,a.label=4;case 4:return i=s,[2,i]}})})}function Lte(t,e){return N(this,void 0,void 0,function(){var n,r;return C(this,function(i){switch(i.label){case 0:return[4,dO(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,BU(100)];case 3:return i.sent(),[4,dO(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,gI(t,e)]:[2,r]}})})}function dO(t){return Uh(t,function(e){if(!GU(e))throw yo.create("not-registered");var n=e.authToken;return jte(n)?ye(ye({},e),{authToken:{requestStatus:0}}):e})}function Mte(t,e){return N(this,void 0,void 0,function(){var n,i,r,i;return C(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,8]),[4,Pte(t,e)];case 1:return n=s.sent(),i=ye(ye({},e),{authToken:n}),[4,kv(t.appConfig,i)];case 2:return s.sent(),[2,n];case 3:return r=s.sent(),FU(r)&&(r.customData.serverCode===401||r.customData.serverCode===404)?[4,pI(t.appConfig)]:[3,5];case 4:return s.sent(),[3,7];case 5:return i=ye(ye({},e),{authToken:{requestStatus:0}}),[4,kv(t.appConfig,i)];case 6:s.sent(),s.label=7;case 7:throw r;case 8:return[2]}})})}function GU(t){return t!==void 0&&t.registrationStatus===2}function Fte(t){return t.requestStatus===2&&!Ute(t)}function Ute(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+hte}function Vte(t){var e={requestStatus:1,requestTime:Date.now()};return ye(ye({},t),{authToken:e})}function jte(t){return t.requestStatus===1&&t.requestTime+xU<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bte(t){return N(this,void 0,void 0,function(){var e,n,r;return C(this,function(i){switch(i.label){case 0:return[4,vI(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,r=e.registrationPromise,r?r.catch(console.error):gI(t).catch(console.error),[2,n.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $te(t,e){return e===void 0&&(e=!1),N(this,void 0,void 0,function(){var n;return C(this,function(r){switch(r.label){case 0:return[4,qte(t.appConfig)];case 1:return r.sent(),[4,gI(t,e)];case 2:return n=r.sent(),[2,n.token]}})})}function qte(t){return N(this,void 0,void 0,function(){var e;return C(this,function(n){switch(n.label){case 0:return[4,vI(t)];case 1:return e=n.sent().registrationPromise,e?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hte(t,e){return N(this,void 0,void 0,function(){var n,r,i,s;return C(this,function(a){switch(a.label){case 0:return n=Kte(t,e),r=jU(t,e),i={method:"DELETE",headers:r},[4,hI(function(){return fetch(n,i)})];case 1:return s=a.sent(),s.ok?[3,3]:[4,fI("Delete Installation",s)];case 2:throw a.sent();case 3:return[2]}})})}function Kte(t,e){var n=e.fid;return lI(t)+"/"+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wte(t){return N(this,void 0,void 0,function(){var e,n;return C(this,function(r){switch(r.label){case 0:return e=t.appConfig,[4,Uh(e,function(i){if(!(i&&i.registrationStatus===0))return i})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw yo.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw yo.create("app-offline");case 3:return[4,Hte(e,n)];case 4:return r.sent(),[4,pI(e)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gte(t,e){var n=t.appConfig;return Tte(n,e),function(){Ite(n,e)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zte(t){var e,n;if(!t||!t.options)throw Dw("App Configuration");if(!t.name)throw Dw("App Name");var r=["projectId","apiKey","appId"];try{for(var i=nn(r),s=i.next();!s.done;s=i.next()){var a=s.value;if(!t.options[a])throw Dw(a)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Dw(t){return yo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yte(t){var e="installations";t.INTERNAL.registerComponent(new kn(e,function(n){var r=n.getProvider("app").getImmediate(),i=zte(r),s=n.getProvider("platform-logger"),a={appConfig:i,platformLoggerProvider:s},c={app:r,getId:function(){return Bte(a)},getToken:function(l){return $te(a,l)},delete:function(){return Wte(a)},onIdChange:function(l){return Gte(a,l)}};return c},"PUBLIC")),t.registerVersion(lte,PU)}Yte(ce);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t,Qte=($t={},$t["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',$t["only-available-in-window"]="This method is available in a Window context.",$t["only-available-in-sw"]="This method is available in a service worker context.",$t["permission-default"]="The notification permission was not granted and dismissed instead.",$t["permission-blocked"]="The notification permission was not granted and blocked instead.",$t["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",$t["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",$t["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",$t["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",$t["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",$t["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",$t["token-update-no-token"]="FCM returned no token when updating the user to push.",$t["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",$t["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",$t["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",$t["invalid-vapid-key"]="The public VAPID key must be a string.",$t["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",$t),rt=new Eo("messaging","Messaging",Qte);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xte="/firebase-messaging-sw.js",Jte="/firebase-cloud-messaging-push-scope",Rv="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Zte="https://fcmregistrations.googleapis.com/v1",zU="FCM_MSG",ene="FirebaseMessaging: ",tne="google.c.a.e",YU="google.c.a.c_id",nne="google.c.a.ts",rne="google.c.a.c_l",ine=1e3,one=3e3;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Pa;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Pa||(Pa={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(t){var e=new Uint8Array(t),n=btoa(String.fromCharCode.apply(String,xe([],hn(e))));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function sne(t){for(var e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pw="fcm_token_details_db",ane=5,pO="fcm_token_object_Store";function une(t){return N(this,void 0,void 0,function(){var e,n,r,i,s=this;return C(this,function(a){switch(a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(e=a.sent(),n=e.map(function(c){return c.name}),!n.includes(Pw))return[2,null];a.label=2;case 2:return r=null,[4,cI(Pw,ane,function(c){return N(s,void 0,void 0,function(){var l,h,d,d,d,v;return C(this,function(g){switch(g.label){case 0:return c.oldVersion<2?[2]:c.objectStoreNames.contains(pO)?(l=c.transaction.objectStore(pO),[4,l.index("fcmSenderId").get(t)]):[2];case 1:return h=g.sent(),[4,l.clear()];case 2:if(g.sent(),!h)return[2];if(c.oldVersion===2){if(d=h,!d.auth||!d.p256dh||!d.endpoint)return[2];r={token:d.fcmToken,createTime:(v=d.createTime)!==null&&v!==void 0?v:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:io(d.vapidKey)}}}else c.oldVersion===3?(d=h,r={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:io(d.auth),p256dh:io(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:io(d.vapidKey)}}):c.oldVersion===4&&(d=h,r={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:io(d.auth),p256dh:io(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:io(d.vapidKey)}});return[2]}})})})];case 3:return i=a.sent(),i.close(),[4,Rw(Pw)];case 4:return a.sent(),[4,Rw("fcm_vapid_details_db")];case 5:return a.sent(),[4,Rw("undefined")];case 6:return a.sent(),[2,cne(r)?r:null]}})})}function cne(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lne="firebase-messaging-database",fne=1,xa="firebase-messaging-store",xw=null;function mI(){return xw||(xw=cI(lne,fne,function(t){switch(t.oldVersion){case 0:t.createObjectStore(xa)}})),xw}function Ov(t){return N(this,void 0,void 0,function(){var e,n,r,i;return C(this,function(s){switch(s.label){case 0:return e=_I(t),[4,mI()];case 1:return n=s.sent(),[4,n.transaction(xa).objectStore(xa).get(e)];case 2:return r=s.sent(),r?[2,r]:[3,3];case 3:return[4,une(t.appConfig.senderId)];case 4:return i=s.sent(),i?[4,yI(t,i)]:[3,6];case 5:return s.sent(),[2,i];case 6:return[2]}})})}function yI(t,e){return N(this,void 0,void 0,function(){var n,r,i;return C(this,function(s){switch(s.label){case 0:return n=_I(t),[4,mI()];case 1:return r=s.sent(),i=r.transaction(xa,"readwrite"),[4,i.objectStore(xa).put(e,n)];case 2:return s.sent(),[4,i.complete];case 3:return s.sent(),[2,e]}})})}function hne(t){return N(this,void 0,void 0,function(){var e,n,r;return C(this,function(i){switch(i.label){case 0:return e=_I(t),[4,mI()];case 1:return n=i.sent(),r=n.transaction(xa,"readwrite"),[4,r.objectStore(xa).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function _I(t){var e=t.appConfig;return e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dne(t,e){return N(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return C(this,function(h){switch(h.label){case 0:return[4,bI(t)];case 1:n=h.sent(),r=XU(e),i={method:"POST",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(wI(t.appConfig),i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw c=h.sent(),rt.create("token-subscribe-failed",{errorInfo:c});case 6:if(s.error)throw l=s.error.message,rt.create("token-subscribe-failed",{errorInfo:l});if(!s.token)throw rt.create("token-subscribe-no-token");return[2,s.token]}})})}function pne(t,e){return N(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return C(this,function(h){switch(h.label){case 0:return[4,bI(t)];case 1:n=h.sent(),r=XU(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(wI(t.appConfig)+"/"+e.token,i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw c=h.sent(),rt.create("token-update-failed",{errorInfo:c});case 6:if(s.error)throw l=s.error.message,rt.create("token-update-failed",{errorInfo:l});if(!s.token)throw rt.create("token-update-no-token");return[2,s.token]}})})}function QU(t,e){return N(this,void 0,void 0,function(){var n,r,i,s,a,c;return C(this,function(l){switch(l.label){case 0:return[4,bI(t)];case 1:n=l.sent(),r={method:"DELETE",headers:n},l.label=2;case 2:return l.trys.push([2,5,,6]),[4,fetch(wI(t.appConfig)+"/"+e,r)];case 3:return i=l.sent(),[4,i.json()];case 4:if(s=l.sent(),s.error)throw a=s.error.message,rt.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw c=l.sent(),rt.create("token-unsubscribe-failed",{errorInfo:c});case 6:return[2]}})})}function wI(t){var e=t.projectId;return Zte+"/projects/"+e+"/registrations"}function bI(t){var e=t.appConfig,n=t.installations;return N(this,void 0,void 0,function(){var r;return C(this,function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return r=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function XU(t){var e=t.p256dh,n=t.auth,r=t.endpoint,i=t.vapidKey,s={web:{endpoint:r,auth:n,p256dh:e}};return i!==Rv&&(s.web.applicationPubKey=i),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vne=7*24*60*60*1e3;function v0(t,e,n){return N(this,void 0,void 0,function(){var r,i,s,a;return C(this,function(c){switch(c.label){case 0:if(Notification.permission!=="granted")throw rt.create("permission-blocked");return[4,mne(e,n)];case 1:return r=c.sent(),[4,Ov(t)];case 2:return i=c.sent(),s={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:io(r.getKey("auth")),p256dh:io(r.getKey("p256dh"))},i?[3,3]:[2,vO(t,s)];case 3:if(yne(i.subscriptionOptions,s))return[3,8];c.label=4;case 4:return c.trys.push([4,6,,7]),[4,QU(t,i.token)];case 5:return c.sent(),[3,7];case 6:return a=c.sent(),console.warn(a),[3,7];case 7:return[2,vO(t,s)];case 8:return Date.now()>=i.createTime+vne?[2,gne({token:i.token,createTime:Date.now(),subscriptionOptions:s},t,e)]:[2,i.token];case 9:return[2]}})})}function mf(t,e){return N(this,void 0,void 0,function(){var n,r;return C(this,function(i){switch(i.label){case 0:return[4,Ov(t)];case 1:return n=i.sent(),n?[4,QU(t,n.token)]:[3,4];case 2:return i.sent(),[4,hne(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function gne(t,e,n){return N(this,void 0,void 0,function(){var r,i,s;return C(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,pne(e,t)];case 1:return r=a.sent(),i=ye(ye({},t),{token:r,createTime:Date.now()}),[4,yI(e,i)];case 2:return a.sent(),[2,r];case 3:return s=a.sent(),[4,mf(e,n)];case 4:throw a.sent(),s;case 5:return[2]}})})}function vO(t,e){return N(this,void 0,void 0,function(){var n,r;return C(this,function(i){switch(i.label){case 0:return[4,dne(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,yI(t,r)];case 2:return i.sent(),[2,r.token]}})})}function mne(t,e){return N(this,void 0,void 0,function(){var n;return C(this,function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:sne(e)})]}})})}function yne(t,e){var n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ne(t){var e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcm_message_id};return wne(e,t),bne(e,t),Ene(e,t),e}function wne(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}function bne(t,e){e.data&&(t.data=e.data)}function Ene(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JU(t){return typeof t=="object"&&!!t&&YU in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(t){return new Promise(function(e){setTimeout(e,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tne=function(){function t(e){var n=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(n.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(n.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(n.onNotificationClick(r))})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||typeof e!="function")throw rt.create("invalid-bg-handler");this.bgMessageHandler=e},t.prototype.onBackgroundMessage=function(e){var n=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){n.bgMessageHandler=null}},t.prototype.getToken=function(){var e,n;return N(this,void 0,void 0,function(){var r;return C(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,Ov(this.firebaseDependencies)];case 1:r=i.sent(),this.vapidKey=(n=(e=r==null?void 0:r.subscriptionOptions)===null||e===void 0?void 0:e.vapidKey)!==null&&n!==void 0?n:Rv,i.label=2;case 2:return[2,v0(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},t.prototype.deleteToken=function(){return mf(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw rt.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(e){if(this.vapidKey!==null)throw rt.create("use-vapid-key-after-get-token");if(typeof e!="string"||e.length===0)throw rt.create("invalid-vapid-key");this.vapidKey=e},t.prototype.useServiceWorker=function(){throw rt.create("only-available-in-window")},t.prototype.onMessage=function(){throw rt.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw rt.create("only-available-in-window")},t.prototype.onPush=function(e){return N(this,void 0,void 0,function(){var n,r,i,s;return C(this,function(a){switch(a.label){case 0:return n=Sne(e),n?[4,ZU()]:(console.debug(ene+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return r=a.sent(),Cne(r)?[2,Nne(r,n)]:(i=!1,n.notification?[4,kne(Ine(n))]:[3,3]);case 2:a.sent(),i=!0,a.label=3;case 3:return i===!0&&this.isOnBackgroundMessageUsed===!1?[2]:(this.bgMessageHandler&&(s=_ne(n),typeof this.bgMessageHandler=="function"?this.bgMessageHandler(s):this.bgMessageHandler.next(s)),[4,gO(ine)]);case 4:return a.sent(),[2]}})})},t.prototype.onSubChange=function(e){var n,r;return N(this,void 0,void 0,function(){var i,s;return C(this,function(a){switch(a.label){case 0:return i=e.newSubscription,i?[3,2]:[4,mf(this.firebaseDependencies,self.registration)];case 1:return a.sent(),[2];case 2:return[4,Ov(this.firebaseDependencies)];case 3:return s=a.sent(),[4,mf(this.firebaseDependencies,self.registration)];case 4:return a.sent(),[4,v0(this.firebaseDependencies,self.registration,(r=(n=s==null?void 0:s.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&r!==void 0?r:Rv)];case 5:return a.sent(),[2]}})})},t.prototype.onNotificationClick=function(e){var n,r;return N(this,void 0,void 0,function(){var i,s,a,c,l;return C(this,function(h){switch(h.label){case 0:if(i=(r=(n=e.notification)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r[zU],i){if(e.action)return[2]}else return[2];return e.stopImmediatePropagation(),e.notification.close(),s=Rne(i),s?(a=new URL(s,self.location.href),c=new URL(self.location.origin),a.host!==c.host?[2]:[4,Ane(a)]):[2];case 1:return l=h.sent(),l?[3,4]:[4,self.clients.openWindow(s)];case 2:return l=h.sent(),[4,gO(one)];case 3:return h.sent(),[3,6];case 4:return[4,l.focus()];case 5:l=h.sent(),h.label=6;case 6:return l?(i.messageType=Pa.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,l.postMessage(i)]):[2]}})})},t}();function Ine(t){var e,n=ye({},t.notification);return n.data=(e={},e[zU]=t,e),n}function Sne(t){var e=t.data;if(!e)return null;try{return e.json()}catch{return null}}function Ane(t){return N(this,void 0,void 0,function(){var e,n,r,i,s,a,c;return C(this,function(l){switch(l.label){case 0:return[4,ZU()];case 1:e=l.sent();try{for(n=nn(e),r=n.next();!r.done;r=n.next())if(i=r.value,s=new URL(i.url,self.location.href),t.host===s.host)return[2,i]}catch(h){a={error:h}}finally{try{r&&!r.done&&(c=n.return)&&c.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function Cne(t){return t.some(function(e){return e.visibilityState==="visible"&&!e.url.startsWith("chrome-extension://")})}function Nne(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=Pa.PUSH_RECEIVED;try{for(var i=nn(t),s=i.next();!s.done;s=i.next()){var a=s.value;a.postMessage(e)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function ZU(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function kne(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification((e=t.title)!==null&&e!==void 0?e:"",t)}function Rne(t){var e,n,r,i=(n=(e=t.fcmOptions)===null||e===void 0?void 0:e.link)!==null&&n!==void 0?n:(r=t.notification)===null||r===void 0?void 0:r.click_action;return i||(JU(t.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var One=function(){function t(e){var n=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return n.messageEventListener(r)})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(e){return N(this,void 0,void 0,function(){var n,r;return C(this,function(i){switch(i.label){case 0:return n=e.data,n.isFirebaseMessaging?(this.onMessageCallback&&n.messageType===Pa.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback(Pne(Object.assign({},n))):this.onMessageCallback.next(Object.assign({},n))),r=n.data,JU(r)&&r[tne]==="1"?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(e){return N(this,void 0,void 0,function(){return C(this,function(n){switch(n.label){case 0:return Notification.permission!=="default"?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if(Notification.permission!=="granted")throw rt.create("permission-blocked");return[4,this.updateVapidKey(e==null?void 0:e.vapidKey)];case 3:return n.sent(),[4,this.updateSwReg(e==null?void 0:e.serviceWorkerRegistration)];case 4:return n.sent(),[2,v0(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},t.prototype.updateVapidKey=function(e){return N(this,void 0,void 0,function(){return C(this,function(n){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=Rv),[2]})})},t.prototype.updateSwReg=function(e){return N(this,void 0,void 0,function(){return C(this,function(n){switch(n.label){case 0:return!e&&!this.swRegistration?[4,this.registerDefaultSw()]:[3,2];case 1:n.sent(),n.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw rt.create("invalid-sw-registration");return this.swRegistration=e,[2]}})})},t.prototype.registerDefaultSw=function(){return N(this,void 0,void 0,function(){var e,n;return C(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register(Xte,{scope:Jte})];case 1:return e.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=r.sent(),rt.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},t.prototype.deleteToken=function(){return N(this,void 0,void 0,function(){return C(this,function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,mf(this.firebaseDependencies,this.swRegistration)]}})})},t.prototype.requestPermission=function(){return N(this,void 0,void 0,function(){var e;return C(this,function(n){switch(n.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if(e=n.sent(),e==="granted")return[2];throw e==="denied"?rt.create("permission-blocked"):rt.create("permission-default")}})})},t.prototype.usePublicVapidKey=function(e){if(this.vapidKey!==null)throw rt.create("use-vapid-key-after-get-token");if(typeof e!="string"||e.length===0)throw rt.create("invalid-vapid-key");this.vapidKey=e},t.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw rt.create("invalid-sw-registration");if(this.swRegistration)throw rt.create("use-sw-after-get-token");this.swRegistration=e},t.prototype.onMessage=function(e){var n=this;return this.onMessageCallback=e,function(){n.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw rt.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw rt.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(e,n){return N(this,void 0,void 0,function(){var r,i;return C(this,function(s){switch(s.label){case 0:return r=Dne(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i=s.sent(),i.logEvent(r,{message_id:n[YU],message_name:n[rne],message_time:n[nne],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},t}();function Dne(t){switch(t){case Pa.NOTIFICATION_CLICKED:return"notification_open";case Pa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Pne(t){return delete t.messageType,delete t.isFirebaseMessaging,t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xne(t){var e,n;if(!t||!t.options)throw Lw("App Configuration Object");if(!t.name)throw Lw("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=t.options;try{for(var s=nn(r),a=s.next();!a.done;a=s.next()){var c=a.value;if(!i[c])throw Lw(c)}}catch(l){e={error:l}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return{appName:t.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function Lw(t){return rt.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lne="messaging";function Mne(t){var e=t.getProvider("app").getImmediate(),n=xne(e),r=t.getProvider("installations").getImmediate(),i=t.getProvider("analytics-internal"),s={app:e,appConfig:n,installations:r,analyticsProvider:i};if(!eV())throw rt.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new Tne(s):new One(s)}var Fne={isSupported:eV};ce.INTERNAL.registerComponent(new kn(Lne,Mne,"PUBLIC").setServiceProps(Fne));function eV(){return self&&"ServiceWorkerGlobalScope"in self?Vne():Une()}function Une(){return"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function Vne(){return"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tV="firebasestorage.googleapis.com",nV="storageBucket",jne=2*60*1e3,Bne=10*60*1e3,jt=function(t){re(e,t);function e(n,r){var i=t.call(this,Mw(n),"Firebase Storage: "+r+" ("+Mw(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return e.prototype._codeEquals=function(n){return Mw(n)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),e}(Vc);function Mw(t){return"storage/"+t}function EI(){var t="An unknown error occurred, please check the error payload for server response.";return new jt("unknown",t)}function $ne(t){return new jt("object-not-found","Object '"+t+"' does not exist.")}function qne(t){return new jt("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Hne(){var t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new jt("unauthenticated",t)}function Kne(){return new jt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function Wne(t){return new jt("unauthorized","User does not have permission to access '"+t+"'.")}function Gne(){return new jt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function rV(){return new jt("canceled","User canceled the upload/download.")}function zne(t){return new jt("invalid-url","Invalid URL '"+t+"'.")}function Yne(t){return new jt("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function Qne(){return new jt("no-default-bucket","No default bucket found. Did you set the '"+nV+"' property when initializing the app?")}function iV(){return new jt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Xne(){return new jt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function Jne(){return new jt("no-download-url","The given file does not have any download URLs.")}function Hu(t){return new jt("invalid-argument",t)}function oV(){return new jt("app-deleted","The Firebase app was deleted.")}function sV(t){return new jt("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function yf(t,e){return new jt("invalid-format","String does not match format '"+t+"': "+e)}function cp(t){throw new jt("internal-error","Internal error: "+t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zne(t){return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Fw=function(){function t(e,n){this.data=e,this.contentType=n||null}return t}();function aV(t,e){switch(t){case xr.RAW:return new Fw(uV(e));case xr.BASE64:case xr.BASE64URL:return new Fw(cV(t,e));case xr.DATA_URL:return new Fw(tre(e),nre(e))}throw EI()}function uV(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296){var i=n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320;if(!i)e.push(239,191,189);else{var s=r,a=t.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function ere(t){var e;try{e=decodeURIComponent(t)}catch{throw yf(xr.DATA_URL,"Malformed data URL.")}return uV(e)}function cV(t,e){switch(t){case xr.BASE64:{var n=e.indexOf("-")!==-1,r=e.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw yf(t,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case xr.BASE64URL:{var s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a){var i=s?"+":"/";throw yf(t,"Invalid character '"+i+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/");break}}var c;try{c=Zne(e)}catch{throw yf(t,"Invalid character found")}for(var l=new Uint8Array(c.length),h=0;h<c.length;h++)l[h]=c.charCodeAt(h);return l}var lV=function(){function t(e){this.base64=!1,this.contentType=null;var n=e.match(/^data:([^,]+)?,/);if(n===null)throw yf(xr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=rre(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}return t}();function tre(t){var e=new lV(t);return e.base64?cV(xr.BASE64,e.rest):ere(e.rest)}function nre(t){var e=new lV(t);return e.contentType}function rre(t,e){var n=t.length>=e.length;return n?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ire={STATE_CHANGED:"state_changed"},Vn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Uw(t){switch(t){case"running":case"pausing":case"canceling":return Vn.RUNNING;case"paused":return Vn.PAUSED;case"success":return Vn.SUCCESS;case"canceled":return Vn.CANCELED;case"error":return Vn.ERROR;default:return Vn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ma;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ma||(ma={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ore=function(){function t(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=ma.NO_ERROR,this.sendPromise_=new Promise(function(n){e.xhr_.addEventListener("abort",function(){e.errorCode_=ma.ABORT,n()}),e.xhr_.addEventListener("error",function(){e.errorCode_=ma.NETWORK_ERROR,n()}),e.xhr_.addEventListener("load",function(){n()})})}return t.prototype.send=function(e,n,r,i){if(this.sent_)throw cp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(var s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw cp("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw cp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw cp("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},t.prototype.addUploadProgressListener=function(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)},t.prototype.removeUploadProgressListener=function(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)},t}();function sre(){return new ore}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var are=function(){function t(){}return t.prototype.createConnection=function(){return sre()},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lr=function(){function t(e,n){this.bucket=e,this.path_=n}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},t.prototype.bucketOnlyServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw Yne(e)},t.makeFromUrl=function(e,n){var r=null,i="([A-Za-z0-9.\\-_]+)";function s(Ie){Ie.path.charAt(Ie.path.length-1)==="/"&&(Ie.path_=Ie.path_.slice(0,-1))}var a="(/(.*))?$",c=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function h(Ie){Ie.path_=decodeURIComponent(Ie.path)}for(var d="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",y=new RegExp("^https?://"+v+"/"+d+"/b/"+i+"/o"+g,"i"),w={bucket:1,path:3},E=n===tV?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",A=new RegExp("^https?://"+E+"/"+i+"/"+T,"i"),O={bucket:1,path:2},P=[{regex:c,indices:l,postModify:s},{regex:y,indices:w,postModify:h},{regex:A,indices:O,postModify:h}],x=0;x<P.length;x++){var B=P[x],M=B.regex.exec(e);if(M){var ie=M[B.indices.bucket],Z=M[B.indices.path];Z||(Z=""),r=new t(ie,Z),B.postModify(r);break}}if(r==null)throw zne(e);return r},t}(),ure=function(){function t(e){this.promise_=Promise.reject(e)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cre(t,e,n){var r=1,i=null,s=!1,a=0;function c(){return a===2}var l=!1;function h(){for(var w=[],E=0;E<arguments.length;E++)w[E]=arguments[E];l||(l=!0,e.apply(null,w))}function d(w){i=setTimeout(function(){i=null,t(v,c())},w)}function v(w){for(var E=[],T=1;T<arguments.length;T++)E[T-1]=arguments[T];if(!l){if(w){h.call.apply(h,xe([null,w],E));return}var A=c()||s;if(A){h.call.apply(h,xe([null,w],E));return}r<64&&(r*=2);var O;a===1?(a=2,O=0):O=(r+Math.random())*1e3,d(O)}}var g=!1;function y(w){g||(g=!0,!l&&(i!==null?(w||(a=2),clearTimeout(i),d(0)):w||(a=1)))}return d(0),setTimeout(function(){s=!0,y(!0)},n),y}function lre(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fre(t){return t!==void 0}function hre(t){return typeof t=="function"}function dre(t){return typeof t=="object"&&!Array.isArray(t)}function nm(t){return typeof t=="string"||t instanceof String}function mO(t){return TI()&&t instanceof Blob}function TI(){return typeof Blob<"u"}function g0(t,e,n,r){if(r<e)throw Hu("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw Hu("Invalid value for '"+t+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(t,e){var n=e.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],i=e;return r==null&&(i="https://"+e),i+"/v0"+t}function fV(t){var e=encodeURIComponent,n="?";for(var r in t)if(t.hasOwnProperty(r)){var i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pre=function(){function t(e,n,r,i,s,a,c,l,h,d,v){var g=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=c,this.errorCallback_=l,this.progressCallback_=d,this.timeout_=h,this.pool_=v,this.promise_=new Promise(function(y,w){g.resolve_=y,g.reject_=w,g.start_()})}return t.prototype.start_=function(){var e=this;function n(i,s){if(s){i(!1,new lp(!1,null,!0));return}var a=e.pool_.createConnection();e.pendingConnection_=a;function c(l){var h=l.loaded,d=l.lengthComputable?l.total:-1;e.progressCallback_!==null&&e.progressCallback_(h,d)}e.progressCallback_!==null&&a.addUploadProgressListener(c),a.send(e.url_,e.method_,e.body_,e.headers_).then(function(){e.progressCallback_!==null&&a.removeUploadProgressListener(c),e.pendingConnection_=null;var l=a.getErrorCode()===ma.NO_ERROR,h=a.getStatus();if(!l||e.isRetryStatusCode_(h)){var d=a.getErrorCode()===ma.ABORT;i(!1,new lp(!1,null,d));return}var v=e.successCodes_.indexOf(h)!==-1;i(!0,new lp(v,a))})}function r(i,s){var a=e.resolve_,c=e.reject_,l=s.connection;if(s.wasSuccessCode)try{var h=e.callback_(l,l.getResponseText());fre(h)?a(h):a()}catch(v){c(v)}else if(l!==null){var d=EI();d.serverResponse=l.getResponseText(),e.errorCallback_?c(e.errorCallback_(l,d)):c(d)}else if(s.canceled){var d=e.appDelete_?oV():rV();c(d)}else{var d=Gne();c(d)}}this.canceled_?r(!1,new lp(!1,null,!0)):this.backoffId_=cre(n,r,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&lre(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},t.prototype.isRetryStatusCode_=function(e){var n=e>=500&&e<600,r=[408,429],i=r.indexOf(e)!==-1,s=this.additionalRetryCodes_.indexOf(e)!==-1;return n||i||s},t}(),lp=function(){function t(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}return t}();function vre(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function gre(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function mre(t,e){e&&(t["X-Firebase-GMPID"]=e)}function yre(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function _re(t,e,n,r,i,s){var a=fV(t.urlParams),c=t.url+a,l=Object.assign({},t.headers);return mre(l,e),vre(l,n),gre(l,s),yre(l,r),new pre(c,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wre(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function bre(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=wre();if(n!==void 0){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}else{if(TI())return new Blob(t);throw new jt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function Ere(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var II=function(){function t(e,n){var r=0,i="";mO(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(mO(this.data_)){var r=this.data_,i=Ere(r,e,n);return i===null?null:new t(i)}else{var s=new Uint8Array(this.data_.buffer,e,n-e);return new t(s,!0)}},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(TI()){var r=e.map(function(l){return l instanceof t?l.data_:l});return new t(bre.apply(null,r))}else{var i=e.map(function(l){return nm(l)?aV(xr.RAW,l).data:l.data_}),s=0;i.forEach(function(l){s+=l.byteLength});var a=new Uint8Array(s),c=0;return i.forEach(function(l){for(var h=0;h<l.length;h++)a[c++]=l[h]}),new t(a,!0)}},t.prototype.uploadData=function(){return this.data_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(t){var e;try{e=JSON.parse(t)}catch{return null}return dre(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tre(t){if(t.length===0)return null;var e=t.lastIndexOf("/");if(e===-1)return"";var n=t.slice(0,e);return n}function Ire(t,e){var n=e.split("/").filter(function(r){return r.length>0}).join("/");return t.length===0?n:t+"/"+n}function hV(t){var e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sre(t,e){return e}var Ln=function(){function t(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Sre}return t}(),fp=null;function Are(t){return!nm(t)||t.length<2?t:hV(t)}function rm(){if(fp)return fp;var t=[];t.push(new Ln("bucket")),t.push(new Ln("generation")),t.push(new Ln("metageneration")),t.push(new Ln("name","fullPath",!0));function e(s,a){return Are(a)}var n=new Ln("name");n.xform=e,t.push(n);function r(s,a){return a!==void 0?Number(a):a}var i=new Ln("size");return i.xform=r,t.push(i),t.push(new Ln("timeCreated")),t.push(new Ln("updated")),t.push(new Ln("md5Hash",null,!0)),t.push(new Ln("cacheControl",null,!0)),t.push(new Ln("contentDisposition",null,!0)),t.push(new Ln("contentEncoding",null,!0)),t.push(new Ln("contentLanguage",null,!0)),t.push(new Ln("contentType",null,!0)),t.push(new Ln("metadata","customMetadata",!0)),fp=t,fp}function Cre(t,e){function n(){var r=t.bucket,i=t.fullPath,s=new Lr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function Nre(t,e,n){var r={};r.type="file";for(var i=n.length,s=0;s<i;s++){var a=n[s];r[a.local]=a.xform(r,e[a.server])}return Cre(r,t),r}function dV(t,e,n){var r=SI(e);if(r===null)return null;var i=r;return Nre(t,i,n)}function kre(t,e,n){var r=SI(e);if(r===null||!nm(r.downloadTokens))return null;var i=r.downloadTokens;if(i.length===0)return null;var s=encodeURIComponent,a=i.split(","),c=a.map(function(l){var h=t.bucket,d=t.fullPath,v="/b/"+s(h)+"/o/"+s(d),g=bs(v,n),y=fV({alt:"media",token:l});return g+y});return c[0]}function AI(t,e){for(var n={},r=e.length,i=0;i<r;i++){var s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yO="prefixes",_O="items";function Rre(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[yO])for(var i=0,s=n[yO];i<s.length;i++){var a=s[i],c=a.replace(/\/$/,""),l=t._makeStorageReference(new Lr(e,c));r.prefixes.push(l)}if(n[_O])for(var h=0,d=n[_O];h<d.length;h++){var v=d[h],l=t._makeStorageReference(new Lr(e,v.name));r.items.push(l)}return r}function Ore(t,e,n){var r=SI(n);if(r===null)return null;var i=r;return Rre(t,e,i)}var So=function(){function t(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(t){if(!t)throw EI()}function im(t,e){function n(r,i){var s=dV(t,i,e);return Fi(s!==null),s}return n}function Dre(t,e){function n(r,i){var s=Ore(t,e,i);return Fi(s!==null),s}return n}function Pre(t,e){function n(r,i){var s=dV(t,i,e);return Fi(s!==null),kre(s,i,t.host)}return n}function tl(t){function e(n,r){var i;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?i=Kne():i=Hne():n.getStatus()===402?i=qne(t.bucket):n.getStatus()===403?i=Wne(t.path):i=r,i.serverResponse=r.serverResponse,i}return e}function om(t){var e=tl(t);function n(r,i){var s=e(r,i);return r.getStatus()===404&&(s=$ne(t.path)),s.serverResponse=i.serverResponse,s}return n}function pV(t,e,n){var r=e.fullServerUrl(),i=bs(r,t.host),s="GET",a=t.maxOperationRetryTime,c=new So(i,s,im(t,n),a);return c.errorHandler=om(e),c}function xre(t,e,n,r,i){var s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var a=e.bucketOnlyServerUrl(),c=bs(a,t.host),l="GET",h=t.maxOperationRetryTime,d=new So(c,l,Dre(t,e.bucket),h);return d.urlParams=s,d.errorHandler=tl(e),d}function Lre(t,e,n){var r=e.fullServerUrl(),i=bs(r,t.host),s="GET",a=t.maxOperationRetryTime,c=new So(i,s,Pre(t,n),a);return c.errorHandler=om(e),c}function Mre(t,e,n,r){var i=e.fullServerUrl(),s=bs(i,t.host),a="PATCH",c=AI(n,r),l={"Content-Type":"application/json; charset=utf-8"},h=t.maxOperationRetryTime,d=new So(s,a,im(t,r),h);return d.headers=l,d.body=c,d.errorHandler=om(e),d}function Fre(t,e){var n=e.fullServerUrl(),r=bs(n,t.host),i="DELETE",s=t.maxOperationRetryTime;function a(l,h){}var c=new So(r,i,a,s);return c.successCodes=[200,204],c.errorHandler=om(e),c}function Ure(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function vV(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Ure(null,e)),r}function Vre(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function c(){for(var P="",x=0;x<2;x++)P=P+Math.random().toString().slice(2);return P}var l=c();a["Content-Type"]="multipart/related; boundary="+l;var h=vV(e,r,i),d=AI(h,n),v="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+h.contentType+`\r
\r
`,g=`\r
--`+l+"--",y=II.getBlob(v,r,g);if(y===null)throw iV();var w={name:h.fullPath},E=bs(s,t.host),T="POST",A=t.maxUploadRetryTime,O=new So(E,T,im(t,n),A);return O.urlParams=w,O.headers=a,O.body=y.uploadData(),O.errorHandler=tl(e),O}var Dv=function(){function t(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}return t}();function CI(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Fi(!1)}var r=e||["active"];return Fi(!!n&&r.indexOf(n)!==-1),n}function jre(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),a=vV(e,r,i),c={name:a.fullPath},l=bs(s,t.host),h="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},v=AI(a,n),g=t.maxUploadRetryTime;function y(E){CI(E);var T;try{T=E.getResponseHeader("X-Goog-Upload-URL")}catch{Fi(!1)}return Fi(nm(T)),T}var w=new So(l,h,y,g);return w.urlParams=c,w.headers=d,w.body=v,w.errorHandler=tl(e),w}function Bre(t,e,n,r){var i={"X-Goog-Upload-Command":"query"};function s(h){var d=CI(h,["active","final"]),v=null;try{v=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Fi(!1)}v||Fi(!1);var g=Number(v);return Fi(!isNaN(g)),new Dv(g,r.size(),d==="final")}var a="POST",c=t.maxUploadRetryTime,l=new So(n,a,s,c);return l.headers=i,l.errorHandler=tl(e),l}var wO=256*1024;function $re(t,e,n,r,i,s,a,c){var l=new Dv(0,0);if(a?(l.current=a.current,l.total=a.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw Xne();var h=l.total-l.current,d=h;i>0&&(d=Math.min(d,i));var v=l.current,g=v+d,y=d===h?"upload, finalize":"upload",w={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":""+l.current},E=r.slice(v,g);if(E===null)throw iV();function T(x,B){var M=CI(x,["active","final"]),ie=l.current+d,Z=r.size(),Ie;return M==="final"?Ie=im(e,s)(x,B):Ie=null,new Dv(ie,Z,M==="final",Ie)}var A="POST",O=e.maxUploadRetryTime,P=new So(n,A,T,O);return P.headers=w,P.body=E.uploadData(),P.progressCallback=c||null,P.errorHandler=tl(t),P}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qre=function(){function t(e,n,r){var i=hre(e)||n!=null||r!=null;if(i)this.next=e,this.error=n,this.complete=r;else{var s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}return t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gV=function(){function t(e,n,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=rm(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){i._request=void 0,i._chunkMultiplier=1,s._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=s,i._transition("error"))},this._metadataErrorHandler=function(s){i._request=void 0,s._codeEquals("canceled")?i.completeTransitions_():(i._error=s,i._transition("error"))},this._promise=new Promise(function(s,a){i._resolve=s,i._reject=a,i._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var e=this,n=this._transferred;return function(r){return e._updateProgress(n+r)}},t.prototype._shouldDoResumable=function(e){return e.size()>256*1024},t.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(e){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var i=r[0],s=r[1];switch(n._state){case"running":e(i,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},t.prototype._createResumable=function(){var e=this;this._resolveToken(function(n,r){var i=jre(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),s=e._ref.storage._makeRequest(i,n,r);e._request=s,s.getPromise().then(function(a){e._request=void 0,e._uploadUrl=a,e._needToFetchStatus=!1,e.completeTransitions_()},e._errorHandler)})},t.prototype._fetchStatus=function(){var e=this,n=this._uploadUrl;this._resolveToken(function(r,i){var s=Bre(e._ref.storage,e._ref._location,n,e._blob),a=e._ref.storage._makeRequest(s,r,i);e._request=a,a.getPromise().then(function(c){c=c,e._request=void 0,e._updateProgress(c.current),e._needToFetchStatus=!1,c.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()},e._errorHandler)})},t.prototype._continueUpload=function(){var e=this,n=wO*this._chunkMultiplier,r=new Dv(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(s,a){var c;try{c=$re(e._ref._location,e._ref.storage,i,e._blob,n,e._mappings,r,e._makeProgressCallback())}catch(h){e._error=h,e._transition("error");return}var l=e._ref.storage._makeRequest(c,s,a);e._request=l,l.getPromise().then(function(h){e._increaseMultiplier(),e._request=void 0,e._updateProgress(h.current),h.finalized?(e._metadata=h.metadata,e._transition("success")):e.completeTransitions_()},e._errorHandler)})},t.prototype._increaseMultiplier=function(){var e=wO*this._chunkMultiplier;e<32*1024*1024&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var e=this;this._resolveToken(function(n,r){var i=pV(e._ref.storage,e._ref._location,e._mappings),s=e._ref.storage._makeRequest(i,n,r);e._request=s,s.getPromise().then(function(a){e._request=void 0,e._metadata=a,e._transition("success")},e._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var e=this;this._resolveToken(function(n,r){var i=Vre(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),s=e._ref.storage._makeRequest(i,n,r);e._request=s,s.getPromise().then(function(a){e._request=void 0,e._metadata=a,e._updateProgress(e._blob.size()),e._transition("success")},e._errorHandler)})},t.prototype._updateProgress=function(e){var n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()},t.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":this._state=e,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=e,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=rV(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var e=Uw(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(e,n,r,i){var s=this,a=new qre(n,r,i);return this._addObserver(a),function(){s._removeObserver(a)}},t.prototype.then=function(e,n){return this._promise.then(e,n)},t.prototype.catch=function(e){return this.then(null,e)},t.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},t.prototype._removeObserver=function(e){var n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)},t.prototype._notifyObservers=function(){var e=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){e._notifyObserver(r)})},t.prototype._finishPromise=function(){if(this._resolve!==void 0){var e=!0;switch(Uw(this._state)){case Vn.SUCCESS:Su(this._resolve.bind(null,this.snapshot))();break;case Vn.CANCELED:case Vn.ERROR:var n=this._reject;Su(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(e){var n=Uw(this._state);switch(n){case Vn.RUNNING:case Vn.PAUSED:e.next&&Su(e.next.bind(e,this.snapshot))();break;case Vn.SUCCESS:e.complete&&Su(e.complete.bind(e))();break;case Vn.CANCELED:case Vn.ERROR:e.error&&Su(e.error.bind(e,this._error))();break;default:e.error&&Su(e.error.bind(e,this._error))()}},t.prototype.resume=function(){var e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e},t.prototype.pause=function(){var e=this._state==="running";return e&&this._transition("pausing"),e},t.prototype.cancel=function(){var e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sm=function(){function t(e,n){this._service=e,n instanceof Lr?this._location=n:this._location=Lr.makeFromUrl(n,e.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var e=new Lr(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return hV(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=Tre(this._location.path);if(e===null)return null;var n=new Lr(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(e){if(this._location.path==="")throw sV(e)},t}();function Hre(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new gV(t,new II(e),n)}function Kre(t){var e={prefixes:[],items:[]};return mV(t,e).then(function(){return e})}function mV(t,e,n){return N(this,void 0,void 0,function(){var r,i,s,a;return C(this,function(c){switch(c.label){case 0:return r={pageToken:n},[4,yV(t,r)];case 1:return i=c.sent(),(s=e.prefixes).push.apply(s,i.prefixes),(a=e.items).push.apply(a,i.items),i.nextPageToken==null?[3,3]:[4,mV(t,e,i.nextPageToken)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function yV(t,e){return N(this,void 0,void 0,function(){var n,r;return C(this,function(i){switch(i.label){case 0:return e!=null&&typeof e.maxResults=="number"&&g0("options.maxResults",1,1e3,e.maxResults),n=e||{},r=xre(t.storage,t._location,"/",n.pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function Wre(t){return N(this,void 0,void 0,function(){var e;return C(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=pV(t.storage,t._location,rm()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}function Gre(t,e){return N(this,void 0,void 0,function(){var n;return C(this,function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=Mre(t.storage,t._location,e,rm()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function zre(t){return N(this,void 0,void 0,function(){var e;return C(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=Lre(t.storage,t._location,rm()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw Jne();return r})]}})})}function Yre(t){return N(this,void 0,void 0,function(){var e;return C(this,function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=Fre(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}function _V(t,e){var n=Ire(t._location.path,e),r=new Lr(t._location.bucket,n);return new sm(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(t){return/^[A-Za-z]+:\/\//.test(t)}function Qre(t,e){return new sm(t,e)}function wV(t,e){if(t instanceof am){var n=t;if(n._bucket==null)throw Qne();var r=new sm(n,n._bucket);return e!=null?wV(r,e):r}else return e!==void 0?_V(t,e):t}function Xre(t,e){if(e&&m0(e)){if(t instanceof am)return Qre(t,e);throw Hu("To use ref(service, url), the first argument must be a Storage instance.")}else return wV(t,e)}function bO(t,e){var n=e==null?void 0:e[nV];return n==null?null:Lr.makeFromBucketSpec(n,t)}function Jre(t,e,n,r){r===void 0&&(r={}),t.host="http://"+e+":"+n;var i=r.mockUserToken;i&&(t._overrideAuthToken=typeof i=="string"?i:sE(i,t.app.options.projectId))}var am=function(){function t(e,n,r,i,s,a){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._pool=i,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=tV,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=jne,this._maxUploadRetryTime=Bne,this._requests=new Set,s!=null?this._bucket=Lr.makeFromBucketSpec(s,this._host):this._bucket=bO(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,this._url!=null?this._bucket=Lr.makeFromBucketSpec(this._url,e):this._bucket=bO(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){g0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){g0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return N(this,void 0,void 0,function(){var e,n;return C(this,function(r){switch(r.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(e=this._authProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2]);case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},t.prototype._getAppCheckToken=function(){return N(this,void 0,void 0,function(){var e,n;return C(this,function(r){switch(r.label){case 0:return e=this._appCheckProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(e){return e.cancel()}),this._requests.clear()),Promise.resolve()},t.prototype._makeStorageReference=function(e){return new sm(this,e)},t.prototype._makeRequest=function(e,n,r){var i=this;if(this._deleted)return new ure(oV());var s=_re(e,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return i._requests.delete(s)},function(){return i._requests.delete(s)}),s},t.prototype.makeRequestWithTokens=function(e){return N(this,void 0,void 0,function(){var n,r,i;return C(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),r=n[0],i=n[1],[2,this._makeRequest(e,r,i)]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zre(t,e,n){return t=Pe(t),Hre(t,e,n)}function eie(t){return t=Pe(t),Wre(t)}function tie(t,e){return t=Pe(t),Gre(t,e)}function nie(t,e){return t=Pe(t),yV(t,e)}function rie(t){return t=Pe(t),Kre(t)}function iie(t){return t=Pe(t),zre(t)}function oie(t){return t=Pe(t),Yre(t)}function EO(t,e){return t=Pe(t),Xre(t,e)}function sie(t,e){return _V(t,e)}function aie(t,e,n,r){r===void 0&&(r={}),Jre(t,e,n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hp=function(){function t(e,n,r){this._delegate=e,this.task=n,this.ref=r}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TO=function(){function t(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new hp(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(e,n){var r=this;return this._delegate.then(function(i){if(e)return e(new hp(i,r,r._ref))},n)},t.prototype.on=function(e,n,r,i){var s=this,a=void 0;return n&&(typeof n=="function"?a=function(c){return n(new hp(c,s,s._ref))}:a={next:n.next?function(c){return n.next(new hp(c,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)},t}(),IO=function(){function t(e,n){this._delegate=e,this._service=n}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map(function(n){return new Jf(n,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var e=this;return this._delegate.items.map(function(n){return new Jf(n,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jf=function(){function t(e,n){this._delegate=e,this.storage=n}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){var n=sie(this._delegate,e);return new t(n,this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e==null?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(e,n){return this._throwIfRoot("put"),new TO(Zre(this._delegate,e,n),this)},t.prototype.putString=function(e,n,r){n===void 0&&(n=xr.RAW),this._throwIfRoot("putString");var i=aV(n,e),s=ye({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new TO(new gV(this._delegate,new II(i.data,!0),s),this)},t.prototype.listAll=function(){var e=this;return rie(this._delegate).then(function(n){return new IO(n,e.storage)})},t.prototype.list=function(e){var n=this;return nie(this._delegate,e||void 0).then(function(r){return new IO(r,n.storage)})},t.prototype.getMetadata=function(){return eie(this._delegate)},t.prototype.updateMetadata=function(e){return tie(this._delegate,e)},t.prototype.getDownloadURL=function(){return iie(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),oie(this._delegate)},t.prototype._throwIfRoot=function(e){if(this._delegate._location.path==="")throw sV(e)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uie=function(){function t(e,n){this.app=e,this._delegate=n}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(e){if(m0(e))throw Hu("ref() expected a child path but got a URL, use refFromURL instead.");return new Jf(EO(this._delegate,e),this)},t.prototype.refFromURL=function(e){if(!m0(e))throw Hu("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Lr.makeFromUrl(e,this._delegate.host)}catch{throw Hu("refFromUrl() expected a valid full URL but got an invalid one.")}return new Jf(EO(this._delegate,e),this)},t.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},t.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},t.prototype.useEmulator=function(e,n,r){r===void 0&&(r={}),aie(this._delegate,e,n,r)},t}(),cie="@firebase/storage",lie="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fie="storage";function hie(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal"),a=new uie(r,new am(r,i,s,new are,n,ce.SDK_VERSION));return a}function die(t){var e={TaskState:Vn,TaskEvent:ire,StringFormat:xr,Storage:am,Reference:Jf};t.INTERNAL.registerComponent(new kn(fie,hie,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(cie,lie)}die(ce);var pie="@firebase/performance",bV="0.4.18";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EV=bV,vie="FB-PERF-TRACE-START",gie="FB-PERF-TRACE-STOP",y0="FB-PERF-TRACE-MEASURE",TV="_wt_",IV="_fp",SV="_fcp",AV="_fid",CV="@firebase/performance/config",NV="@firebase/performance/configexpire",mie="performance",kV="Performance";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un,yie=(un={},un["trace started"]="Trace {$traceName} was started before.",un["trace stopped"]="Trace {$traceName} is not running.",un["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",un["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",un["no window"]="Window is not available.",un["no app id"]="App id is not available.",un["no project id"]="Project id is not available.",un["no api key"]="Api key is not available.",un["invalid cc log"]="Attempted to queue invalid cc event",un["FB not default"]="Performance can only start when Firebase app instance is the default one.",un["RC response not ok"]="RC response is not ok",un["invalid attribute name"]="Attribute name {$attributeName} is invalid.",un["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",un["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",un["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",un),En=new Eo(mie,kV,yie);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _o=new Fa(kV);_o.logLevel=je.INFO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vw,RV,Cn=function(){function t(e){if(this.window=e,!e)throw En.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(e){!this.performance||!this.performance.mark||this.performance.mark(e)},t.prototype.measure=function(e,n,r){!this.performance||!this.performance.measure||this.performance.measure(e,n,r)},t.prototype.getEntriesByType=function(e){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(e)},t.prototype.getEntriesByName=function(e){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(e)},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return!fetch||!Promise||!this.navigator||!this.navigator.cookieEnabled?(_o.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):ah()?!0:(_o.info("IndexedDB is not supported by current browswer"),!1)},t.prototype.setupObserver=function(e,n){if(this.PerformanceObserver){var r=new this.PerformanceObserver(function(i){for(var s=0,a=i.getEntries();s<a.length;s++){var c=a[s];n(c)}});r.observe({entryTypes:[e]})}},t.getInstance=function(){return Vw===void 0&&(Vw=new t(RV)),Vw},t}();function _ie(t){RV=t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(t,e){var n=t.length-e.length;if(n<0||n>1)throw En.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jw,Ht=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=SO("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=SO("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw En.create("no app id");return e},t.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw En.create("no project id");return e},t.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw En.create("no api key");return e},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return jw===void 0&&(jw=new t),jw},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OV;function wie(){var t=Ht.getInstance().installationsService.getId();return t.then(function(e){OV=e}),t}function NI(){return OV}function bie(){var t=Ht.getInstance().installationsService.getToken();return t.then(function(e){}),t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ku;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"})(Ku||(Ku={}));var Eie=["firebase_","google_","ga_"],Tie=new RegExp("^[a-zA-Z]\\w*$"),Iie=40,Sie=100;function Aie(){var t=Cn.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function DV(){var t=Cn.getInstance().document,e=t.visibilityState;switch(e){case"visible":return Ku.VISIBLE;case"hidden":return Ku.HIDDEN;default:return Ku.UNKNOWN}}function Cie(){var t=Cn.getInstance().navigator,e=t.connection,n=e&&e.effectiveType;switch(n){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function Nie(t){if(t.length===0||t.length>Iie)return!1;var e=Eie.some(function(n){return t.startsWith(n)});return!e&&!!t.match(Tie)}function kie(t){return t.length!==0&&t.length<=Sie}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rie="0.0.1",Oie={loggingEnabled:!0},Die="FIREBASE_INSTALLATIONS_AUTH";function Pie(t){var e=xie();return e?(AO(e),Promise.resolve()):Fie(t).then(AO).then(function(n){return Lie(n)},function(){})}function xie(){var t=Cn.getInstance().localStorage;if(t){var e=t.getItem(NV);if(!(!e||!Uie(e))){var n=t.getItem(CV);if(n)try{var r=JSON.parse(n);return r}catch{return}}}}function Lie(t){var e=Cn.getInstance().localStorage;!t||!e||(e.setItem(CV,JSON.stringify(t)),e.setItem(NV,String(Date.now()+Ht.getInstance().configTimeToLive*60*60*1e3)))}var Mie="Could not fetch config, will use default configs";function Fie(t){return bie().then(function(e){var n=Ht.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+Ht.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:Die+" "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:Ht.getInstance().getAppId(),app_version:EV,sdk_version:Rie})});return fetch(i).then(function(s){if(s.ok)return s.json();throw En.create("RC response not ok")})}).catch(function(){_o.info(Mie)})}function AO(t){if(!t)return t;var e=Ht.getInstance(),n=t.entries||{};return n.fpr_enabled!==void 0?e.loggingEnabled=String(n.fpr_enabled)==="true":e.loggingEnabled=Oie.loggingEnabled,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),n.fpr_vc_network_request_sampling_rate!==void 0&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),n.fpr_vc_trace_sampling_rate!==void 0&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=CO(e.tracesSamplingRate),e.logNetworkAfterSampling=CO(e.networkRequestsSamplingRate),t}function Uie(t){return Number(t)>Date.now()}function CO(t){return Math.random()<=t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kI=1,Bw;function PV(){return kI=2,Bw=Bw||jie(),Bw}function Vie(){return kI===3}function jie(){return Bie().then(function(){return wie()}).then(function(t){return Pie(t)}).then(function(){return NO()},function(){return NO()})}function Bie(){var t=Cn.getInstance().document;return new Promise(function(e){if(t&&t.readyState!=="complete"){var n=function(){t.readyState==="complete"&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}function NO(){kI=3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RI=10*1e3,$ie=5.5*1e3,xV=3,qie=1e3,Pv=xV,ns=[],kO=!1;function Hie(){kO||(um($ie),kO=!0)}function um(t){setTimeout(function(){if(Pv!==0){if(!ns.length)return um(RI);Kie()}},t)}function Kie(){var t=ns.splice(0,qie),e=t.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}}),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Ht.getInstance().logSource,log_event:e};Wie(n,t).catch(function(){ns=xe(xe([],t),ns),Pv--,_o.info("Tries left: "+Pv+"."),um(RI)})}function Wie(t,e){return Gie(t).then(function(n){return n.ok||_o.info("Call to Firebase backend failed."),n.json()}).then(function(n){var r=Number(n.nextRequestWaitMillis),i=RI;isNaN(r)||(i=Math.max(r,i));var s=n.logResponseDetails;Array.isArray(s)&&s.length>0&&s[0].responseAction==="RETRY_REQUEST_LATER"&&(ns=xe(xe([],e),ns),_o.info("Retry transport request later.")),Pv=xV,um(i)})}function Gie(t){var e=Ht.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}function zie(t){if(!t.eventTime||!t.message)throw En.create("invalid cc log");ns=xe(xe([],ns),[t])}function Yie(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(void 0,e);zie({message:r,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $w;function LV(t,e){$w||($w=Yie(Xie)),$w(t,e)}function dp(t){var e=Ht.getInstance();!e.instrumentationEnabled&&t.isAuto||!e.dataCollectionEnabled&&!t.isAuto||Cn.getInstance().requiredApisAvailable()&&(t.isAuto&&DV()!==Ku.VISIBLE||(Vie()?qw(t):PV().then(function(){return qw(t)},function(){return qw(t)})))}function qw(t){if(NI()){var e=Ht.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(function(){return LV(t,1)},0)}}function Qie(t){var e=Ht.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n===r||n===i||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(function(){return LV(t,0)},0)}}function Xie(t,e){return e===0?Jie(t):Zie(t)}function Jie(t){var e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:MV(),network_request_metric:e};return JSON.stringify(n)}function Zie(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};Object.keys(t.counters).length!==0&&(e.counters=t.counters);var n=t.getAttributes();Object.keys(n).length!==0&&(e.custom_attributes=n);var r={application_info:MV(),trace_metric:e};return JSON.stringify(r)}function MV(){return{google_app_id:Ht.getInstance().getAppId(),app_instance_id:NI(),web_app_info:{sdk_version:EV,page_url:Cn.getInstance().getUrl(),service_worker_status:Aie(),visibility_state:DV(),effective_connection_type:Cie()},application_process_state:0}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eoe=100,toe="_",noe=[IV,SV,AV];function roe(t,e){return t.length===0||t.length>eoe?!1:e&&e.startsWith(TV)&&noe.indexOf(t)>-1||!t.startsWith(toe)}function ioe(t){var e=Math.floor(t);return e<t&&_o.info("Metric value should be an Integer, setting the value as : "+e+"."),e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _f=function(){function t(e,n,r){n===void 0&&(n=!1),this.name=e,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=Cn.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=vie+"-"+this.randomId+"-"+this.name,this.traceStopMark=gie+"-"+this.randomId+"-"+this.name,this.traceMeasure=r||y0+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(this.state!==1)throw En.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(this.state!==2)throw En.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),dp(this)},t.prototype.record=function(e,n,r){if(e<=0)throw En.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw En.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(e*1e3),r&&r.attributes&&(this.customAttributes=ye({},r.attributes)),r&&r.metrics)for(var i=0,s=Object.keys(r.metrics);i<s.length;i++){var a=s[i];isNaN(Number(r.metrics[a]))||(this.counters[a]=Number(Math.floor(r.metrics[a])))}dp(this)},t.prototype.incrementMetric=function(e,n){n===void 0&&(n=1),this.counters[e]===void 0?this.putMetric(e,n):this.putMetric(e,this.counters[e]+n)},t.prototype.putMetric=function(e,n){if(roe(e,this.name))this.counters[e]=ioe(n);else throw En.create("invalid custom metric name",{customMetricName:e})},t.prototype.getMetric=function(e){return this.counters[e]||0},t.prototype.putAttribute=function(e,n){var r=Nie(e),i=kie(n);if(r&&i){this.customAttributes[e]=n;return}if(!r)throw En.create("invalid attribute name",{attributeName:e});if(!i)throw En.create("invalid attribute value",{attributeValue:n})},t.prototype.getAttribute=function(e){return this.customAttributes[e]},t.prototype.removeAttribute=function(e){this.customAttributes[e]!==void 0&&delete this.customAttributes[e]},t.prototype.getAttributes=function(){return ye({},this.customAttributes)},t.prototype.setStartTime=function(e){this.startTimeUs=e},t.prototype.setDuration=function(e){this.durationUs=e},t.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),n=e&&e[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))},t.createOobTrace=function(e,n,r){var i=Cn.getInstance().getUrl();if(i){var s=new t(TV+i,!0),a=Math.floor(Cn.getInstance().getTimeOrigin()*1e3);s.setStartTime(a),e&&e[0]&&(s.setDuration(Math.floor(e[0].duration*1e3)),s.putMetric("domInteractive",Math.floor(e[0].domInteractive*1e3)),s.putMetric("domContentLoadedEventEnd",Math.floor(e[0].domContentLoadedEventEnd*1e3)),s.putMetric("loadEventEnd",Math.floor(e[0].loadEventEnd*1e3)));var c="first-paint",l="first-contentful-paint";if(n){var h=n.find(function(v){return v.name===c});h&&h.startTime&&s.putMetric(IV,Math.floor(h.startTime*1e3));var d=n.find(function(v){return v.name===l});d&&d.startTime&&s.putMetric(SV,Math.floor(d.startTime*1e3)),r&&s.putMetric(AV,Math.floor(r*1e3))}dp(s)}},t.createUserTimingTrace=function(e){var n=new t(e,!1,e);dp(n)},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(t){var e=t;if(!(!e||e.responseStart===void 0)){var n=Cn.getInstance().getTimeOrigin(),r=Math.floor((e.startTime+n)*1e3),i=e.responseStart?Math.floor((e.responseStart-e.startTime)*1e3):void 0,s=Math.floor((e.responseEnd-e.startTime)*1e3),a=e.name&&e.name.split("?")[0],c={url:a,responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:s};Qie(c)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ooe=5e3;function OO(){NI()&&(setTimeout(function(){return aoe()},0),setTimeout(function(){return soe()},0),setTimeout(function(){return uoe()},0))}function soe(){for(var t=Cn.getInstance(),e=t.getEntriesByType("resource"),n=0,r=e;n<r.length;n++){var i=r[n];RO(i)}t.setupObserver("resource",RO)}function aoe(){var t=Cn.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout(function(){_f.createOobTrace(e,n),r=void 0},ooe);t.onFirstInputDelay(function(i){r&&(clearTimeout(r),_f.createOobTrace(e,n,i))})}else _f.createOobTrace(e,n)}function uoe(){for(var t=Cn.getInstance(),e=t.getEntriesByType("measure"),n=0,r=e;n<r.length;n++){var i=r[n];DO(i)}t.setupObserver("measure",DO)}function DO(t){var e=t.name;e.substring(0,y0.length)!==y0&&_f.createUserTimingTrace(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var coe=function(){function t(e){this.app=e,Cn.getInstance().requiredApisAvailable()&&cE().then(function(n){n&&(Hie(),PV().then(OO,OO))}).catch(function(n){_o.info("Environment doesn't support IndexedDB: "+n)})}return t.prototype.trace=function(e){return new _f(e)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return Ht.getInstance().instrumentationEnabled},set:function(e){Ht.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return Ht.getInstance().dataCollectionEnabled},set:function(e){Ht.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var loe="[DEFAULT]";function foe(t){var e=function(n,r){if(n.name!==loe)throw En.create("FB not default");if(typeof window>"u")throw En.create("no window");return _ie(window),Ht.getInstance().firebaseAppInstance=n,Ht.getInstance().installationsService=r,new coe(n)};t.INTERNAL.registerComponent(new kn("performance",function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return e(r,i)},"PUBLIC")),t.registerVersion(pie,bV)}foe(ce);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hoe="firebase_id",doe="origin",poe=60*1e3,voe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",FV="https://www.googletagmanager.com/gtag/js",Nn;(function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"})(Nn||(Nn={}));var _0;(function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"})(_0||(_0={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function goe(t,e,n,r,i){return N(this,void 0,void 0,function(){var s,a;return C(this,function(c){switch(c.label){case 0:return i&&i.global?(t(Nn.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:s=c.sent(),a=ye(ye({},r),{send_to:s}),t(Nn.EVENT,n,a),c.label=3;case 3:return[2]}})})}function moe(t,e,n,r){return N(this,void 0,void 0,function(){var i;return C(this,function(s){switch(s.label){case 0:return r&&r.global?(t(Nn.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=s.sent(),t(Nn.CONFIG,i,{update:!0,screen_name:n}),s.label=3;case 3:return[2]}})})}function yoe(t,e,n,r){return N(this,void 0,void 0,function(){var i;return C(this,function(s){switch(s.label){case 0:return r&&r.global?(t(Nn.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=s.sent(),t(Nn.CONFIG,i,{update:!0,user_id:n}),s.label=3;case 3:return[2]}})})}function _oe(t,e,n,r){return N(this,void 0,void 0,function(){var i,s,a,c,l;return C(this,function(h){switch(h.label){case 0:if(!(r&&r.global))return[3,1];for(i={},s=0,a=Object.keys(n);s<a.length;s++)c=a[s],i["user_properties."+c]=n[c];return t(Nn.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:l=h.sent(),t(Nn.CONFIG,l,{update:!0,user_properties:n}),h.label=3;case 3:return[2]}})})}function woe(t,e){return N(this,void 0,void 0,function(){var n;return C(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln=new Fa("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function boe(t,e){var n=document.createElement("script");n.src=FV+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}function Eoe(t){var e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function Toe(t,e,n,r,i,s){return N(this,void 0,void 0,function(){var a,c,l,h;return C(this,function(d){switch(d.label){case 0:a=r[i],d.label=1;case 1:return d.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return d.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return c=d.sent(),l=c.find(function(v){return v.measurementId===i}),l?[4,e[l.appId]]:[3,6];case 5:d.sent(),d.label=6;case 6:return[3,8];case 7:return h=d.sent(),ln.error(h),[3,8];case 8:return t(Nn.CONFIG,i,s),[2]}})})}function Ioe(t,e,n,r,i){return N(this,void 0,void 0,function(){var s,a,c,l,h,d,v,g,y;return C(this,function(w){switch(w.label){case 0:return w.trys.push([0,4,,5]),s=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(c=w.sent(),l=function(E){var T=c.find(function(O){return O.measurementId===E}),A=T&&e[T.appId];if(A)s.push(A);else return s=[],"break"},h=0,d=a;h<d.length&&(v=d[h],g=l(v),g!=="break");h++);w.label=2;case 2:return s.length===0&&(s=Object.values(e)),[4,Promise.all(s)];case 3:return w.sent(),t(Nn.EVENT,r,i||{}),[3,5];case 4:return y=w.sent(),ln.error(y),[3,5];case 5:return[2]}})})}function Soe(t,e,n,r){function i(s,a,c){return N(this,void 0,void 0,function(){var l;return C(this,function(h){switch(h.label){case 0:return h.trys.push([0,6,,7]),s!==Nn.EVENT?[3,2]:[4,Ioe(t,e,n,a,c)];case 1:return h.sent(),[3,5];case 2:return s!==Nn.CONFIG?[3,4]:[4,Toe(t,e,n,r,a,c)];case 3:return h.sent(),[3,5];case 4:t(Nn.SET,a),h.label=5;case 5:return[3,7];case 6:return l=h.sent(),ln.error(l),[3,7];case 7:return[2]}})})}return i}function Aoe(t,e,n,r,i){var s=function(){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=Soe(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function Coe(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(FV))return r}return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zr,Noe=(Zr={},Zr["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Zr["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Zr["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Zr["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Zr["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Zr["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Zr["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Zr["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Zr["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Zr),Vr=new Eo("analytics","Analytics",Noe);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var koe=30,Roe=1e3,Ooe=function(){function t(e,n){e===void 0&&(e={}),n===void 0&&(n=Roe),this.throttleMetadata=e,this.intervalMillis=n}return t.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},t.prototype.setThrottleMetadata=function(e,n){this.throttleMetadata[e]=n},t.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},t}(),UV=new Ooe;function Doe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function Poe(t){var e;return N(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return C(this,function(h){switch(h.label){case 0:return n=t.appId,r=t.apiKey,i={method:"GET",headers:Doe(r)},s=voe.replace("{app-id}",n),[4,fetch(s,i)];case 1:if(a=h.sent(),!(a.status!==200&&a.status!==304))return[3,6];c="",h.label=2;case 2:return h.trys.push([2,4,,5]),[4,a.json()];case 3:return l=h.sent(),!((e=l.error)===null||e===void 0)&&e.message&&(c=l.error.message),[3,5];case 4:return h.sent(),[3,5];case 5:throw Vr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:c});case 6:return[2,a.json()]}})})}function xoe(t,e,n){return e===void 0&&(e=UV),N(this,void 0,void 0,function(){var r,i,s,a,c,l,h=this;return C(this,function(d){if(r=t.options,i=r.appId,s=r.apiKey,a=r.measurementId,!i)throw Vr.create("no-app-id");if(!s){if(a)return[2,{measurementId:a,appId:i}];throw Vr.create("no-api-key")}return c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new Foe,setTimeout(function(){return N(h,void 0,void 0,function(){return C(this,function(v){return l.abort(),[2]})})},n!==void 0?n:poe),[2,VV({appId:i,apiKey:s,measurementId:a},c,l,e)]})})}function VV(t,e,n,r){var i=e.throttleEndTimeMillis,s=e.backoffCount;return r===void 0&&(r=UV),N(this,void 0,void 0,function(){var a,c,l,h,d,v,g;return C(this,function(y){switch(y.label){case 0:a=t.appId,c=t.measurementId,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Loe(n,i)];case 2:return y.sent(),[3,4];case 3:if(l=y.sent(),c)return ln.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+c)+(' provided in the "measurementId" field in the local Firebase config. ['+l.message+"]")),[2,{appId:a,measurementId:c}];throw l;case 4:return y.trys.push([4,6,,7]),[4,Poe(t)];case 5:return h=y.sent(),r.deleteThrottleMetadata(a),[2,h];case 6:if(d=y.sent(),!Moe(d)){if(r.deleteThrottleMetadata(a),c)return ln.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+c)+(' provided in the "measurementId" field in the local Firebase config. ['+d.message+"]")),[2,{appId:a,measurementId:c}];throw d}return v=Number(d.customData.httpStatus)===503?_b(s,r.intervalMillis,koe):_b(s,r.intervalMillis),g={throttleEndTimeMillis:Date.now()+v,backoffCount:s+1},r.setThrottleMetadata(a,g),ln.debug("Calling attemptFetch again in "+v+" millis"),[2,VV(t,g,n,r)];case 7:return[2]}})})}function Loe(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(function(){clearTimeout(s),r(Vr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Moe(t){if(!(t instanceof Vc)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var Foe=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(e){this.listeners.push(e)},t.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uoe(){return N(this,void 0,void 0,function(){var t;return C(this,function(e){switch(e.label){case 0:return ah()?[3,1]:(ln.warn(Vr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,cE()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),ln.warn(Vr.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}function Voe(t,e,n,r,i,s){return N(this,void 0,void 0,function(){var a,c,l,h,d,v,g;return C(this,function(y){switch(y.label){case 0:return a=xoe(t),a.then(function(w){n[w.measurementId]=w.appId,t.options.measurementId&&w.measurementId!==t.options.measurementId&&ln.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+w.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(w){return ln.error(w)}),e.push(a),c=Uoe().then(function(w){if(w)return r.getId()}),[4,Promise.all([a,c])];case 1:return l=y.sent(),h=l[0],d=l[1],Coe()||boe(s,h.measurementId),i("js",new Date),v=(g={},g[doe]="firebase",g.update=!0,g),d!=null&&(v[hoe]=d),i(Nn.CONFIG,h.measurementId,v),[2,h.measurementId]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var no={},PO=[],xO={},Dp="dataLayer",jV="gtag",LO,zl,w0=!1;function joe(t){if(w0)throw Vr.create("already-initialized");t.dataLayerName&&(Dp=t.dataLayerName),t.gtagName&&(jV=t.gtagName)}function Boe(){var t=[];if(uE()&&t.push("This is a browser extension environment."),ux()||t.push("Cookies are not available."),t.length>0){var e=t.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),n=Vr.create("invalid-analytics-context",{errorInfo:e});ln.warn(n.message)}}function $oe(t,e){Boe();var n=t.options.appId;if(!n)throw Vr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)ln.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+t.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw Vr.create("no-api-key");if(no[n]!=null)throw Vr.create("already-exists",{id:n});if(!w0){Eoe(Dp);var r=Aoe(no,PO,xO,Dp,jV),i=r.wrappedGtag,s=r.gtagCore;zl=i,LO=s,w0=!0}no[n]=Voe(t,PO,xO,e,LO,Dp);var a={app:t,logEvent:function(c,l,h){goe(zl,no[n],c,l,h).catch(function(d){return ln.error(d)})},setCurrentScreen:function(c,l){moe(zl,no[n],c,l).catch(function(h){return ln.error(h)})},setUserId:function(c,l){yoe(zl,no[n],c,l).catch(function(h){return ln.error(h)})},setUserProperties:function(c,l){_oe(zl,no[n],c,l).catch(function(h){return ln.error(h)})},setAnalyticsCollectionEnabled:function(c){woe(no[n],c).catch(function(l){return ln.error(l)})},INTERNAL:{delete:function(){return delete no[n],Promise.resolve()}}};return a}var qoe="@firebase/analytics",Hoe="0.6.18",MO="analytics";function Koe(t){t.INTERNAL.registerComponent(new kn(MO,function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return $oe(r,i)},"PUBLIC").setServiceProps({settings:joe,EventName:_0,isSupported:Woe})),t.INTERNAL.registerComponent(new kn("analytics-internal",e,"PRIVATE")),t.registerVersion(qoe,Hoe);function e(n){try{var r=n.getProvider(MO).getImmediate();return{logEvent:r.logEvent}}catch(i){throw Vr.create("interop-component-reg-failed",{reason:i})}}}Koe(ce);function Woe(){return N(this,void 0,void 0,function(){var t;return C(this,function(e){switch(e.label){case 0:if(uE())return[2,!1];if(!ux())return[2,!1];if(!ah())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,cE()];case 2:return t=e.sent(),[2,t];case 3:return e.sent(),[2,!1];case 4:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Goe=function(){function t(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}return t.prototype.isCachedDataFresh=function(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-n,i=r<=e;return this.logger.debug("Config fetch cache check."+(" Cache age millis: "+r+".")+(" Cache max age millis (minimumFetchIntervalMillis setting): "+e+".")+(" Is cache hit: "+i+".")),i},t.prototype.fetch=function(e){return N(this,void 0,void 0,function(){var n,r,i,s,a;return C(this,function(c){switch(c.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return n=c.sent(),r=n[0],i=n[1],i&&this.isCachedDataFresh(e.cacheMaxAgeMillis,r)?[2,i]:(e.eTag=i&&i.eTag,[4,this.client.fetch(e)]);case 2:return s=c.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],s.status===200&&a.push(this.storage.setLastSuccessfulFetchResponse(s)),[4,Promise.all(a)];case 3:return c.sent(),[2,s]}})})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mn,zoe=(Mn={},Mn["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",Mn["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",Mn["registration-api-key"]="Undefined API key. Check Firebase app initialization.",Mn["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",Mn["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Mn["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Mn["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Mn["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",Mn["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Mn["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',Mn["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',Mn["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Mn["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Mn),Mr=new Eo("remoteconfig","Remote Config",zoe);function Yoe(t,e){return t instanceof Vc&&t.code.indexOf(e)!==-1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qoe(t){return t===void 0&&(t=navigator),t.languages&&t.languages[0]||t.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xoe=function(){function t(e,n,r,i,s,a){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=a}return t.prototype.fetch=function(e){return N(this,void 0,void 0,function(){var n,r,i,s,a,c,l,h,d,v,g,y,w,E,T,A,O,P,x;return C(this,function(B){switch(B.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:n=B.sent(),r=n[0],i=n[1],s=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=s+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,c={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},l={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:this.appId,language_code:Qoe()},h={method:"POST",headers:c,body:JSON.stringify(l)},d=fetch(a,h),v=new Promise(function(M,ie){e.signal.addEventListener(function(){var Z=new Error("The operation was aborted.");Z.name="AbortError",ie(Z)})}),B.label=2;case 2:return B.trys.push([2,5,,6]),[4,Promise.race([d,v])];case 3:return B.sent(),[4,d];case 4:return g=B.sent(),[3,6];case 5:throw y=B.sent(),w="fetch-client-network",y.name==="AbortError"&&(w="fetch-timeout"),Mr.create(w,{originalErrorMessage:y.message});case 6:if(E=g.status,T=g.headers.get("ETag")||void 0,g.status!==200)return[3,11];P=void 0,B.label=7;case 7:return B.trys.push([7,9,,10]),[4,g.json()];case 8:return P=B.sent(),[3,10];case 9:throw x=B.sent(),Mr.create("fetch-client-parse",{originalErrorMessage:x.message});case 10:A=P.entries,O=P.state,B.label=11;case 11:if(O==="INSTANCE_STATE_UNSPECIFIED"?E=500:O==="NO_CHANGE"?E=304:(O==="NO_TEMPLATE"||O==="EMPTY_CONFIG")&&(A={}),E!==304&&E!==200)throw Mr.create("fetch-status",{httpStatus:E});return[2,{status:E,eTag:T,config:A}]}})})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Joe=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(e){this.listeners.push(e)},t.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zoe=!1,ese="",FO=0,tse=["1","true","t","yes","y","on"],Hw=function(){function t(e,n){n===void 0&&(n=ese),this._source=e,this._value=n}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return this._source==="static"?Zoe:tse.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if(this._source==="static")return FO;var e=Number(this._value);return isNaN(e)&&(e=FO),e},t.prototype.getSource=function(){return this._source},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nse=60*1e3,rse=12*60*60*1e3,ise=function(){function t(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:nse,minimumFetchIntervalMillis:rse},this.defaultConfig={}}return t.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=je.DEBUG;break;case"silent":this._logger.logLevel=je.SILENT;break;default:this._logger.logLevel=je.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return N(this,void 0,void 0,function(){var e,n,r;return C(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=i.sent(),n=e[0],r=e[1],!n||!n.config||!n.eTag||n.eTag===r?[2,!1]:[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])];case 2:return i.sent(),[2,!0]}})})},t.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){e._isInitializationComplete=!0})),this._initializePromise},t.prototype.fetch=function(){return N(this,void 0,void 0,function(){var e,n,r,i=this;return C(this,function(s){switch(s.label){case 0:e=new Joe,setTimeout(function(){return N(i,void 0,void 0,function(){return C(this,function(a){return e.abort(),[2]})})},this.settings.fetchTimeoutMillis),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return s.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return s.sent(),[3,6];case 4:return n=s.sent(),r=Yoe(n,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw s.sent(),n;case 6:return[2]}})})},t.prototype.fetchAndActivate=function(){return N(this,void 0,void 0,function(){return C(this,function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}})})},t.prototype.getAll=function(){var e=this;return ose(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(n,r){return n[r]=e.getValue(r),n},{})},t.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},t.prototype.getNumber=function(e){return this.getValue(e).asNumber()},t.prototype.getString=function(e){return this.getValue(e).asString()},t.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var n=this._storageCache.getActiveConfig();return n&&n[e]!==void 0?new Hw("remote",n[e]):this.defaultConfig&&this.defaultConfig[e]!==void 0?new Hw("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new Hw("static"))},t}();function ose(t,e){return t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(ye(ye({},t),e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(t,e){var n=t.target.error||void 0;return Mr.create(e,{originalErrorMessage:n&&n.message})}var Ws="app_namespace_store",sse="firebase_remote_config",ase=1;function use(){return new Promise(function(t,e){var n=indexedDB.open(sse,ase);n.onerror=function(r){e(Pp(r,"storage-open"))},n.onsuccess=function(r){t(r.target.result)},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Ws,{keyPath:"compositeKey"})}}})}var cse=function(){function t(e,n,r,i){i===void 0&&(i=use()),this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(e){return this.set("active_config",e)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(e){return N(this,void 0,void 0,function(){var n,r=this;return C(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var c=n.transaction([Ws],"readonly"),l=c.objectStore(Ws),h=r.createCompositeKey(e);try{var d=l.get(h);d.onerror=function(v){a(Pp(v,"storage-get"))},d.onsuccess=function(v){var g=v.target.result;s(g?g.value:void 0)}}catch(v){a(Mr.create("storage-get",{originalErrorMessage:v&&v.message}))}})]}})})},t.prototype.set=function(e,n){return N(this,void 0,void 0,function(){var r,i=this;return C(this,function(s){switch(s.label){case 0:return[4,this.openDbPromise];case 1:return r=s.sent(),[2,new Promise(function(a,c){var l=r.transaction([Ws],"readwrite"),h=l.objectStore(Ws),d=i.createCompositeKey(e);try{var v=h.put({compositeKey:d,value:n});v.onerror=function(g){c(Pp(g,"storage-set"))},v.onsuccess=function(){a()}}catch(g){c(Mr.create("storage-set",{originalErrorMessage:g&&g.message}))}})]}})})},t.prototype.delete=function(e){return N(this,void 0,void 0,function(){var n,r=this;return C(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var c=n.transaction([Ws],"readwrite"),l=c.objectStore(Ws),h=r.createCompositeKey(e);try{var d=l.delete(h);d.onerror=function(v){a(Pp(v,"storage-delete"))},d.onsuccess=function(){s()}}catch(v){a(Mr.create("storage-delete",{originalErrorMessage:v&&v.message}))}})]}})})},t.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lse=function(){function t(e){this.storage=e}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return N(this,void 0,void 0,function(){var e,n,r,i,s,a;return C(this,function(c){switch(c.label){case 0:return e=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,e];case 1:return i=c.sent(),i&&(this.lastFetchStatus=i),[4,n];case 2:return s=c.sent(),s&&(this.lastSuccessfulFetchTimestampMillis=s),[4,r];case 3:return a=c.sent(),a&&(this.activeConfig=a),[2]}})})},t.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},t.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fse(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(function(){clearTimeout(s),r(Mr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function hse(t){if(!(t instanceof Vc)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var dse=function(){function t(e,n){this.client=e,this.storage=n}return t.prototype.fetch=function(e){return N(this,void 0,void 0,function(){var n;return C(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return n=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,n)]}})})},t.prototype.attemptFetch=function(e,n){var r=n.throttleEndTimeMillis,i=n.backoffCount;return N(this,void 0,void 0,function(){var s,a,c;return C(this,function(l){switch(l.label){case 0:return[4,fse(e.signal,r)];case 1:l.sent(),l.label=2;case 2:return l.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return s=l.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return l.sent(),[2,s];case 5:if(a=l.sent(),!hse(a))throw a;return c={throttleEndTimeMillis:Date.now()+_b(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(c)];case 6:return l.sent(),[2,this.attemptFetch(e,c)];case 7:return[2]}})})},t}(),UO="@firebase/remote-config",pse="0.1.43";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vse(t){t.INTERNAL.registerComponent(new kn("remoteConfig",e,"PUBLIC").setMultipleInstances(!0)),t.registerVersion(UO,pse);function e(n,r){var i=r.instanceIdentifier,s=n.getProvider("app").getImmediate(),a=n.getProvider("installations").getImmediate();if(typeof window>"u")throw Mr.create("registration-window");var c=s.options,l=c.projectId,h=c.apiKey,d=c.appId;if(!l)throw Mr.create("registration-project-id");if(!h)throw Mr.create("registration-api-key");if(!d)throw Mr.create("registration-app-id");i=i||"firebase";var v=new cse(d,s.name,i),g=new lse(v),y=new Fa(UO);y.logLevel=je.ERROR;var w=new Xoe(a,t.SDK_VERSION,i,l,h,d),E=new dse(w,v),T=new Goe(E,v,g,y),A=new ise(s,T,g,v,y);return A.ensureInitialized(),A}}vse(ce);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ei,gse=(ei={},ei["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",ei["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",ei["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",ei["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",ei["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",ei["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",ei["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",ei["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",ei["recaptcha-error"]="ReCAPTCHA error.",ei),yr=new Eo("appCheck","AppCheck",gse);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BV=new Map,mse={activated:!1,tokenObservers:[]},yse={enabled:!1};function Gn(t){return BV.get(t)||mse}function Ui(t,e){BV.set(t,e)}function OI(){return yse}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $V="https://content-firebaseappcheck.googleapis.com/v1beta",_se="exchangeRecaptchaToken",wse="exchangeDebugToken",VO={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bse=function(){function t(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}return t.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},t.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},t.prototype.isRunning=function(){return!!this.pending},t.prototype.process=function(e){return N(this,void 0,void 0,function(){var n;return C(this,function(r){switch(r.label){case 0:this.stop(),r.label=1;case 1:return r.trys.push([1,6,,7]),this.pending=new en,[4,Ese(this.getNextRun(e))];case 2:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return r.sent(),this.pending=new en,[4,this.operation()];case 4:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return r.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return n=r.sent(),this.retryPolicy(n)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}})})},t.prototype.getNextRun=function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n},t}();function Ese(t){return new Promise(function(e){setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(){return self.grecaptcha}function qV(t){if(!Gn(t).activated)throw yr.create("use-before-activation",{appName:t.name})}function Tse(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,n=t==="x"?e:e&3|8;return n.toString(16)})}function Ise(t){return ig.encodeString(JSON.stringify(t),!1)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(t,e){var n=t.url,r=t.body;return N(this,void 0,void 0,function(){var i,s,a,c,l,h,d,v,g,y;return C(this,function(w){switch(w.label){case 0:i={"Content-Type":"application/json"},s=e.getImmediate({optional:!0}),s&&(i["X-Firebase-Client"]=s.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:i},w.label=1;case 1:return w.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return c=w.sent(),[3,4];case 3:throw l=w.sent(),yr.create("fetch-network-error",{originalErrorMessage:l.message});case 4:if(c.status!==200)throw yr.create("fetch-status-error",{httpStatus:c.status});w.label=5;case 5:return w.trys.push([5,7,,8]),[4,c.json()];case 6:return h=w.sent(),[3,8];case 7:throw d=w.sent(),yr.create("fetch-parse-error",{originalErrorMessage:d.message});case 8:if(v=h.ttl.match(/^([\d.]+)(s)$/),!v||!v[2]||isNaN(Number(v[1])))throw yr.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration "+("format: "+h.ttl)});return g=Number(v[1])*1e3,y=Date.now(),[2,{token:h.attestationToken,expireTimeMillis:y+g,issuedAtTimeMillis:y}]}})})}function Sse(t,e){var n=t.options,r=n.projectId,i=n.appId,s=n.apiKey;return{url:$V+"/projects/"+r+"/apps/"+i+":"+_se+"?key="+s,body:{recaptcha_token:e}}}function Ase(t,e){var n=t.options,r=n.projectId,i=n.appId,s=n.apiKey;return{url:$V+"/projects/"+r+"/apps/"+i+":"+wse+"?key="+s,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cse="firebase-app-check-database",Nse=1,Zf="firebase-app-check-store",KV="debug-token",pp=null;function WV(){return pp||(pp=new Promise(function(t,e){try{var n=indexedDB.open(Cse,Nse);n.onsuccess=function(r){t(r.target.result)},n.onerror=function(r){var i;e(yr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Zf,{keyPath:"compositeKey"})}}}catch(r){e(yr.create("storage-open",{originalErrorMessage:r.message}))}}),pp)}function kse(t){return zV(YV(t))}function Rse(t,e){return GV(YV(t),e)}function Ose(t){return GV(KV,t)}function Dse(){return zV(KV)}function GV(t,e){return N(this,void 0,void 0,function(){var n,r,i,s;return C(this,function(a){switch(a.label){case 0:return[4,WV()];case 1:return n=a.sent(),r=n.transaction(Zf,"readwrite"),i=r.objectStore(Zf),s=i.put({compositeKey:t,value:e}),[2,new Promise(function(c,l){s.onsuccess=function(h){c()},r.onerror=function(h){var d;l(yr.create("storage-set",{originalErrorMessage:(d=h.target.error)===null||d===void 0?void 0:d.message}))}})]}})})}function zV(t){return N(this,void 0,void 0,function(){var e,n,r,i;return C(this,function(s){switch(s.label){case 0:return[4,WV()];case 1:return e=s.sent(),n=e.transaction(Zf,"readonly"),r=n.objectStore(Zf),i=r.get(t),[2,new Promise(function(a,c){i.onsuccess=function(l){var h=l.target.result;a(h?h.value:void 0)},n.onerror=function(l){var h;c(yr.create("storage-get",{originalErrorMessage:(h=l.target.error)===null||h===void 0?void 0:h.message}))}})]}})})}function YV(t){return t.options.appId+"-"+t.name}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cm=new Fa("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pse(t){return N(this,void 0,void 0,function(){var e,n;return C(this,function(r){switch(r.label){case 0:if(!ah())return[3,5];e=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,kse(t)];case 2:return e=r.sent(),[3,4];case 3:return n=r.sent(),cm.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,e];case 5:return[2,void 0]}})})}function BO(t,e){return ah()?Rse(t,e).catch(function(n){cm.warn("Failed to write token to indexeddb. Error: "+n)}):Promise.resolve()}function xse(){return N(this,void 0,void 0,function(){var t,e;return C(this,function(n){switch(n.label){case 0:t=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,Dse()];case 2:return t=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return t?[2,t]:(e=Tse(),Ose(e).catch(function(r){return cm.warn("Failed to persist debug token to indexeddb. Error: "+r)}),console.log("AppCheck debug token: "+e+". You will need to whitelist it in the Firebase console for it to work"),[2,e])}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lse(){var t=OI();return t.enabled}function Mse(){return N(this,void 0,void 0,function(){var t;return C(this,function(e){if(t=OI(),t.enabled&&t.token)return[2,t.token.promise];throw Error(`
            Can't get debug token in production mode.
        `)})})}function Fse(){var t=B8();if(!(typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)){var e=OI();e.enabled=!0;var n=new en;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(xse())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Use={error:"UNKNOWN_ERROR"};function xv(t,e,n){return n===void 0&&(n=!1),N(this,void 0,void 0,function(){var r,i,s,a,c,l,h,d,v,g;return C(this,function(y){switch(y.label){case 0:return qV(t),r=Gn(t),i=r.token,s=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:a=y.sent(),a&&eh(a)&&(i=a,Ui(t,ye(ye({},r),{token:i})),$O(t,{token:i.token})),y.label=2;case 2:return!n&&i&&eh(i)?[2,{token:i.token}]:Lse()?(l=HV,h=Ase,d=[t],[4,Mse()]):[3,6];case 3:return[4,l.apply(void 0,[h.apply(void 0,d.concat([y.sent()])),e])];case 4:return c=y.sent(),[4,BO(t,c)];case 5:return y.sent(),Ui(t,ye(ye({},r),{token:c})),[2,{token:c.token}];case 6:return y.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=y.sent(),[3,9];case 8:return v=y.sent(),cm.error(v),s=v,[3,9];case 9:return i?[3,10]:(g=jse(s),[3,12]);case 10:return g={token:i.token},Ui(t,ye(ye({},r),{token:i})),[4,BO(t,i)];case 11:y.sent(),y.label=12;case 12:return $O(t,g),[2,g]}})})}function QV(t,e,n,r,i){var s=Gn(t),a={next:r,error:i,type:n},c=ye(ye({},s),{tokenObservers:xe(xe([],s.tokenObservers),[a])});if(!c.tokenRefresher){var l=Vse(t,e);c.tokenRefresher=l}if(!c.tokenRefresher.isRunning()&&s.isTokenAutoRefreshEnabled&&c.tokenRefresher.start(),s.token&&eh(s.token)){var h=s.token;Promise.resolve().then(function(){return r({token:h.token})}).catch(function(){})}else s.token==null&&s.cachedTokenPromise.then(function(d){d&&eh(d)&&r({token:d.token})}).catch(function(){});Ui(t,c)}function DI(t,e){var n=Gn(t),r=n.tokenObservers.filter(function(i){return i.next!==e});r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),Ui(t,ye(ye({},n),{tokenObservers:r}))}function Vse(t,e){var n=this;return new bse(function(){return N(n,void 0,void 0,function(){var r,i;return C(this,function(s){switch(s.label){case 0:return r=Gn(t),r.token?[3,2]:[4,xv(t,e)];case 1:return i=s.sent(),[3,4];case 2:return[4,xv(t,e,!0)];case 3:i=s.sent(),s.label=4;case 4:if(i.error)throw i.error;return[2]}})})},function(){return!0},function(){var r=Gn(t);if(r.token){var i=r.token.issuedAtTimeMillis+(r.token.expireTimeMillis-r.token.issuedAtTimeMillis)*.5+3e5,s=r.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,s),Math.max(0,i-Date.now())}else return 0},VO.RETRIAL_MIN_WAIT,VO.RETRIAL_MAX_WAIT)}function $O(t,e){for(var n=Gn(t).tokenObservers,r=0,i=n;r<i.length;r++){var s=i[r];try{s.type==="EXTERNAL"&&e.error!=null?s.error(e.error):s.next(e)}catch{}}}function eh(t){return t.expireTimeMillis-Date.now()>0}function jse(t){return{token:Ise(Use),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bse="https://www.google.com/recaptcha/api.js";function $se(t,e){var n=Gn(t),r=new en;Ui(t,ye(ye({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+t.name,s=document.createElement("div");s.id=i,s.style.display="none",document.body.appendChild(s);var a=jO();return a?a.ready(function(){qO(t,e,a,i),r.resolve(a)}):Hse(function(){var c=jO();if(!c)throw new Error("no recaptcha");c.ready(function(){qO(t,e,c,i),r.resolve(c)})}),r.promise}function qse(t){return N(this,void 0,void 0,function(){var e,n;return C(this,function(r){switch(r.label){case 0:return qV(t),e=Gn(t).reCAPTCHAState,[4,e.initialized.promise];case 1:return n=r.sent(),[2,new Promise(function(i,s){var a=Gn(t).reCAPTCHAState;n.ready(function(){i(n.execute(a.widgetId,{action:"fire_app_check"}))})})]}})})}function qO(t,e,n,r){var i=n.render(r,{sitekey:e,size:"invisible"}),s=Gn(t);Ui(t,ye(ye({},s),{reCAPTCHAState:ye(ye({},s.reCAPTCHAState),{widgetId:i})}))}function Hse(t){var e=document.createElement("script");e.src=""+Bse,e.onload=t,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var b0=function(){function t(e){this._siteKey=e}return t.prototype.getToken=function(){return N(this,void 0,void 0,function(){var e;return C(this,function(n){switch(n.label){case 0:if(!this._app||!this._platformLoggerProvider)throw yr.create("use-before-activation",{appName:""});n.label=1;case 1:return n.trys.push([1,3,,4]),[4,qse(this._app)];case 2:return e=n.sent(),[3,4];case 3:throw n.sent(),yr.create("recaptcha-error");case 4:return[2,HV(Sse(this._app,e),this._platformLoggerProvider)]}})})},t.prototype.initialize=function(e,n){this._app=e,this._platformLoggerProvider=n,$se(e,this._siteKey).catch(function(){})},t}(),E0=function(){function t(e){this._customProviderOptions=e}return t.prototype.getToken=function(){return N(this,void 0,void 0,function(){var e,n,r;return C(this,function(i){switch(i.label){case 0:if(!this._app)throw yr.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return e=i.sent(),n=K8(e.token),r=n!==null&&n<Date.now()&&n>0?n*1e3:Date.now(),[2,ye(ye({},e),{issuedAtTimeMillis:r})]}})})},t.prototype.initialize=function(e){this._app=e},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kse(t,e,n,r){var i=Gn(t);if(i.activated)throw yr.create("already-activated",{appName:t.name});var s=ye(ye({},i),{activated:!0});s.cachedTokenPromise=Pse(t).then(function(a){return a&&eh(a)&&Ui(t,ye(ye({},Gn(t)),{token:a})),a}),typeof e=="string"?s.provider=new b0(e):e instanceof b0||e instanceof E0?s.provider=e:s.provider=new E0({getToken:e.getToken}),s.isTokenAutoRefreshEnabled=r===void 0?t.automaticDataCollectionEnabled:r,Ui(t,s),s.provider.initialize(t,n)}function Wse(t,e){var n=Gn(t);n.tokenRefresher&&(e===!0?n.tokenRefresher.start():n.tokenRefresher.stop()),Ui(t,ye(ye({},n),{isTokenAutoRefreshEnabled:e}))}function Gse(t,e,n){return N(this,void 0,void 0,function(){var r;return C(this,function(i){switch(i.label){case 0:return[4,xv(t,e,n)];case 1:if(r=i.sent(),r.error)throw r.error;return[2,{token:r.token}]}})})}function zse(t,e,n,r,i){var s=function(){},a=function(){};return n.next!=null?s=n.next.bind(n):s=n,n.error!=null?a=n.error.bind(n):r&&(a=r),QV(t,e,"EXTERNAL",s,a),function(){return DI(t,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yse(t,e){return{app:t,activate:function(n,r){return Kse(t,n,e,r)},setTokenAutoRefreshEnabled:function(n){return Wse(t,n)},getToken:function(n){return Gse(t,e,n)},onTokenChanged:function(n,r,i){return zse(t,e,n,r)},INTERNAL:{delete:function(){for(var n=Gn(t).tokenObservers,r=0,i=n;r<i.length;r++){var s=i[r];DI(t,s.next)}return Promise.resolve()}}}}function Qse(t,e){return{getToken:function(n){return xv(t,e,n)},addTokenListener:function(n){return QV(t,e,"INTERNAL",n)},removeTokenListener:function(n){return DI(t,n)}}}var Xse="@firebase/app-check",Jse="0.3.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zse="appCheck",HO="app-check-internal";function eae(t){t.INTERNAL.registerComponent(new kn(Zse,function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("platform-logger");return Yse(n,r)},"PUBLIC").setServiceProps({ReCaptchaV3Provider:b0,CustomProvider:E0}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,n,r){var i=e.getProvider(HO);i.initialize()})),t.INTERNAL.registerComponent(new kn(HO,function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("platform-logger");return Qse(n,r)},"PUBLIC").setInstantiationMode("EXPLICIT")),t.registerVersion(Xse,Jse)}eae(ce);Fse();var tae="firebase",XV="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ce.registerVersion(tae,XV,"app");ce.SDK_VERSION=XV;var nae="firebase",rae="8.10.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);ce.registerVersion(nae,rae);var iae="firebase",JV="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ce.registerVersion(iae,JV,"app");ce.SDK_VERSION=JV;const Kw=async(t,e,n)=>{console.log("authGuard"),await new Promise(i=>{const s=ce.auth().onAuthStateChanged(a=>{s(),i(a)})})?n():(alert(`AUTHGUARD
            Vous devez tre connect pour voir ceci. 
            Redirection  la page de connexion.`),n("/sign-in"))},oae=dW({history:RK("/"),routes:[{path:"/",name:"home",component:d8},{path:"/addproduit",name:"addproduit",component:()=>to(()=>import("./AddProduit-OPG3d7fu.js"),__vite__mapDeps([0,1])),beforeEnter:Kw},{path:"/add-cours",name:"add-cours",component:()=>to(()=>import("./AddCours-YP4Jezo1.js"),__vite__mapDeps([2,3])),beforeEnter:Kw},{path:"/cours",component:()=>to(()=>import("./CoursList-4cvYmk3X.js"),__vite__mapDeps([4,3])),beforeEnter:Kw},{path:"/news",name:"news",component:T8},{path:"/apropos",name:"apropos",component:P8},{path:"/contact",name:"contact",component:()=>to(()=>import("./ContactView-GBgxwrVr.js"),__vite__mapDeps([5,6]))},{path:"/backoffice",name:"backoffice",component:()=>to(()=>import("./BackOfficeView-N-pfBmdh.js"),__vite__mapDeps([7,8]))},{path:"/boutique",name:"boutique",component:()=>to(()=>import("./BoutiqueView-7J6eYBzd.js"),__vite__mapDeps([9,10]))},{path:"/seconnecter",name:"seconnecter",component:()=>to(()=>import("./SeConnecterView-XJEl2ieO.js"),__vite__mapDeps([]))},{path:"/validationinscription",name:"validationinscription",component:()=>to(()=>import("./ValidationInscription-ikJwYl7s.js"),__vite__mapDeps([11,12]))},{path:"/produitdataservice",name:"produitdataservice",component:()=>to(()=>import("./ProduitDataService-_dAj3-ZT.js"),__vite__mapDeps([]))}]});ce.initializeApp(r8);fK(n6).use(oae).mount("#app");export{Rr as F,th as _,be as a,Js as b,ji as c,aae as d,ct as e,ce as f,Uq as g,I8 as h,Sq as i,uK as j,ib as k,LN as l,Ai as m,N0 as n,_r as o,Fq as p,VD as q,ED as r,sae as t,uae as u,zN as v,SN as w};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/AddProduit-OPG3d7fu.js","assets/ProduitDataService-_dAj3-ZT.js","assets/AddCours-YP4Jezo1.js","assets/CoursDataService-d70WKct5.js","assets/CoursList-4cvYmk3X.js","assets/ContactView-GBgxwrVr.js","assets/ContactView-ji6oS-nu.css","assets/BackOfficeView-N-pfBmdh.js","assets/BackOfficeView-ZI_Wvgla.css","assets/BoutiqueView-7J6eYBzd.js","assets/BoutiqueView-_9guO0Yc.css","assets/ValidationInscription-ikJwYl7s.js","assets/ValidationInscription-f09vtYA6.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
