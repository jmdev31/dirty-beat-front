import{_ as h,N as a,o,c as l,a as n,F as _,f as p,n as m,t as v}from"./index-ghg2IfFm.js";const w={name:"news-list",components:{NewsDetails},data(){return{news:[],current:null,currentIndex:-1}},methods:{onDataChange(e){let s=[];e.forEach(i=>{let u=i.key,t=i.val();s.push({key:u,title:t.title,description:t.description,logo:t.logo,published:t.published})}),this.news=s},refreshList(){this.currentNews=null,this.currentIndex=-1},setActiveNews(e,s){this.currentNews=e,this.currentIndex=s},removeAllCours(){a.deleteAll().then(()=>{this.refreshList()}).catch(e=>{console.log(e)})}},mounted(){a.getAll().on("value",this.onDataChange)},beforeUnmount(){a.getAll().off("value",this.onDataChange)}},g={class:"list row bg-warning"},f={class:"col-md-6"},N=n("h4",null,"Cours List",-1),k={class:"list-group"},C=["onClick"],b={class:"col-md-6"},A={key:0},y={key:1},D=n("br",null,null,-1),L=n("p",null,"Veuillez choisir une News...",-1),I=[D,L];function B(e,s,i,u,t,d){return o(),l("div",g,[n("div",f,[N,n("ul",k,[(o(!0),l(_,null,p(t.news,(r,c)=>(o(),l("li",{class:m(["list-group-item",{active:c==t.currentIndex}]),key:c,onClick:S=>d.setActiveNews(r,c)},v(r.title),11,C))),128))]),n("button",{class:"m-3 btn btn-sm btn-danger",onClick:s[0]||(s[0]=(...r)=>e.removeAllNews&&e.removeAllNews(...r))},"Tout Suppr")]),n("div",b,[e.currentNews?(o(),l("div",A)):(o(),l("div",y,I))])])}const z=h(w,[["render",B]]);export{z as default};
